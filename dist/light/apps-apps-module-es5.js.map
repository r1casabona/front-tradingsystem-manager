{"version":3,"sources":["webpack:///node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","webpack:///node_modules/@fullcalendar/core/main.esm.js","webpack:///node_modules/@fullcalendar/daygrid/main.esm.js","webpack:///node_modules/atoa/atoa.js","webpack:///node_modules/contra/debounce.js","webpack:///node_modules/contra/emitter.js","webpack:///node_modules/crossvent/src/crossvent.js","webpack:///node_modules/crossvent/src/eventmap.js","webpack:///node_modules/custom-event/index.js","webpack:///node_modules/dragula/classes.js","webpack:///node_modules/dragula/dragula.js","webpack:///node_modules/fast-deep-equal/index.js","webpack:///node_modules/ng2-dragula/__ivy_ngcc__/dist/fesm2015/ng2-dragula.js","webpack:///node_modules/ticky/ticky-browser.js","webpack:///src/app/apps/apps-routing.module.ts","webpack:///src/app/apps/apps.module.ts","webpack:///src/app/apps/calendar/calendar.component.ts","webpack:///src/app/apps/calendar/calendar.component.html","webpack:///src/app/apps/chat/chat.component.ts","webpack:///src/app/apps/chat/chat.component.html","webpack:///src/app/apps/contact-grid/contact-grid.component.ts","webpack:///src/app/apps/contact-grid/contact-grid.component.html","webpack:///src/app/apps/contact-list/contact-list.component.ts","webpack:///src/app/apps/contact-list/contact-list.component.html","webpack:///src/app/apps/drag-drop/drag-drop.component.ts","webpack:///src/app/apps/drag-drop/drag-drop.component.html","webpack:///src/app/apps/support/support.component.ts","webpack:///src/app/apps/support/support.component.html"],"names":["hasOwnProperty","Object","prototype","deepCopy","input","Array","isArray","map","Date","valueOf","mapHash","func","output","key","call","INPUT_NAMES","INPUT_IS_DEEP","header","footer","events","eventSources","resources","OUTPUT_NAMES","FullCalendarComponent","element","dirtyProps","deepCopies","windowResize","dateClick","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","eventPositioned","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","eventResize","drop","eventReceive","eventLeave","_destroyed","navLinkDayClick","navLinkWeekClick","viewSkeletonRender","viewSkeletonDestroy","datesRender","datesDestroy","dayRender","eventRender","eventDestroy","resourceRender","calendar","nativeElement","buildOptions","render","options","forEach","outputName","emit","inputName","inputVal","undefined","deepChangeDetection","copy","changes","currentValue","keys","length","mutateOptions","destroy","ɵfac","FullCalendarComponent_Factory","t","ɵcmp","type","selectors","inputs","customButtons","buttonIcons","themeSystem","bootstrapFontAwesome","firstDay","dir","weekends","hiddenDays","fixedWeekCount","weekNumbers","weekNumbersWithinDays","weekNumberCalculation","businessHours","showNonCurrentDates","height","contentHeight","aspectRatio","handleWindowResize","windowResizeDelay","eventLimit","eventLimitClick","timeZone","now","defaultView","allDaySlot","allDayText","slotDuration","slotLabelFormat","slotLabelInterval","snapDuration","scrollTime","minTime","maxTime","slotEventOverlap","listDayFormat","listDayAltFormat","noEventsMessage","defaultDate","nowIndicator","visibleRange","validRange","dateIncrement","dateAlignment","duration","dayCount","locales","locale","eventTimeFormat","columnHeader","columnHeaderFormat","columnHeaderText","columnHeaderHtml","titleFormat","weekLabel","displayEventTime","displayEventEnd","eventLimitText","dayPopoverFormat","navLinks","selectable","selectMirror","unselectAuto","unselectCancel","defaultAllDayEventDuration","defaultTimedEventDuration","cmdFormatter","defaultRangeSeparator","selectConstraint","selectOverlap","selectAllow","selectMinDistance","editable","eventStartEditable","eventDurationEditable","eventConstraint","eventOverlap","eventAllow","eventClassName","eventClassNames","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","allDayDefault","startParam","endParam","lazyFetching","nextDayThreshold","eventOrder","rerenderDelay","dragRevertDuration","dragScroll","longPressDelay","eventLongPressDelay","droppable","dropAccept","eventDataTransform","allDayMaintainDuration","eventResizableFromStart","timeGridEventMinHeight","allDayHtml","eventDragMinDistance","eventSourceFailure","eventSourceSuccess","forceEventDuration","progressiveEventRendering","selectLongPressDelay","timeZoneParam","titleRangeSeparator","buttonText","views","plugins","schedulerLicenseKey","resourceLabelText","resourceOrder","filterResourcesWithEvents","resourceText","resourceGroupField","resourceGroupText","resourceAreaWidth","resourceColumns","resourcesInitiallyExpanded","slotWidth","datesAboveResources","googleCalendarApiKey","refetchResourcesOnNavigate","eventResourceEditable","outputs","features","decls","vars","template","FullCalendarComponent_Template","rf","ctx","encapsulation","ctorParameters","Boolean","String","Number","FullCalendarModule","ɵmod","ɵinj","factory","FullCalendarModule_Factory","imports","args","selector","ngJitMode","declarations","exports","elementPropHash","className","colSpan","rowSpan","containerTagHash","createElement","tagName","attrs","content","el","document","attrName","applyStyle","setAttribute","innerHTML","appendToElement","htmlToElement","html","trim","container","computeContainerTag","firstChild","htmlToElements","slice","htmlToNodeList","childNodes","substr","normalizeContent","i","appendChild","prependToElement","parent","newEls","afterEl","insertBefore","insertAfterElement","refEl","nextSibling","parentNode","els","Node","removeElement","removeChild","matchesMethod","Element","matches","matchesSelector","msMatchesSelector","closestMethod","closest","documentElement","contains","elementMatches","parentElement","nodeType","elementClosest","findElements","containers","HTMLElement","allMatches","querySelectorAll","j","push","findChildren","parents","children","childNode","forceClassName","bool","classList","add","remove","PIXEL_PROP_RE","props","propName","applyStyleProp","name","val","style","test","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","res","Math","max","min","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","position","border","padding","overflow","direction","body","innerEl","getBoundingClientRect","sanitizeScrollbarWidth","width","round","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","parseInt","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","scrollbarLeftRight","offsetWidth","clientWidth","scrollbarBottom","offsetHeight","clientHeight","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeViewportRect","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","getClippingParents","overflowY","overflowX","computeClippingRect","concat","reduce","rect0","preventDefault","ev","listenBySelector","eventType","handler","realHandler","matchedChild","target","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","realOnMouseLeave_1","transitionEventNames","whenTransitionDone","callback","realCallback","eventName","DAY_IDS","addWeeks","m","n","a","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","UTC","apply","isValidDate","isNaN","INTERNAL_UNITS","PARSE_RE","createDuration","unit","_a","parseString","normalizeObject","s","exec","sign","obj","month","day","getWeeksFromInput","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","durationsEqual","d0","d1","isSingleDay","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","isInt","greatestDurationDenominator","dontReturnWeeks","value","compensateScroll","rowEl","scrollbarWidths","marginLeft","marginRight","uncompensateScroll","disableCursor","enableCursor","distributeHeight","availableHeight","shouldRedistribute","minOffset1","minOffset2","flexEls","flexOffsets","flexHeights","usedHeight","undistributeHeight","minOffset","naturalHeight","naturalOffset","newHeight","matchCellWidths","maxInnerWidth","innerWidth_1","subtractInnerElHeight","reflowStyleProps","diff","resetStyleProps","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","token","split","charAt","field","substring","order","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","b","localeCompare","capitaliseFirstLetter","str","toUpperCase","padStart","len","compareNumbers","applyAll","functions","thisObj","ret","firstDefined","_i","arguments","debounce","wait","timeout","context","timestamp","result","later","last","setTimeout","refineProps","rawProps","processors","defaults","leftoverProps","refined","processor","Function","computeAlignedDayRange","timedRange","dayCnt","start","end","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","range","diffDates","date0","date1","dateEnv","largeUnit","diffWholeYears","diffWholeMonths","extendStatics","setPrototypeOf","__proto__","p","__extends","__","constructor","create","__assign","assign","parseRecurring","eventInput","recurringTypes","leftovers","localLeftovers","parsed","parse","allDay","allDayGuess","typeData","typeId","expandRecurringRanges","eventDef","framingRange","typeDef","recurringDef","markers","expand","subtract","mergeProps","propObjs","complexProps","dest","complexObjs","unshift","filterHash","hash","filtered","newHash","arrayToHash","a_1","item","hashValuesToArray","isPropsEqual","parseEvents","rawEvents","sourceId","allowOpenRange","eventStore","createEmptyEventStore","rawEvents_1","rawEvent","tuple","parseEvent","eventTupleToStore","defs","def","defId","instance","instances","instanceId","expandRecurring","starts","pluginSystem","hooks","starts_1","createEventInstance","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","transformRawEvents","eventSource","calEachTransform","opt","sourceEachTransform","transformEachRawEvent","refinedEvents","rawEvents_2","refinedEvent","mergeEventStores","store0","store1","filterFunc","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","memoize","workerFunc","memoizeOutput","equalityFunc","cachedRes","newRes","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","name_1","buildFormattingFunc","format","formatRange","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","before","after","getLargestUnit","standardDatePropCnt","formatTimeZoneOffset","timeZoneOffset","formatWeekNumber","computeWeekNumber","buildNativeFormattingFunc","sanitizeSettings","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","replace","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","isRtl","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","name_2","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","CmdFormatter","cmdStr","createVerboseFormattingArg","FuncFormatter","createFormatter","defaultSeparator","buildIsoString","stripZeroTime","toISOString","formatIsoTimeString","doIso","abs","mins","startInfo","expandZonedMarker","endInfo","localeCodes","dateInfo","markerToArray","EventSourceApi","internalEventSource","dispatch","refetch","sourceIds","defineProperty","get","publicId","enumerable","configurable","meta","url","EventApi","_calendar","_def","_instance","setProp","_b","DATE_PROPS","NON_DATE_PROPS","mutate","standardProps","UNSCOPED_EVENT_UI_PROPS","ui","backgroundColor","borderColor","startEditable","durationEditable","setExtendedProp","extendedProps","setStart","startInput","instanceRange","startDelta","granularity","maintainDuration","datesDelta","setEnd","endInput","endDelta","hasEnd","setDates","moveStart","deltaInput","delta","moveEnd","moveDates","setAllDay","formatInput","formatter","forcedStartTzo","forcedEndTzo","forcedTzo","mutation","fromApi","state","toDate","title","rendering","constraints","overlap","allows","textColor","classNames","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","filterSegsViaEls","segs","isMirror","view","hasPublicHandlers","filter","seg","custom","publiclyTrigger","event","eventRange","segs_1","setElSeg","fcSeg","getElSeg","eventDefs","compileEventUi","uis","combineEventUis","triggerRenderedSegs","isMirrors","segs_2","publiclyTriggerAfterSizing","loadingLevel","afterSizingTriggers","_eventsPositioned","triggerWillRemoveSegs","segs_3","trigger","segs_4","computeEventDraggable","eventUi","transformers","isDraggableTransformers","transformers_1","transformer","computeEventStartResizable","computeEventEndResizable","applyMutationToEventStore","eventConfigBase","eventConfigs","applyMutationToEventDef","eventDefMutationAppliers","applyMutationToEventInstance","eventConfig","appliers","appliers_1","applier","eventInstance","forceAllDay","clearEnd","getDefaultEventEnd","reduceEventStore","action","dateProfile","receiveRawEvents","fetchId","fetchRange","addEvent","activeRange","rezoneDates","oldDateEnv","applyMutationToRelated","excludeInstances","excludeEventsBySourceId","latestFetchId","subset","expandRange","newDateEnv","canComputeOffset","relevant","removals","isInteractionValid","interaction","isNewPropsValid","eventDrag","isDateSelectionValid","dateSelection","newProps","eventSelection","isPropsValid","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","mutatedEvents","subjectDefs","subjectInstances","subjectConfigs","isEvent","selectionConfig","otherEventStore","affectedEvents","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","overlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","eventApi","buildDateSpanApi","relevantEventStore","relevantDefs","relevantInstances","selection","selectionRange","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","constraint","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","normalizeConstraint","htmlEscape","cssToStr","cssProps","statements","attrsToStr","parseClassName","raw","allow","color","processUnscopedUiProps","processScopedUiProps","prefix","rawScoped","rawUnscoped","wasFound","scopedKey","EMPTY_EVENT_UI","combineTwoEventUis","item0","item1","id","uid","computeIsAllDayDefault","leftovers0","recurringRes","parseEventDef","leftovers1","singleRes","parseSingle","pluckNonDateProps","eventDefParsers","eventDefParser","newLeftovers","freeze","pluckDateProps","startMeta","startMarker","endMeta","endMarker","createMarkerMeta","isTimeUnspecified","preLeftovers","source","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","memoizeRendering","renderFunc","unrenderFunc","dependencies","dependents","thisContext","prevArgs","unrender","dependents_1","dependent","dependencies_1","dependency","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","_this","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventResizes","info","buildEventUiForKey","keyInfo","buildEventUi","dateSpan","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","splitStates","affectedStores_1","mutatedKeysByDefId","mutatedStores_1","populate","origSeg","allUi","eventUiForKey","baseParts","stuff","buildGotoAnchorHtml","allOptions","gotoOptions","innerHtml","forceOff","finalOptions","formatIso","omitTime","JSON","stringify","getAllDayHtml","getDayClasses","noThemeHighlight","theme","classes","todayStart","todayEnd","monthMode","currentRange","getNow","getClass","unpromisify","success","failure","isResolved","wrappedSuccess","wrappedFailure","then","Mixin","mixInto","destClass","mixIntoObj","destObj","getOwnPropertyNames","mixOver","EmitterMixin","_super","on","addToHash","_handlers","one","_oneHandlers","off","removeFromHash","triggerWith","hasHandlers","PositionCache","originEl","isHorizontal","isVertical","build","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","ScrollComponent","applyOverflow","clear","setHeight","lockOverflow","getScrollbarWidths","Theme","calendarOptions","processIconOverride","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","iconOverridePrefix","getIconClass","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","guid","ComponentContext","eventOrderSpecs","extend","Component","addEqualityFuncs","newFuncs","equalityFuncs","receiveProps","oldContext","firstContext","recycleProps","anyChanges","comboProps","beforeUpdate","afterUpdate","oldProps","DateComponent","buildPositionCaches","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isPopover","isInPopover","isValidDateDownEl","segEl","fgSegSelector","bgSegSelector","uid$1","createPlugin","deps","reducers","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","dateSpanTransforms","viewPropsTransformers","externalDefTransforms","eventResizeJoinTransforms","viewContainerModifiers","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","eventSourceDefs","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","PluginSystem","addedHash","plugin","dep","combineHooks","hooks0","hooks1","eventSourceDef","ignoreRange","parseMeta","fetch","arg","ArrayEventSourcePlugin","eventSourceDef$1","bind","startStr","endStr","FuncEventSourcePlugin","requestJson","method","params","successCallback","failureCallback","injectQueryStringParams","encodeParams","xhr","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","eventSourceDef$2","extraParams","requestParams","buildRequestParams","errorMessage","message","JsonFeedEventSourcePlugin","customRequestParams","recurring","startRecur","endRecur","anyValid","clippedFramingRange","expandRanges","SimpleRecurrencePlugin","dowHash","dayMarker","instanceStarts","instanceStart","DefaultOptionChangeHandlers","deepEqual","handleEventSources","handlePlugins","unfoundSources","newInputs","inputs_1","inputFound","_raw","unfoundSources_1","unfoundSource","newInputs_1","newInput","addEventSource","addPluginInputs","config","globalDefaults","center","rtlDefaults","prev","next","prevYear","nextYear","complexOptions","mergeOptions","optionObjs","INTERNAL_PLUGINS","refinePluginDefs","pluginInputs","pluginInputs_1","pluginInput","globalName","console","warn","RAW_EN_LOCALE","code","today","list","parseRawLocales","explicitRawLocales","defaultCode","globalArray","globalObject","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","OptionsManager","overrides","dynamicOverrides","compute","updates","isDynamic","overrideHash","removals_1","localeDefaults","dirDefaults","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","DateEnv","settings","isNamedTimeZone","namedTimeZoneImpl","weekDow","weekDoy","weekNumberFunc","createNowMarker","timestampToMarker","getYear","addYears","addMonths","greatestWholeUnit","countDurationsBetween","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","SIMPLE_SOURCE_PROPS","uid$2","doesSourceNeedRange","sourceDefId","parseEventSource","parseEventSourceProps","isFetching","reduceEventSources","addSources","sources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","uid$3","eventSourceHash","sources_1","sourceHash","isSourceDirty","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","calSuccess","calSuccessRes","sourceSuccessRes","error","callFailure","DateProfileGenerator","viewSpec","initHiddenDays","buildPrev","currentDateProfile","currentDate","prevDate","currentRangeUnit","buildNext","nextDate","forceToValid","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","getRangeOption","durationUnit","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","usesMinMaxTime","alignment","dateIncrementInput","dateIncrementDuration","isHiddenDay","skipHiddenDays","computeRes","customAlignment","runningCount","fallback","otherArgs","isHiddenDayHash","Error","inc","isExclusive","isDateProfilesEqual","p0","p1","viewType","reduceViewType","reduceDateProfile","nextState","reduceCurrentDate","reduceDateSelection","reduceSelectedEvent","reduceEventDrag","reduceEventResize","eventSourceLoadingLevel","computeLoadingLevel","reducerFunc","currentViewType","newDateProfile","dateProfileGenerators","dateMarker","generator","newDate","currentSelection","currentInstanceId","eventInstanceId","currentDrag","newDrag","currentResize","newResize","cnt","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDatePointApi","dateStr","fabricateEventRange","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","superType","findViewNameBySubclass","superDef","viewSubclass","configs","superProto","getPrototypeOf","parseViewConfigs","parseViewConfig","VIEW_DEF_PROPS","buildViewSpecs","defaultInputs","optionsManager","viewDefs","buildViewSpec","durationInput","singleUnit","singleUnitOverrides","denom","queryButtonText","buttonTextMap","buttonTextKey","buttonTextOverride","buttonTextDefault","Toolbar","extraClassName","_renderLayout","renderLayout","unrenderLayout","_updateTitle","updateTitle","_updateActiveButton","updateActiveButton","_updateToday","updateToday","_updatePrev","updatePrev","_updateNext","updateNext","layout","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","viewsWithButtons","renderSection","buttonStr","viewSpecs","sectionEl","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","buttonGroupStr","groupChildren","isOnlyButtons","groupEl","buttonClick","buttonIcon","buttonInnerHtml","buttonClasses","buttonEl","buttonAriaAttr","click","text","changeView","buttonGroupClassName","toggleButtonEnabled","titleEl","innerText","disabled","CalendarComponent","elClassNames","renderSkeleton","_renderSkeleton","_unrenderSkeleton","renderToolbars","_renderToolbars","_unrenderToolbars","buildComponentContext","buildViewPropTransformers","computeTitle","freezeHeight","renderView","updateSize","thawHeight","updateElClassNames","contentEl","modifyViewContainer","savedScroll","queryScroll","removeElClassNames","headerLayout","footerLayout","dateProfileGenerator","todayInfo","prevInfo","nextInfo","toolbarProps","addScroll","viewProps","transform","isResize","isHeightAuto","computeHeightVars","viewHeight","updateNowIndicator","popScroll","heightInput","contentHeightInput","queryToolbarsHeight","parentEl","viewOptions","computeTitleFormat","theClasses","Interaction","component","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","EventClicking","handleSegClick","hasUrlContainer","querySelector","href","jsEvent","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","StandardTheme","widget","widgetHeader","widgetContent","buttonGroup","button","buttonActive","popoverHeader","popoverContent","headerRow","dayRow","listView","close","Calendar","buildComponentContext$1","buildDateEnv","buildTheme","buildEventUiSingleBase","_buildEventUiSingleBase","buildSelectionConfig","_buildSelectionConfig","buildEventUiBySource","buildEventUiBases","interactionsStore","actionQueue","isReducing","needsRerender","isRendering","renderingPauseDepth","buildDelayedRerender","isViewUpdated","isDatesUpdated","isEventsUpdated","handleOptions","hydrate","calendarInteractionClass","pluginDefs","pluginDefs_1","pluginDef","renderableEventStore","bindHandlers","executeRender","requestRerender","unbindHandlers","removeNavLinkListener","anchorEl","getAttribute","customAction","viewOpt","zoomTo","windowResizeProxy","buildInitialState","rawSources","singleRawSource","rawSources_1","rawSource","batchRendering","getInitialDate","oldState","shift","newState","delayedRerender","tryRerender","renderComponent","eventUiSingleBase","eventUiBySource","releaseAfterSizingTriggers","setOption","getOption","viewOpts","changeHandlers","normalUpdates","specialUpdates","isTimeZoneDirty","isSizeDirty","anyDifficultOptions","name_3","pluginHooks","availableRawLocales","dateProfileGeneratorClass","getAvailableLocaleCodes","rawOpts","eventEditable","optHandler","name_4","isValidViewType","dateOrRange","spec","getUnitViewSpec","viewTypes","defaultDateInput","gotoDate","zonedDateInput","incrementDate","formatDate","isHandlingWindowResize","registerInteractiveComponent","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","interactionClass","unregisterInteractiveComponent","listener","dateOrObj","endDate","selectionInput","triggerDateSelect","pev","triggerDateUnselect","origEvent","triggerDateClick","dayEl","sourceInput","sourceApi","getEventSourceById","getEventById","getEvents","eventApis","removeAllEvents","rerenderEvents","getEventSources","sourceApis","internalId","removeAllEventSources","refetchEvents","scrollToTime","timeInput","scrollToDuration","themeClass","View","renderDatesMem","renderDatesWrap","unrenderDatesWrap","renderBusinessHoursMem","renderBusinessHours","unrenderBusinessHours","renderDateSelectionMem","renderDateSelectionWrap","unrenderDateSelectionWrap","renderEventsMem","renderEvents","unrenderEvents","renderEventSelectionMem","renderEventSelectionWrap","unrenderEventSelectionWrap","renderEventDragMem","renderEventDragWrap","unrenderEventDragWrap","renderEventResizeMem","renderEventResizeWrap","unrenderEventResizeWrap","initialize","isAuto","updateBaseSize","renderDates","stopNowIndicator","unrenderDates","renderDateSelection","unrenderDateSelection","sliceEvents","renderEventSelection","unrenderEventSelection","renderEventDrag","unrenderEventDrag","renderEventResize","unrenderEventResize","startNowIndicator","update","delay","initialNowDate","getNowIndicatorUnit","initialNowQueriedMs","nowIndicatorTimeoutID","nowIndicatorIntervalID","setInterval","unrenderNowIndicator","renderNowIndicator","isNowIndicatorRendered","clearTimeout","clearInterval","isForced","queuedScroll","applyQueuedScroll","applyScroll","queryDateScroll","computeDateScroll","applyDateScroll","FgEventRenderer","renderSegs","mirrorInfo","rangeUpdated","renderSegEls","attachSegs","_segs","detachSegs","computeEventTimeFormat","computeDisplayEventTime","computeDisplayEventEnd","renderSegHtml","getSegClasses","isDraggable","isResizable","isDragging","isResizing","getTimeText","displayEnd","_getTimeText","getSkinCss","sortEventSegs","objs","buildSegCompareObj","c","_seg","computeSizes","force","computeSegSizes","assignSizes","assignSegSizes","hideByHash","visibility","showByHash","selectByInstanceId","unselectByInstanceId","FillRenderer","fillSegTag","dirtySizeFlags","containerElsByType","segsByType","getSegsByType","renderedSegs","containerEls","css","toLowerCase","NamedTimeZoneImpl","ElementDragging","emitter","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","dateInput","buildDateEnv$1","dateMeta","DRAG_META_PROPS","DRAG_META_DEFAULTS","parseDragMeta","computeFallbackHeaderFormat","datesRepDistinctDays","renderDateCell","colCnt","colHeadFormat","colspan","otherAttrs","isDateValid","DayHeader","dates","renderIntroHtml","dates_1","thead","DaySeries","indices","dayIndex","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTable","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","index","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","sourceSeg","eventRanges","eventRanges_1","sliceEventRange","isComponentAllDay","version","DayGridDateProfileGenerator","endOfWeek","Popover","isHidden","margin","documentMousedown","hide","show","autoHide","elDims","origin","offsetParent","clippingRect","SimpleDayGridEventRenderer","isResizableFromStart","isResizableFromEnd","skinCss","timeHtml","timeText","titleHtml","DayGridEventRenderer","dayGrid","rowStructs","renderSegRows","rowEls","rowNode","tbodyEl","removeSegPopover","rowStruct","pop","segRows","groupSegRows","renderSegRow","rowSegs","segLevels","buildSegLevels","levelCnt","tbody","segMatrix","cellMatrix","loneCellMatrix","levelSegs","tr","td","emptyCellsUntil","endCol","leftCol","rightCol","introHtml","renderProps","levels","isDaySegCollision","level","compareDaySegCols","otherSegs","otherSeg","DayGridMirrorRenderer","skeletonEl","skeletonTopEl","skeletonTop","EMPTY_CELL_HTML","DayGridFillRenderer","renderFillRow","startCol","trEl","getElementsByTagName","DayTile","eventRenderer","DayTileEventRenderer","renderFrame","_renderFrame","renderFgEvents","fgSegs","eventDragInstances","eventResizeInstances","segContainerEl","layer","dayTile","DayBgRow","renderHtml","cell","renderCellHtml","htmlAttrs","DAY_NUM_FORMAT","WEEK_NUM_FORMAT","DayGrid","bottomCoordPadding","isCellSizesDirty","fillRenderer","mirrorRenderer","renderCells","_renderCells","_unrenderCells","renderBgEvents","_renderEventDrag","_unrenderEventDrag","_renderEventResize","_unrenderEventResize","isRigid","segPopoverTile","updateSegPopoverTile","getCellRange","ownProps","renderDayRowHtml","cellEls","rowPositions","colPositions","getCellEl","bgRow","renderBgIntroHtml","getIsNumbersVisible","renderNumberTrHtml","getIsDayNumbersVisible","cellWeekNumbersVisible","colWeekNumbersVisible","intro","renderNumberIntroHtml","renderNumberCellsHtml","htmls","renderNumberCellHtml","isDayNumberVisible","weekCalcFirstDow","buildColPositions","buildRowPositions","positionToHit","relativeRect","segPopover","limitRows","levelLimit","rowLevelLimit","unlimitRow","computeRowLevelLimit","limitRow","rowBottom","trEls","moreNodes","limitedNodes","segsBelow","totalSegsBelow","colSegsBelow","segMoreNodes","moreTd","moreWrap","moreLink","getCellSegs","renderMoreLink","node","moreEls","limitedEls","limitedEl","hiddenSegs","getMoreLinkText","clickOption","_col","moreEl","currentTarget","allSegs","reslicedAllSegs","resliceDaySegs","reslicedHiddenSegs","showSegPopover","topEl","dayDate","dayEnd","dayRange","newSegs","startLevel","WEEK_NUM_FORMAT$1","AbstractDayGridView","processOptions","_processOptions","renderHeadIntroHtml","weekNumberStyleAttr","renderDayGridNumberIntroHtml","weekStart","renderDayGridBgIntroHtml","renderDayGridIntroHtml","renderSkeletonHtml","scroller","dayGridContainerEl","dayGridEl","weekNumberWidth","hasRigidRows","headRowEl","scrollerHeight","computeScrollerHeight","setGridHeight","SimpleDayGrid","slicer","DayGridSlicer","dayTable","rawHit","DayGridView","buildDayTable","simpleDayGrid","main","dayGridDay","dayGridWeek","dayGridMonth","module","atoa","ticky","fn","run","thing","opts","evt","once","_once","et","emitterSnapshot","listen","async","customEvent","eventmap","doc","global","addEventEasy","removeEvent","removeEventEasy","hardCache","addEventHard","removeEventHard","fabricate","fabricateEvent","capturing","attachEvent","wrap","unwrap","detachEvent","model","e","makeCustomEvent","makeClassicEvent","dispatchEvent","fireEvent","createEvent","initEvent","createEventObject","detail","wrapperFactory","wrapper","originalEvent","srcElement","returnValue","stopPropagation","cancelBubble","which","keyCode","find","eventname","ron","NativeCustomEvent","CustomEvent","useNative","foo","initCustomEvent","bubbles","cancelable","cache","lookupClass","cached","RegExp","addClass","current","rmClass","rm","crossvent","dragula","initialContainers","_mirror","_source","_item","_offsetX","_offsetY","_moveX","_moveY","_initialSibling","_currentSibling","_copy","_renderTimer","_lastDropTarget","_grabbed","o","moves","always","accepts","invalid","invalidTarget","isContainer","never","copySortSource","revertOnSpill","removeOnSpill","ignoreInputTextSelection","mirrorContainer","drake","manualStart","cancel","canMove","dragging","spillOver","spillOut","op","touchy","grab","release","eventualMovements","startBecauseMouseMoved","movements","preventGrabbed","clientX","clientY","ignore","whichMouseButton","metaKey","ctrlKey","canStart","isInput","focus","getCoord","elementBehindCursor","elementFromPoint","grabbed","offset","getOffset","renderMirrorImage","drag","handle","getParent","movable","nextEl","isCopy","cloneNode","ungrab","getElementBehindPoint","dropTarget","findDropTarget","isInitialPlacement","cleanup","revert","reverts","initial","removeMirrorImage","sibling","accepted","immediate","getImmediateChild","reference","getReference","x","changed","out","over","moved","getRectWidth","getRectHeight","horizontal","inside","outside","resolve","touch","mouseup","mousedown","mousemove","pointers","microsoft","navigator","pointerEnabled","msPointerEnabled","touches","buttons","getScroll","scrollProp","offsetProp","isEditable","contentEditable","nextElementSibling","manually","getEventHost","targetTouches","changedTouches","coord","host","missMap","pageX","pageY","equal","flags","toString","Group","initEvents","EventTypes","Cancel","Cloned","Drag","DragEnd","Drop","Out","Over","Remove","Shadow","DropModel","RemoveModel","AllEvents","k","DrakeFactory","filterEvent","filterDragType","projector","pipe","elContainerSourceProjector","DragulaService","drakeFactory","dispatch$","groupName","dragend","elContainerSource","shadow","cloned","clone","original","cloneType","dropModel","sourceModel","targetModel","sourceIndex","targetIndex","removeModel","groups","group","existingGroup","handleModels","setupEvents","dragElm","dragIndex","dropIndex","models","domIndexOf","dropElm","isCopying","copyItem","child","DragulaService_Factory","ɵprov","decorators","DragulaDirective","dragulaService","dragulaModelChange","previousValue","firstChange","hadPreviousValue","hasNewValue","teardown","setup","dragulaModel","prevIndex","checkModel","createGroup","subscribe","subs","unsubscribe","itemToRemove","modelIndex","DragulaDirective_Factory","ɵdir","propDecorators","DragulaModule","ngModule","providers","DragulaModule_Factory","MockDrakeFactory","MockDrake","emitter$","si","setImmediate","tick","routes","path","AppsRoutingModule","forChild","AppsModule","forRoot","calendarVisible","calendarPlugins","calendarWeekends","calendarEvents","templateUrl","styleUrls","ChatComponent","hideRequiredControl","ContactGridComponent","ELEMENT_DATA","checked","imageUrl","phoneNo","address","ContactListComponent","displayedColumns","dataSource","paginator","DragDropComponent","BAG","log","removeClass","hasClass","email","subject","assignTo","SupportComponent","$","sparkline","barColor","negBarColor","barWidth","sliceColors","lineColor","lineWidth","fillColor","spotColor","maxSpotColor","minSpotColor","spotRadius","highlightSpotColor"],"mappings":"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A;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;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","file":"apps-apps-module-es5.js","sourcesContent":["import { __decorate, __metadata } from 'tslib';\nimport deepEqual from 'fast-deep-equal';\nimport { EventEmitter, ElementRef, Input, Output, Component, NgModule } from '@angular/core';\nimport { Calendar } from '@fullcalendar/core';\n\nimport * as ɵngcc0 from '@angular/core';\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\n/*\nthe docs point to this file as an index of options.\nwhen this files is moved, update the docs.\n*/\nconst INPUT_NAMES = [\n    'header',\n    'footer',\n    'customButtons',\n    'buttonIcons',\n    'themeSystem',\n    'bootstrapFontAwesome',\n    'firstDay',\n    'dir',\n    'weekends',\n    'hiddenDays',\n    'fixedWeekCount',\n    'weekNumbers',\n    'weekNumbersWithinDays',\n    'weekNumberCalculation',\n    'businessHours',\n    'showNonCurrentDates',\n    'height',\n    'contentHeight',\n    'aspectRatio',\n    'handleWindowResize',\n    'windowResizeDelay',\n    'eventLimit',\n    'eventLimitClick',\n    'timeZone',\n    'now',\n    'defaultView',\n    'allDaySlot',\n    'allDayText',\n    'slotDuration',\n    'slotLabelFormat',\n    'slotLabelInterval',\n    'snapDuration',\n    'scrollTime',\n    'minTime',\n    'maxTime',\n    'slotEventOverlap',\n    'listDayFormat',\n    'listDayAltFormat',\n    'noEventsMessage',\n    'defaultDate',\n    'nowIndicator',\n    'visibleRange',\n    'validRange',\n    'dateIncrement',\n    'dateAlignment',\n    'duration',\n    'dayCount',\n    'locales',\n    'locale',\n    'eventTimeFormat',\n    'columnHeader',\n    'columnHeaderFormat',\n    'columnHeaderText',\n    'columnHeaderHtml',\n    'titleFormat',\n    'weekLabel',\n    'displayEventTime',\n    'displayEventEnd',\n    'eventLimitText',\n    'dayPopoverFormat',\n    'navLinks',\n    'selectable',\n    'selectMirror',\n    'selectMinDistance',\n    'unselectAuto',\n    'unselectCancel',\n    'defaultAllDayEventDuration',\n    'defaultTimedEventDuration',\n    'cmdFormatter',\n    'defaultRangeSeparator',\n    'selectConstraint',\n    'selectOverlap',\n    'selectAllow',\n    'editable',\n    'eventStartEditable',\n    'eventDurationEditable',\n    'eventConstraint',\n    'eventOverlap',\n    'eventAllow',\n    'eventClassName',\n    'eventClassNames',\n    'eventBackgroundColor',\n    'eventBorderColor',\n    'eventTextColor',\n    'eventColor',\n    'events',\n    'eventSources',\n    'allDayDefault',\n    'startParam',\n    'endParam',\n    'lazyFetching',\n    'nextDayThreshold',\n    'eventOrder',\n    'rerenderDelay',\n    'dragRevertDuration',\n    'dragScroll',\n    'longPressDelay',\n    'eventLongPressDelay',\n    'droppable',\n    'dropAccept',\n    'eventDataTransform',\n    'allDayMaintainDuration',\n    'eventResizableFromStart',\n    'timeGridEventMinHeight',\n    'allDayHtml',\n    'eventDragMinDistance',\n    'eventSourceFailure',\n    'eventSourceSuccess',\n    'forceEventDuration',\n    'progressiveEventRendering',\n    'selectLongPressDelay',\n    'selectMinDistance',\n    'timeZoneParam',\n    'titleRangeSeparator',\n    // compound OptionsInput...\n    'buttonText',\n    'views',\n    'plugins',\n    // scheduler...\n    'schedulerLicenseKey',\n    'resources',\n    'resourceLabelText',\n    'resourceOrder',\n    'filterResourcesWithEvents',\n    'resourceText',\n    'resourceGroupField',\n    'resourceGroupText',\n    'resourceAreaWidth',\n    'resourceColumns',\n    'resourcesInitiallyExpanded',\n    'slotWidth',\n    'datesAboveResources',\n    'googleCalendarApiKey',\n    'refetchResourcesOnNavigate',\n    'eventResourceEditable'\n];\nconst INPUT_IS_DEEP = {\n    header: true,\n    footer: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\nconst OUTPUT_NAMES = [\n    'windowResize',\n    'dateClick',\n    'eventClick',\n    'navLinkDayClick',\n    'navLinkWeekClick',\n    'eventMouseEnter',\n    'eventMouseLeave',\n    'select',\n    'unselect',\n    'loading',\n    'eventPositioned',\n    'eventDragStart',\n    'eventDragStop',\n    'eventDrop',\n    'eventResizeStart',\n    'eventResizeStop',\n    'eventResize',\n    'drop',\n    'eventReceive',\n    'eventLeave',\n    '_destroyed',\n    // TODO: make these inputs...\n    'viewSkeletonRender',\n    'viewSkeletonDestroy',\n    'datesRender',\n    'datesDestroy',\n    'dayRender',\n    'eventRender',\n    'eventDestroy',\n    'resourceRender'\n];\n\nlet FullCalendarComponent = class FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.dirtyProps = {};\n        this.deepCopies = {}; // holds frozen states\n        this.windowResize = new EventEmitter();\n        this.dateClick = new EventEmitter();\n        this.eventClick = new EventEmitter();\n        this.eventMouseEnter = new EventEmitter();\n        this.eventMouseLeave = new EventEmitter();\n        this.select = new EventEmitter();\n        this.unselect = new EventEmitter();\n        this.loading = new EventEmitter();\n        this.eventPositioned = new EventEmitter();\n        this.eventDragStart = new EventEmitter();\n        this.eventDragStop = new EventEmitter();\n        this.eventDrop = new EventEmitter();\n        this.eventResizeStart = new EventEmitter();\n        this.eventResizeStop = new EventEmitter();\n        this.eventResize = new EventEmitter();\n        this.drop = new EventEmitter();\n        this.eventReceive = new EventEmitter();\n        this.eventLeave = new EventEmitter();\n        this._destroyed = new EventEmitter();\n        this.navLinkDayClick = new EventEmitter();\n        this.navLinkWeekClick = new EventEmitter();\n        // TODO: make these inputs...\n        this.viewSkeletonRender = new EventEmitter();\n        this.viewSkeletonDestroy = new EventEmitter();\n        this.datesRender = new EventEmitter();\n        this.datesDestroy = new EventEmitter();\n        this.dayRender = new EventEmitter();\n        this.eventRender = new EventEmitter();\n        this.eventDestroy = new EventEmitter();\n        this.resourceRender = new EventEmitter();\n    }\n    ngAfterViewInit() {\n        this.calendar = new Calendar(this.element.nativeElement, this.buildOptions());\n        this.calendar.render();\n    }\n    buildOptions() {\n        const options = {};\n        OUTPUT_NAMES.forEach(outputName => {\n            options[outputName] = (...args) => {\n                this[outputName].emit(...args);\n            };\n        });\n        // do after outputs, so that inputs with same name override\n        INPUT_NAMES.forEach(inputName => {\n            let inputVal = this[inputName];\n            if (inputVal !== undefined) { // unfortunately FC chokes when some props are set to undefined\n                if (this.deepChangeDetection && INPUT_IS_DEEP[inputName]) {\n                    inputVal = deepCopy(inputVal);\n                    this.deepCopies[inputName] = inputVal; // side effect!\n                }\n                options[inputName] = inputVal;\n            }\n        });\n        return options;\n    }\n    /*\n    called before ngOnChanges, allows us to manually detect input changes.\n    called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar && this.deepChangeDetection) { // not the initial render AND we do deep-mutation checks\n            const { deepCopies } = this;\n            for (const inputName in INPUT_IS_DEEP) {\n                if (INPUT_IS_DEEP.hasOwnProperty(inputName)) {\n                    const inputVal = this[inputName];\n                    if (inputVal !== undefined) { // unfortunately FC chokes when some props are set to undefined\n                        if (!deepEqual(inputVal, deepCopies[inputName])) {\n                            const copy = deepCopy(inputVal);\n                            deepCopies[inputName] = copy;\n                            this.dirtyProps[inputName] = copy;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    /*\n    called with confirmed changes to input references\n    */\n    ngOnChanges(changes) {\n        if (this.calendar) { // not the initial render\n            for (const inputName in changes) {\n                if (changes.hasOwnProperty(inputName)) {\n                    if (this.deepCopies[inputName] === undefined) { // not already handled in ngDoCheck\n                        this.dirtyProps[inputName] = changes[inputName].currentValue;\n                    }\n                }\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        const { dirtyProps } = this; // hold on to reference before clearing\n        if (Object.keys(dirtyProps).length > 0) {\n            this.dirtyProps = {}; // clear first, in case the rerender causes new dirtiness\n            this.calendar.mutateOptions(dirtyProps, [], false, deepEqual);\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) {\n            this.calendar.destroy();\n        }\n        this.calendar = null;\n    }\n    getApi() {\n        return this.calendar;\n    }\n};\nFullCalendarComponent.ɵfac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFullCalendarComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { deepChangeDetection: \"deepChangeDetection\", header: \"header\", footer: \"footer\", customButtons: \"customButtons\", buttonIcons: \"buttonIcons\", themeSystem: \"themeSystem\", bootstrapFontAwesome: \"bootstrapFontAwesome\", firstDay: \"firstDay\", dir: \"dir\", weekends: \"weekends\", hiddenDays: \"hiddenDays\", fixedWeekCount: \"fixedWeekCount\", weekNumbers: \"weekNumbers\", weekNumbersWithinDays: \"weekNumbersWithinDays\", weekNumberCalculation: \"weekNumberCalculation\", businessHours: \"businessHours\", showNonCurrentDates: \"showNonCurrentDates\", height: \"height\", contentHeight: \"contentHeight\", aspectRatio: \"aspectRatio\", handleWindowResize: \"handleWindowResize\", windowResizeDelay: \"windowResizeDelay\", eventLimit: \"eventLimit\", eventLimitClick: \"eventLimitClick\", timeZone: \"timeZone\", now: \"now\", defaultView: \"defaultView\", allDaySlot: \"allDaySlot\", allDayText: \"allDayText\", slotDuration: \"slotDuration\", slotLabelFormat: \"slotLabelFormat\", slotLabelInterval: \"slotLabelInterval\", snapDuration: \"snapDuration\", scrollTime: \"scrollTime\", minTime: \"minTime\", maxTime: \"maxTime\", slotEventOverlap: \"slotEventOverlap\", listDayFormat: \"listDayFormat\", listDayAltFormat: \"listDayAltFormat\", noEventsMessage: \"noEventsMessage\", defaultDate: \"defaultDate\", nowIndicator: \"nowIndicator\", visibleRange: \"visibleRange\", validRange: \"validRange\", dateIncrement: \"dateIncrement\", dateAlignment: \"dateAlignment\", duration: \"duration\", dayCount: \"dayCount\", locales: \"locales\", locale: \"locale\", eventTimeFormat: \"eventTimeFormat\", columnHeader: \"columnHeader\", columnHeaderFormat: \"columnHeaderFormat\", columnHeaderText: \"columnHeaderText\", columnHeaderHtml: \"columnHeaderHtml\", titleFormat: \"titleFormat\", weekLabel: \"weekLabel\", displayEventTime: \"displayEventTime\", displayEventEnd: \"displayEventEnd\", eventLimitText: \"eventLimitText\", dayPopoverFormat: \"dayPopoverFormat\", navLinks: \"navLinks\", selectable: \"selectable\", selectMirror: \"selectMirror\", unselectAuto: \"unselectAuto\", unselectCancel: \"unselectCancel\", defaultAllDayEventDuration: \"defaultAllDayEventDuration\", defaultTimedEventDuration: \"defaultTimedEventDuration\", cmdFormatter: \"cmdFormatter\", defaultRangeSeparator: \"defaultRangeSeparator\", selectConstraint: \"selectConstraint\", selectOverlap: \"selectOverlap\", selectAllow: \"selectAllow\", selectMinDistance: \"selectMinDistance\", editable: \"editable\", eventStartEditable: \"eventStartEditable\", eventDurationEditable: \"eventDurationEditable\", eventConstraint: \"eventConstraint\", eventOverlap: \"eventOverlap\", eventAllow: \"eventAllow\", eventClassName: \"eventClassName\", eventClassNames: \"eventClassNames\", eventBackgroundColor: \"eventBackgroundColor\", eventBorderColor: \"eventBorderColor\", eventTextColor: \"eventTextColor\", eventColor: \"eventColor\", events: \"events\", eventSources: \"eventSources\", allDayDefault: \"allDayDefault\", startParam: \"startParam\", endParam: \"endParam\", lazyFetching: \"lazyFetching\", nextDayThreshold: \"nextDayThreshold\", eventOrder: \"eventOrder\", rerenderDelay: \"rerenderDelay\", dragRevertDuration: \"dragRevertDuration\", dragScroll: \"dragScroll\", longPressDelay: \"longPressDelay\", eventLongPressDelay: \"eventLongPressDelay\", droppable: \"droppable\", dropAccept: \"dropAccept\", eventDataTransform: \"eventDataTransform\", allDayMaintainDuration: \"allDayMaintainDuration\", eventResizableFromStart: \"eventResizableFromStart\", timeGridEventMinHeight: \"timeGridEventMinHeight\", allDayHtml: \"allDayHtml\", eventDragMinDistance: \"eventDragMinDistance\", eventSourceFailure: \"eventSourceFailure\", eventSourceSuccess: \"eventSourceSuccess\", forceEventDuration: \"forceEventDuration\", progressiveEventRendering: \"progressiveEventRendering\", selectLongPressDelay: \"selectLongPressDelay\", timeZoneParam: \"timeZoneParam\", titleRangeSeparator: \"titleRangeSeparator\", buttonText: \"buttonText\", views: \"views\", plugins: \"plugins\", schedulerLicenseKey: \"schedulerLicenseKey\", resources: \"resources\", resourceLabelText: \"resourceLabelText\", resourceOrder: \"resourceOrder\", filterResourcesWithEvents: \"filterResourcesWithEvents\", resourceText: \"resourceText\", resourceGroupField: \"resourceGroupField\", resourceGroupText: \"resourceGroupText\", resourceAreaWidth: \"resourceAreaWidth\", resourceColumns: \"resourceColumns\", resourcesInitiallyExpanded: \"resourcesInitiallyExpanded\", slotWidth: \"slotWidth\", datesAboveResources: \"datesAboveResources\", googleCalendarApiKey: \"googleCalendarApiKey\", refetchResourcesOnNavigate: \"refetchResourcesOnNavigate\", eventResourceEditable: \"eventResourceEditable\" }, outputs: { windowResize: \"windowResize\", dateClick: \"dateClick\", eventClick: \"eventClick\", eventMouseEnter: \"eventMouseEnter\", eventMouseLeave: \"eventMouseLeave\", select: \"select\", unselect: \"unselect\", loading: \"loading\", eventPositioned: \"eventPositioned\", eventDragStart: \"eventDragStart\", eventDragStop: \"eventDragStop\", eventDrop: \"eventDrop\", eventResizeStart: \"eventResizeStart\", eventResizeStop: \"eventResizeStop\", eventResize: \"eventResize\", drop: \"drop\", eventReceive: \"eventReceive\", eventLeave: \"eventLeave\", _destroyed: \"_destroyed\", navLinkDayClick: \"navLinkDayClick\", navLinkWeekClick: \"navLinkWeekClick\", viewSkeletonRender: \"viewSkeletonRender\", viewSkeletonDestroy: \"viewSkeletonDestroy\", datesRender: \"datesRender\", datesDestroy: \"datesDestroy\", dayRender: \"dayRender\", eventRender: \"eventRender\", eventDestroy: \"eventDestroy\", resourceRender: \"resourceRender\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"deepChangeDetection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"header\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"footer\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"customButtons\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"buttonIcons\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"themeSystem\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"bootstrapFontAwesome\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"firstDay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"dir\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"weekends\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], FullCalendarComponent.prototype, \"hiddenDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"fixedWeekCount\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"weekNumbers\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"weekNumbersWithinDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"weekNumberCalculation\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"businessHours\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"showNonCurrentDates\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"height\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"contentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"aspectRatio\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"handleWindowResize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"windowResizeDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventLimit\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventLimitClick\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"timeZone\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"now\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"defaultView\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"allDaySlot\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"allDayText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"slotDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"slotLabelFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"slotLabelInterval\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"snapDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"scrollTime\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"minTime\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"maxTime\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"slotEventOverlap\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"listDayFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"listDayAltFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"noEventsMessage\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"defaultDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"nowIndicator\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"visibleRange\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"validRange\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"dateIncrement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"dateAlignment\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"duration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"dayCount\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], FullCalendarComponent.prototype, \"locales\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventTimeFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"columnHeader\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"columnHeaderFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"columnHeaderText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"columnHeaderHtml\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"titleFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"weekLabel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"displayEventTime\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"displayEventEnd\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventLimitText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"dayPopoverFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"navLinks\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"selectable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"selectMirror\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"unselectAuto\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"unselectCancel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"defaultAllDayEventDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"defaultTimedEventDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"cmdFormatter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"defaultRangeSeparator\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"selectConstraint\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"selectOverlap\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"selectAllow\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"selectMinDistance\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"editable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"eventStartEditable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"eventDurationEditable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventConstraint\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventOverlap\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventAllow\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventClassName\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventClassNames\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"eventBackgroundColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"eventBorderColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"eventTextColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"eventColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], FullCalendarComponent.prototype, \"eventSources\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"allDayDefault\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"startParam\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"endParam\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"lazyFetching\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"nextDayThreshold\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventOrder\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"rerenderDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"dragRevertDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"dragScroll\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"longPressDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"eventLongPressDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"droppable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"dropAccept\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventDataTransform\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"allDayMaintainDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"eventResizableFromStart\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"timeGridEventMinHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"allDayHtml\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"eventDragMinDistance\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventSourceFailure\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventSourceSuccess\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"forceEventDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"progressiveEventRendering\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"selectLongPressDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"timeZoneParam\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"titleRangeSeparator\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"buttonText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"views\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], FullCalendarComponent.prototype, \"plugins\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"schedulerLicenseKey\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resources\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"resourceLabelText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceOrder\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"filterResourcesWithEvents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceGroupField\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceGroupText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceAreaWidth\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceColumns\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourcesInitiallyExpanded\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"slotWidth\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"datesAboveResources\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"googleCalendarApiKey\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"refetchResourcesOnNavigate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"eventResourceEditable\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"windowResize\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"dateClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventMouseEnter\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventMouseLeave\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"select\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"unselect\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"loading\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventPositioned\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventDragStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventDragStop\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventDrop\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventResizeStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventResizeStop\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventResize\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"drop\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventReceive\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventLeave\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"_destroyed\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"navLinkDayClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"navLinkWeekClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"viewSkeletonRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"viewSkeletonDestroy\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"datesRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"datesDestroy\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"dayRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventDestroy\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceRender\", void 0);\nFullCalendarComponent = __decorate([ __metadata(\"design:paramtypes\", [ElementRef])\n], FullCalendarComponent);\n\nlet FullCalendarModule = class FullCalendarModule {\n};\nFullCalendarModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: FullCalendarModule });\nFullCalendarModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); }, imports: [[]] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{\n                selector: 'full-calendar',\n                template: ''\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { windowResize: [{\n            type: Output\n        }], dateClick: [{\n            type: Output\n        }], eventClick: [{\n            type: Output\n        }], eventMouseEnter: [{\n            type: Output\n        }], eventMouseLeave: [{\n            type: Output\n        }], select: [{\n            type: Output\n        }], unselect: [{\n            type: Output\n        }], loading: [{\n            type: Output\n        }], eventPositioned: [{\n            type: Output\n        }], eventDragStart: [{\n            type: Output\n        }], eventDragStop: [{\n            type: Output\n        }], eventDrop: [{\n            type: Output\n        }], eventResizeStart: [{\n            type: Output\n        }], eventResizeStop: [{\n            type: Output\n        }], eventResize: [{\n            type: Output\n        }], drop: [{\n            type: Output\n        }], eventReceive: [{\n            type: Output\n        }], eventLeave: [{\n            type: Output\n        }], _destroyed: [{\n            type: Output\n        }], navLinkDayClick: [{\n            type: Output\n        }], navLinkWeekClick: [{\n            type: Output\n        }], viewSkeletonRender: [{\n            type: Output\n        }], viewSkeletonDestroy: [{\n            type: Output\n        }], datesRender: [{\n            type: Output\n        }], datesDestroy: [{\n            type: Output\n        }], dayRender: [{\n            type: Output\n        }], eventRender: [{\n            type: Output\n        }], eventDestroy: [{\n            type: Output\n        }], resourceRender: [{\n            type: Output\n        }], deepChangeDetection: [{\n            type: Input\n        }], header: [{\n            type: Input\n        }], footer: [{\n            type: Input\n        }], customButtons: [{\n            type: Input\n        }], buttonIcons: [{\n            type: Input\n        }], themeSystem: [{\n            type: Input\n        }], bootstrapFontAwesome: [{\n            type: Input\n        }], firstDay: [{\n            type: Input\n        }], dir: [{\n            type: Input\n        }], weekends: [{\n            type: Input\n        }], hiddenDays: [{\n            type: Input\n        }], fixedWeekCount: [{\n            type: Input\n        }], weekNumbers: [{\n            type: Input\n        }], weekNumbersWithinDays: [{\n            type: Input\n        }], weekNumberCalculation: [{\n            type: Input\n        }], businessHours: [{\n            type: Input\n        }], showNonCurrentDates: [{\n            type: Input\n        }], height: [{\n            type: Input\n        }], contentHeight: [{\n            type: Input\n        }], aspectRatio: [{\n            type: Input\n        }], handleWindowResize: [{\n            type: Input\n        }], windowResizeDelay: [{\n            type: Input\n        }], eventLimit: [{\n            type: Input\n        }], eventLimitClick: [{\n            type: Input\n        }], timeZone: [{\n            type: Input\n        }], now: [{\n            type: Input\n        }], defaultView: [{\n            type: Input\n        }], allDaySlot: [{\n            type: Input\n        }], allDayText: [{\n            type: Input\n        }], slotDuration: [{\n            type: Input\n        }], slotLabelFormat: [{\n            type: Input\n        }], slotLabelInterval: [{\n            type: Input\n        }], snapDuration: [{\n            type: Input\n        }], scrollTime: [{\n            type: Input\n        }], minTime: [{\n            type: Input\n        }], maxTime: [{\n            type: Input\n        }], slotEventOverlap: [{\n            type: Input\n        }], listDayFormat: [{\n            type: Input\n        }], listDayAltFormat: [{\n            type: Input\n        }], noEventsMessage: [{\n            type: Input\n        }], defaultDate: [{\n            type: Input\n        }], nowIndicator: [{\n            type: Input\n        }], visibleRange: [{\n            type: Input\n        }], validRange: [{\n            type: Input\n        }], dateIncrement: [{\n            type: Input\n        }], dateAlignment: [{\n            type: Input\n        }], duration: [{\n            type: Input\n        }], dayCount: [{\n            type: Input\n        }], locales: [{\n            type: Input\n        }], locale: [{\n            type: Input\n        }], eventTimeFormat: [{\n            type: Input\n        }], columnHeader: [{\n            type: Input\n        }], columnHeaderFormat: [{\n            type: Input\n        }], columnHeaderText: [{\n            type: Input\n        }], columnHeaderHtml: [{\n            type: Input\n        }], titleFormat: [{\n            type: Input\n        }], weekLabel: [{\n            type: Input\n        }], displayEventTime: [{\n            type: Input\n        }], displayEventEnd: [{\n            type: Input\n        }], eventLimitText: [{\n            type: Input\n        }], dayPopoverFormat: [{\n            type: Input\n        }], navLinks: [{\n            type: Input\n        }], selectable: [{\n            type: Input\n        }], selectMirror: [{\n            type: Input\n        }], unselectAuto: [{\n            type: Input\n        }], unselectCancel: [{\n            type: Input\n        }], defaultAllDayEventDuration: [{\n            type: Input\n        }], defaultTimedEventDuration: [{\n            type: Input\n        }], cmdFormatter: [{\n            type: Input\n        }], defaultRangeSeparator: [{\n            type: Input\n        }], selectConstraint: [{\n            type: Input\n        }], selectOverlap: [{\n            type: Input\n        }], selectAllow: [{\n            type: Input\n        }], selectMinDistance: [{\n            type: Input\n        }], editable: [{\n            type: Input\n        }], eventStartEditable: [{\n            type: Input\n        }], eventDurationEditable: [{\n            type: Input\n        }], eventConstraint: [{\n            type: Input\n        }], eventOverlap: [{\n            type: Input\n        }], eventAllow: [{\n            type: Input\n        }], eventClassName: [{\n            type: Input\n        }], eventClassNames: [{\n            type: Input\n        }], eventBackgroundColor: [{\n            type: Input\n        }], eventBorderColor: [{\n            type: Input\n        }], eventTextColor: [{\n            type: Input\n        }], eventColor: [{\n            type: Input\n        }], events: [{\n            type: Input\n        }], eventSources: [{\n            type: Input\n        }], allDayDefault: [{\n            type: Input\n        }], startParam: [{\n            type: Input\n        }], endParam: [{\n            type: Input\n        }], lazyFetching: [{\n            type: Input\n        }], nextDayThreshold: [{\n            type: Input\n        }], eventOrder: [{\n            type: Input\n        }], rerenderDelay: [{\n            type: Input\n        }], dragRevertDuration: [{\n            type: Input\n        }], dragScroll: [{\n            type: Input\n        }], longPressDelay: [{\n            type: Input\n        }], eventLongPressDelay: [{\n            type: Input\n        }], droppable: [{\n            type: Input\n        }], dropAccept: [{\n            type: Input\n        }], eventDataTransform: [{\n            type: Input\n        }], allDayMaintainDuration: [{\n            type: Input\n        }], eventResizableFromStart: [{\n            type: Input\n        }], timeGridEventMinHeight: [{\n            type: Input\n        }], allDayHtml: [{\n            type: Input\n        }], eventDragMinDistance: [{\n            type: Input\n        }], eventSourceFailure: [{\n            type: Input\n        }], eventSourceSuccess: [{\n            type: Input\n        }], forceEventDuration: [{\n            type: Input\n        }], progressiveEventRendering: [{\n            type: Input\n        }], selectLongPressDelay: [{\n            type: Input\n        }], timeZoneParam: [{\n            type: Input\n        }], titleRangeSeparator: [{\n            type: Input\n        }], buttonText: [{\n            type: Input\n        }], views: [{\n            type: Input\n        }], plugins: [{\n            type: Input\n        }], schedulerLicenseKey: [{\n            type: Input\n        }], resources: [{\n            type: Input\n        }], resourceLabelText: [{\n            type: Input\n        }], resourceOrder: [{\n            type: Input\n        }], filterResourcesWithEvents: [{\n            type: Input\n        }], resourceText: [{\n            type: Input\n        }], resourceGroupField: [{\n            type: Input\n        }], resourceGroupText: [{\n            type: Input\n        }], resourceAreaWidth: [{\n            type: Input\n        }], resourceColumns: [{\n            type: Input\n        }], resourcesInitiallyExpanded: [{\n            type: Input\n        }], slotWidth: [{\n            type: Input\n        }], datesAboveResources: [{\n            type: Input\n        }], googleCalendarApiKey: [{\n            type: Input\n        }], refetchResourcesOnNavigate: [{\n            type: Input\n        }], eventResourceEditable: [{\n            type: Input\n        }] }); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n//# sourceMappingURL=fullcalendar-angular.js.map","/*!\nFullCalendar Core Package v4.4.0\nDocs & License: https://fullcalendar.io/\n(c) 2019 Adam Shaw\n*/\n\n// Creating\n// ----------------------------------------------------------------------------------------------------------------\nvar elementPropHash = {\n    className: true,\n    colSpan: true,\n    rowSpan: true\n};\nvar containerTagHash = {\n    '<tr': 'tbody',\n    '<td': 'tr'\n};\nfunction createElement(tagName, attrs, content) {\n    var el = document.createElement(tagName);\n    if (attrs) {\n        for (var attrName in attrs) {\n            if (attrName === 'style') {\n                applyStyle(el, attrs[attrName]);\n            }\n            else if (elementPropHash[attrName]) {\n                el[attrName] = attrs[attrName];\n            }\n            else {\n                el.setAttribute(attrName, attrs[attrName]);\n            }\n        }\n    }\n    if (typeof content === 'string') {\n        el.innerHTML = content; // shortcut. no need to process HTML in any way\n    }\n    else if (content != null) {\n        appendToElement(el, content);\n    }\n    return el;\n}\nfunction htmlToElement(html) {\n    html = html.trim();\n    var container = document.createElement(computeContainerTag(html));\n    container.innerHTML = html;\n    return container.firstChild;\n}\nfunction htmlToElements(html) {\n    return Array.prototype.slice.call(htmlToNodeList(html));\n}\nfunction htmlToNodeList(html) {\n    html = html.trim();\n    var container = document.createElement(computeContainerTag(html));\n    container.innerHTML = html;\n    return container.childNodes;\n}\n// assumes html already trimmed and tag names are lowercase\nfunction computeContainerTag(html) {\n    return containerTagHash[html.substr(0, 3) // faster than using regex\n    ] || 'div';\n}\nfunction appendToElement(el, content) {\n    var childNodes = normalizeContent(content);\n    for (var i = 0; i < childNodes.length; i++) {\n        el.appendChild(childNodes[i]);\n    }\n}\nfunction prependToElement(parent, content) {\n    var newEls = normalizeContent(content);\n    var afterEl = parent.firstChild || null; // if no firstChild, will append to end, but that's okay, b/c there were no children\n    for (var i = 0; i < newEls.length; i++) {\n        parent.insertBefore(newEls[i], afterEl);\n    }\n}\nfunction insertAfterElement(refEl, content) {\n    var newEls = normalizeContent(content);\n    var afterEl = refEl.nextSibling || null;\n    for (var i = 0; i < newEls.length; i++) {\n        refEl.parentNode.insertBefore(newEls[i], afterEl);\n    }\n}\nfunction normalizeContent(content) {\n    var els;\n    if (typeof content === 'string') {\n        els = htmlToElements(content);\n    }\n    else if (content instanceof Node) {\n        els = [content];\n    }\n    else { // Node[] or NodeList\n        els = Array.prototype.slice.call(content);\n    }\n    return els;\n}\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\n// from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\nvar matchesMethod = Element.prototype.matches ||\n    Element.prototype.matchesSelector ||\n    Element.prototype.msMatchesSelector;\nvar closestMethod = Element.prototype.closest || function (selector) {\n    // polyfill\n    var el = this;\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n};\nfunction elementClosest(el, selector) {\n    return closestMethod.call(el, selector);\n}\nfunction elementMatches(el, selector) {\n    return matchesMethod.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i++) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j++) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements\nfunction findChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i++) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j++) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Attributes\n// ----------------------------------------------------------------------------------------------------------------\nfunction forceClassName(el, className, bool) {\n    if (bool) {\n        el.classList.add(className);\n    }\n    else {\n        el.classList.remove(className);\n    }\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + 'px';\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom)\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom)\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top\n    };\n}\n\n// Logic for determining if, when the element is right-to-left, the scrollbar appears on the left side\nvar isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (isRtlScrollbarOnLeft === null) {\n        isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = createElement('div', {\n        style: {\n            position: 'absolute',\n            top: -1000,\n            left: 0,\n            border: 0,\n            padding: 0,\n            overflow: 'scroll',\n            direction: 'rtl'\n        }\n    }, '<div></div>');\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n// The scrollbar width computations in computeEdges are sometimes flawed when it comes to\n// retina displays, rounding, and IE11. Massage them into a usable value.\nfunction sanitizeScrollbarWidth(width) {\n    width = Math.max(0, width); // no negatives\n    width = Math.round(width);\n    return width;\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    // must use offset(Width|Height) because compatible with client(Width|Height)\n    var scrollbarLeftRight = sanitizeScrollbarWidth(el.offsetWidth - el.clientWidth - borderLeft - borderRight);\n    var scrollbarBottom = sanitizeScrollbarWidth(el.offsetHeight - el.clientHeight - borderTop - borderBottom);\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset\n    };\n}\nfunction computeViewportRect() {\n    return {\n        left: window.pageXOffset,\n        right: window.pageXOffset + document.documentElement.clientWidth,\n        top: window.pageYOffset,\n        bottom: window.pageYOffset + document.documentElement.clientHeight\n    };\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\nfunction computeClippingRect(el) {\n    return getClippingParents(el)\n        .map(function (el) {\n        return computeInnerRect(el);\n    })\n        .concat(computeViewportRect())\n        .reduce(function (rect0, rect1) {\n        return intersectRects(rect0, rect1) || rect1; // should always intersect\n    });\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction listenBySelector(container, eventType, selector, handler) {\n    function realHandler(ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    }\n    container.addEventListener(eventType, realHandler);\n    return function () {\n        container.removeEventListener(eventType, realHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (ev, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(ev, matchedChild);\n            var realOnMouseLeave_1 = function (ev) {\n                currentMatchedChild = null;\n                onMouseLeave(ev, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend'\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf())\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate()\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours()\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes()\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds()\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds()\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds()\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return normalizeObject(input);\n    }\n    else if (typeof input === 'number') {\n        return normalizeObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    else {\n        return null;\n    }\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            )\n        };\n    }\n    return null;\n}\nfunction normalizeObject(obj) {\n    return {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: (obj.days || obj.day || 0) +\n            getWeeksFromInput(obj) * 7,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0) // ms\n    };\n}\nfunction getWeeksFromInput(obj) {\n    return obj.weeks || obj.week || 0;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction isSingleDay(dur) {\n    return dur.years === 0 && dur.months === 0 && dur.days === 1 && dur.milliseconds === 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i++) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur, dontReturnWeeks) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (!dontReturnWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Given the scrollbar widths of some other container, create borders/margins on rowEls in order to match the left\n// and right space that was offset by the scrollbars. A 1-pixel border first, then margin beyond that.\nfunction compensateScroll(rowEl, scrollbarWidths) {\n    if (scrollbarWidths.left) {\n        applyStyle(rowEl, {\n            borderLeftWidth: 1,\n            marginLeft: scrollbarWidths.left - 1\n        });\n    }\n    if (scrollbarWidths.right) {\n        applyStyle(rowEl, {\n            borderRightWidth: 1,\n            marginRight: scrollbarWidths.right - 1\n        });\n    }\n}\n// Undoes compensateScroll and restores all borders/margins\nfunction uncompensateScroll(rowEl) {\n    applyStyle(rowEl, {\n        marginLeft: '',\n        marginRight: '',\n        borderLeftWidth: '',\n        borderRightWidth: ''\n    });\n}\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n// Given a total available height to fill, have `els` (essentially child rows) expand to accomodate.\n// By default, all elements that are shorter than the recommended height are expanded uniformly, not considering\n// any other els that are already too tall. if `shouldRedistribute` is on, it considers these tall rows and\n// reduces the available height.\nfunction distributeHeight(els, availableHeight, shouldRedistribute) {\n    // *FLOORING NOTE*: we floor in certain places because zoom can give inaccurate floating-point dimensions,\n    // and it is better to be shorter than taller, to avoid creating unnecessary scrollbars.\n    var minOffset1 = Math.floor(availableHeight / els.length); // for non-last element\n    var minOffset2 = Math.floor(availableHeight - minOffset1 * (els.length - 1)); // for last element *FLOORING NOTE*\n    var flexEls = []; // elements that are allowed to expand. array of DOM nodes\n    var flexOffsets = []; // amount of vertical space it takes up\n    var flexHeights = []; // actual css height\n    var usedHeight = 0;\n    undistributeHeight(els); // give all elements their natural height\n    // find elements that are below the recommended height (expandable).\n    // important to query for heights in a single first pass (to avoid reflow oscillation).\n    els.forEach(function (el, i) {\n        var minOffset = i === els.length - 1 ? minOffset2 : minOffset1;\n        var naturalHeight = el.getBoundingClientRect().height;\n        var naturalOffset = naturalHeight + computeVMargins(el);\n        if (naturalOffset < minOffset) {\n            flexEls.push(el);\n            flexOffsets.push(naturalOffset);\n            flexHeights.push(naturalHeight);\n        }\n        else {\n            // this element stretches past recommended height (non-expandable). mark the space as occupied.\n            usedHeight += naturalOffset;\n        }\n    });\n    // readjust the recommended height to only consider the height available to non-maxed-out rows.\n    if (shouldRedistribute) {\n        availableHeight -= usedHeight;\n        minOffset1 = Math.floor(availableHeight / flexEls.length);\n        minOffset2 = Math.floor(availableHeight - minOffset1 * (flexEls.length - 1)); // *FLOORING NOTE*\n    }\n    // assign heights to all expandable elements\n    flexEls.forEach(function (el, i) {\n        var minOffset = i === flexEls.length - 1 ? minOffset2 : minOffset1;\n        var naturalOffset = flexOffsets[i];\n        var naturalHeight = flexHeights[i];\n        var newHeight = minOffset - (naturalOffset - naturalHeight); // subtract the margin/padding\n        if (naturalOffset < minOffset) { // we check this again because redistribution might have changed things\n            el.style.height = newHeight + 'px';\n        }\n    });\n}\n// Undoes distrubuteHeight, restoring all els to their natural height\nfunction undistributeHeight(els) {\n    els.forEach(function (el) {\n        el.style.height = '';\n    });\n}\n// Given `els`, a set of <td> cells, find the cell with the largest natural width and set the widths of all the\n// cells to be that width.\n// PREREQUISITE: if you want a cell to take up width, it needs to have a single inner element w/ display:inline\nfunction matchCellWidths(els) {\n    var maxInnerWidth = 0;\n    els.forEach(function (el) {\n        var innerEl = el.firstChild; // hopefully an element\n        if (innerEl instanceof HTMLElement) {\n            var innerWidth_1 = innerEl.getBoundingClientRect().width;\n            if (innerWidth_1 > maxInnerWidth) {\n                maxInnerWidth = innerWidth_1;\n            }\n        }\n    });\n    maxInnerWidth++; // sometimes not accurate of width the text needs to stay on one line. insurance\n    els.forEach(function (el) {\n        el.style.width = maxInnerWidth + 'px';\n    });\n    return maxInnerWidth;\n}\n// Given one element that resides inside another,\n// Subtracts the height of the inner element from the outer element.\nfunction subtractInnerElHeight(outerEl, innerEl) {\n    // effin' IE8/9/10/11 sometimes returns 0 for dimensions. this weird hack was the only thing that worked\n    var reflowStyleProps = {\n        position: 'relative',\n        left: -1 // ensure reflow in case the el was already relative. negative is less likely to cause new scroll\n    };\n    applyStyle(outerEl, reflowStyleProps);\n    applyStyle(innerEl, reflowStyleProps);\n    var diff = // grab the dimensions\n     outerEl.getBoundingClientRect().height -\n        innerEl.getBoundingClientRect().height;\n    // undo hack\n    var resetStyleProps = { position: '', left: '' };\n    applyStyle(outerEl, resetStyleProps);\n    applyStyle(innerEl, resetStyleProps);\n    return diff;\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\n/* Object Ordering by Field\n----------------------------------------------------------------------------------------------------------------------*/\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i++) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction capitaliseFirstLetter(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* Weird Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction applyAll(functions, thisObj, args) {\n    if (typeof functions === 'function') { // supplied a single function\n        functions = [functions];\n    }\n    if (functions) {\n        var i = void 0;\n        var ret = void 0;\n        for (i = 0; i < functions.length; i++) {\n            ret = functions[i].apply(thisObj, args) || ret;\n        }\n        return ret;\n    }\n}\nfunction firstDefined() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i++) {\n        if (args[i] !== undefined) {\n            return args[i];\n        }\n    }\n}\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// https://github.com/jashkenas/underscore/blob/1.6.0/underscore.js#L714\nfunction debounce(func, wait) {\n    var timeout;\n    var args;\n    var context;\n    var timestamp;\n    var result;\n    var later = function () {\n        var last = new Date().valueOf() - timestamp;\n        if (last < wait) {\n            timeout = setTimeout(later, wait - last);\n        }\n        else {\n            timeout = null;\n            result = func.apply(context, args);\n            context = args = null;\n        }\n    };\n    return function () {\n        context = this;\n        args = arguments;\n        timestamp = new Date().valueOf();\n        if (!timeout) {\n            timeout = setTimeout(later, wait);\n        }\n        return result;\n    };\n}\n// Number and Boolean are only types that defaults or not computed for\n// TODO: write more comments\nfunction refineProps(rawProps, processors, defaults, leftoverProps) {\n    if (defaults === void 0) { defaults = {}; }\n    var refined = {};\n    for (var key in processors) {\n        var processor = processors[key];\n        if (rawProps[key] !== undefined) {\n            // found\n            if (processor === Function) {\n                refined[key] = typeof rawProps[key] === 'function' ? rawProps[key] : null;\n            }\n            else if (processor) { // a refining function?\n                refined[key] = processor(rawProps[key]);\n            }\n            else {\n                refined[key] = rawProps[key];\n            }\n        }\n        else if (defaults[key] !== undefined) {\n            // there's an explicit default\n            refined[key] = defaults[key];\n        }\n        else {\n            // must compute a default\n            if (processor === String) {\n                refined[key] = ''; // empty string is default for String\n            }\n            else if (!processor || processor === Number || processor === Boolean || processor === Function) {\n                refined[key] = null; // assign null for other non-custom processor funcs\n            }\n            else {\n                refined[key] = processor(null); // run the custom processor func\n            }\n        }\n    }\n    if (leftoverProps) {\n        for (var key in rawProps) {\n            if (processors[key] === undefined) {\n                leftoverProps[key] = rawProps[key];\n            }\n        }\n    }\n    return refined;\n}\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    else if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    else {\n        return diffDayAndTime(date0, date1); // returns a duration\n    }\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nfunction parseRecurring(eventInput, allDayDefault, dateEnv, recurringTypes, leftovers) {\n    for (var i = 0; i < recurringTypes.length; i++) {\n        var localLeftovers = {};\n        var parsed = recurringTypes[i].parse(eventInput, localLeftovers, dateEnv);\n        if (parsed) {\n            var allDay = localLeftovers.allDay;\n            delete localLeftovers.allDay; // remove from leftovers\n            if (allDay == null) {\n                allDay = allDayDefault;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            __assign(leftovers, localLeftovers);\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i\n            };\n        }\n    }\n    return null;\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexProps) {\n    var dest = {};\n    var i;\n    var name;\n    var complexObjs;\n    var j;\n    var val;\n    var props;\n    if (complexProps) {\n        for (i = 0; i < complexProps.length; i++) {\n            name = complexProps[i];\n            complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (j = propObjs.length - 1; j >= 0; j--) {\n                val = propObjs[j][name];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (i = propObjs.length - 1; i >= 0; i--) {\n        props = propObjs[i];\n        for (name in props) {\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name] = props[name];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nfunction parseEvents(rawEvents, sourceId, calendar, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, sourceId, calendar, allowOpenRange);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\nfunction expandRecurring(eventStore, framingRange, calendar) {\n    var dateEnv = calendar.dateEnv;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    instances = filterHash(instances, function (instance) {\n        return !defs[instance.defId].recurringDef;\n    });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    calendar.defaultAllDayEventDuration :\n                    calendar.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, calendar.dateEnv, calendar.pluginSystem.hooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration)\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) {\n            return isEventDefsGrouped(def_1, lookDef);\n        });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction transformRawEvents(rawEvents, eventSource, calendar) {\n    var calEachTransform = calendar.opt('eventDataTransform');\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_2 = rawEvents; _i < rawEvents_2.length; _i++) {\n            var rawEvent = rawEvents_2[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign({}, store0.defs, store1.defs),\n        instances: __assign({}, store0.instances, store1.instances)\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) {\n        return defs[instance.defId]; // still exists?\n    });\n    return { defs: defs, instances: instances };\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i++) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start;\n    var end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt++;\n        }\n        else {\n            i++;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1) {\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i++) {\n        if (a0[i] !== a1[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc) {\n    var args;\n    var res;\n    return function () {\n        if (!args || !isArraysEqual(args, arguments)) {\n            args = arguments;\n            res = workerFunc.apply(this, arguments);\n        }\n        return res;\n    };\n}\n/*\nalways executes the workerFunc, but if the result is equal to the previous result,\nreturn the previous result instead.\n*/\nfunction memoizeOutput(workerFunc, equalityFunc) {\n    var cachedRes = null;\n    return function () {\n        var newRes = workerFunc.apply(this, arguments);\n        if (cachedRes === null || !(cachedRes === newRes || equalityFunc(cachedRes, newRes))) {\n            cachedRes = newRes;\n        }\n        return cachedRes;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) {\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            default:\n                return 'day';\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) {\n            return formatTimeZoneOffset(date.timeZoneOffset);\n        };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) {\n            return formatWeekNumber(context.computeWeekNumber(date.marker), context.weekLabel, context.locale, extendedSettings.week);\n        };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) {\n            return m1.toLocaleLowerCase();\n        });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) {\n            return m1.toLocaleLowerCase() + 'm';\n        });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) {\n            return m0.toLocaleLowerCase();\n        });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ' ' + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekLabel, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekLabel);\n    }\n    else if (display === 'short') {\n        parts.push(weekLabel, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.isRtl) { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0\n                };\n            }\n        }\n    }\n    return null;\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr, separator) {\n        this.cmdStr = cmdStr;\n        this.separator = separator;\n    }\n    CmdFormatter.prototype.format = function (date, context) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, this.separator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, this.separator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context) {\n        return this.func(createVerboseFormattingArg(date, null, context));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context) {\n        return this.func(createVerboseFormattingArg(start, end, context));\n    };\n    return FuncFormatter;\n}());\n\n// Formatter Object Creation\nfunction createFormatter(input, defaultSeparator) {\n    if (typeof input === 'object' && input) { // non-null object\n        if (typeof defaultSeparator === 'string') {\n            input = __assign({ separator: defaultSeparator }, input);\n        }\n        return new NativeFormatter(input);\n    }\n    else if (typeof input === 'string') {\n        return new CmdFormatter(input, defaultSeparator);\n    }\n    else if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n}\n// String Utils\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + ':' + padStart(mins, 2);\n    }\n    else {\n        return 'GMT' + sign + hours + (mins ? ':' + padStart(mins, 2) : '');\n    }\n}\n// Arg Utils\nfunction createVerboseFormattingArg(start, end, context, separator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        separator: separator\n    };\n}\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6]\n    };\n}\n\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(calendar, internalEventSource) {\n        this.calendar = calendar;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.calendar.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.calendar.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId]\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        // only relevant to json-feed event sources\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    function EventApi(calendar, def, instance) {\n        this._calendar = calendar;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in DATE_PROPS) ;\n        else if (name in NON_DATE_PROPS) {\n            if (typeof NON_DATE_PROPS[name] === 'function') {\n                val = NON_DATE_PROPS[name](val);\n            }\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a)\n            });\n        }\n        else if (name in UNSCOPED_EVENT_UI_PROPS) {\n            var ui = void 0;\n            if (typeof UNSCOPED_EVENT_UI_PROPS[name] === 'function') {\n                val = UNSCOPED_EVENT_UI_PROPS[name](val);\n            }\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui }\n            });\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a)\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._calendar.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._calendar.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._calendar.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._calendar.opt('allDayMaintainDuration');\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._calendar.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput, this._calendar.opt('defaultRangeSeparator'));\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo\n            });\n        }\n        else {\n            return dateEnv.format(instance.range.start, formatter, {\n                forcedTzo: instance.forcedStartTzo\n            });\n        }\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var def = this._def;\n        var instance = this._instance;\n        if (instance) {\n            this._calendar.dispatch({\n                type: 'MUTATE_EVENTS',\n                instanceId: instance.instanceId,\n                mutation: mutation,\n                fromApi: true\n            });\n            var eventStore = this._calendar.state.eventStore;\n            this._def = eventStore.defs[def.defId];\n            this._instance = eventStore.instances[instance.instanceId];\n        }\n    };\n    EventApi.prototype.remove = function () {\n        this._calendar.dispatch({\n            type: 'REMOVE_EVENT_DEF',\n            defId: this._def.defId\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._calendar, this._calendar.state.eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._calendar.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._calendar.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"rendering\", {\n        get: function () { return this._def.rendering; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: true,\n        configurable: true\n    });\n    return EventApi;\n}());\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        if (def.rendering === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (def.rendering === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else {\n                (def.rendering === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf()\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.rendering === 'background' || def.rendering === 'inverse-background';\n}\nfunction filterSegsViaEls(context, segs, isMirror) {\n    var calendar = context.calendar, view = context.view;\n    if (calendar.hasPublicHandlers('eventRender')) {\n        segs = segs.filter(function (seg) {\n            var custom = calendar.publiclyTrigger('eventRender', [\n                {\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    isMirror: isMirror,\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                    // TODO: include seg.range once all components consistently generate it\n                    el: seg.el,\n                    view: view\n                }\n            ]);\n            if (custom === false) { // means don't render at all\n                return false;\n            }\n            else if (custom && custom !== true) {\n                seg.el = custom;\n            }\n            return true;\n        });\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        setElSeg(seg.el, seg);\n    }\n    return segs;\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg || null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) {\n        return compileEventUi(eventDef, eventUiBases);\n    });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\n// triggers\nfunction triggerRenderedSegs(context, segs, isMirrors) {\n    var calendar = context.calendar, view = context.view;\n    if (calendar.hasPublicHandlers('eventPositioned')) {\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            calendar.publiclyTriggerAfterSizing('eventPositioned', [\n                {\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    isMirror: isMirrors,\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                    el: seg.el,\n                    view: view\n                }\n            ]);\n        }\n    }\n    if (!calendar.state.loadingLevel) { // avoid initial empty state while pending\n        calendar.afterSizingTriggers._eventsPositioned = [null]; // fire once\n    }\n}\nfunction triggerWillRemoveSegs(context, segs, isMirrors) {\n    var calendar = context.calendar, view = context.view;\n    for (var _i = 0, segs_3 = segs; _i < segs_3.length; _i++) {\n        var seg = segs_3[_i];\n        calendar.trigger('eventElRemove', seg.el);\n    }\n    if (calendar.hasPublicHandlers('eventDestroy')) {\n        for (var _a = 0, segs_4 = segs; _a < segs_4.length; _a++) {\n            var seg = segs_4[_a];\n            calendar.publiclyTrigger('eventDestroy', [\n                {\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    isMirror: isMirrors,\n                    el: seg.el,\n                    view: view\n                }\n            ]);\n        }\n    }\n}\n// is-interactable\nfunction computeEventDraggable(context, eventDef, eventUi) {\n    var calendar = context.calendar, view = context.view;\n    var transformers = calendar.pluginSystem.hooks.isDraggableTransformers;\n    var val = eventUi.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, eventDef, eventUi, view);\n    }\n    return val;\n}\nfunction computeEventStartResizable(context, eventDef, eventUi) {\n    return eventUi.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeEventEndResizable(context, eventDef, eventUi) {\n    return eventUi.durationEditable;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, calendar) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, calendar.pluginSystem.hooks.eventDefMutationAppliers, calendar);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, calendar);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, appliers, calendar) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign({}, eventDef, standardProps, { ui: __assign({}, eventDef.ui, standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign({}, copy.extendedProps, mutation.extendedProps);\n    }\n    for (var _i = 0, appliers_1 = appliers; _i < appliers_1.length; _i++) {\n        var applier = appliers_1[_i];\n        applier(copy, mutation, calendar);\n    }\n    if (!copy.hasEnd && calendar.opt('forceEventDuration')) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, calendar) {\n    var dateEnv = calendar.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta)\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta)\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: calendar.getDefaultEventEnd(eventDef.allDay, copy.range.start)\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end)\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = calendar.getDefaultEventEnd(eventDef.allDay, copy.range.start);\n    }\n    return copy;\n}\n\nfunction reduceEventStore (eventStore, action, eventSources, dateProfile, calendar) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, calendar);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, calendar);\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'SET_DATE':\n        case 'SET_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, calendar);\n            }\n            else {\n                return eventStore;\n            }\n        case 'CHANGE_TIMEZONE':\n            return rezoneDates(eventStore, action.oldDateEnv, calendar.dateEnv);\n        case 'MUTATE_EVENTS':\n            return applyMutationToRelated(eventStore, action.instanceId, action.mutation, action.fromApi, calendar);\n        case 'REMOVE_EVENT_INSTANCES':\n            return excludeInstances(eventStore, action.instances);\n        case 'REMOVE_EVENT_DEF':\n            return filterEventStoreDefs(eventStore, function (eventDef) {\n                return eventDef.defId !== action.defId;\n            });\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) {\n                return !eventDef.sourceId; // only keep events with no source id\n            });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        case 'RESET_EVENTS':\n            return {\n                defs: eventStore.defs,\n                instances: eventStore.instances\n            };\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, calendar) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, calendar), eventSource.sourceId, calendar);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, calendar);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction addEvent(eventStore, subset, expandRange, calendar) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, calendar);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        else {\n            return __assign({}, instance, { range: {\n                    start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                    end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo))\n                }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n        }\n    });\n    return { defs: defs, instances: instances };\n}\nfunction applyMutationToRelated(eventStore, instanceId, mutation, fromApi, calendar) {\n    var relevant = getRelevantEvents(eventStore, instanceId);\n    var eventConfigBase = fromApi ?\n        { '': {\n                startEditable: true,\n                durationEditable: true,\n                constraints: [],\n                overlap: null,\n                allows: [],\n                backgroundColor: '',\n                borderColor: '',\n                textColor: '',\n                classNames: []\n            } } :\n        calendar.eventUiBases;\n    relevant = applyMutationToEventStore(relevant, eventConfigBase, mutation, calendar);\n    return mergeEventStores(eventStore, relevant);\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) {\n        return eventDef.sourceId !== sourceId;\n    });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) {\n            return !removals[instance.instanceId];\n        })\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, calendar) {\n    return isNewPropsValid({ eventDrag: interaction }, calendar); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, calendar) {\n    return isNewPropsValid({ dateSelection: dateSelection }, calendar);\n}\nfunction isNewPropsValid(newProps, calendar) {\n    var view = calendar.view;\n    var props = __assign({ businessHours: view ? view.props.businessHours : createEmptyEventStore(), dateSelection: '', eventStore: calendar.state.eventStore, eventUiBases: calendar.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (calendar.pluginSystem.hooks.isPropsValid || isPropsValid)(props, calendar);\n}\nfunction isPropsValid(state, calendar, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, calendar, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, calendar, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, calendar, dateSpanMeta, filterConfig) {\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': calendar.selectionConfig } // if not a real event, validate as a selection\n    );\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances); // exclude the subject events. TODO: exclude defs too?\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, calendar)) {\n            return false;\n        }\n        // overlap\n        var overlapFunc = calendar.opt('eventOverlap');\n        if (typeof overlapFunc !== 'function') {\n            overlapFunc = null;\n        }\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (overlapFunc && !overlapFunc(new EventApi(calendar, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(calendar, subjectDef, subjectInstance) // moving event\n                )) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = calendar.state.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign({}, dateSpanMeta, { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(calendar, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(calendar, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(calendar.buildDateSpanApi(subjectDateSpan), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, calendar, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = calendar.selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, calendar)) {\n        return false;\n    }\n    // overlap\n    var overlapFunc = calendar.opt('selectOverlap');\n    if (typeof overlapFunc !== 'function') {\n        overlapFunc = null;\n    }\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (overlapFunc && !overlapFunc(new EventApi(calendar, relevantDefs[relevantInstance.defId], relevantInstance))) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign({}, dateSpanMeta, selection);\n        if (!selectionAllow(calendar.buildDateSpanApi(fullDateSpan), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, calendar) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, calendar), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncalendar // for expanding businesshours\n) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, calendar));\n    }\n    else if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) {\n            return eventDef.groupId === constraint;\n        }));\n    }\n    else if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, calendar));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n// Parsing\n// ------------------------------------------------------------------------------------------------------------------------\nfunction normalizeConstraint(input, calendar) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, '', calendar, true); // allowOpenRange=true\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], '', calendar, true); // allowOpenRange=true\n    }\n    else if (input != null) {\n        return String(input);\n    }\n    else {\n        return null;\n    }\n}\n\nfunction htmlEscape(s) {\n    return (s + '').replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/'/g, '&#039;')\n        .replace(/\"/g, '&quot;')\n        .replace(/\\n/g, '<br />');\n}\n// Given a hash of CSS properties, returns a string of CSS.\n// Uses property names as-is (no camel-case conversion). Will not make statements for null/undefined values.\nfunction cssToStr(cssProps) {\n    var statements = [];\n    for (var name_1 in cssProps) {\n        var val = cssProps[name_1];\n        if (val != null && val !== '') {\n            statements.push(name_1 + ':' + val);\n        }\n    }\n    return statements.join(';');\n}\n// Given an object hash of HTML attribute names to values,\n// generates a string that can be injected between < > in HTML\nfunction attrsToStr(attrs) {\n    var parts = [];\n    for (var name_2 in attrs) {\n        var val = attrs[name_2];\n        if (val != null) {\n            parts.push(name_2 + '=\"' + htmlEscape(val) + '\"');\n        }\n    }\n    return parts.join(' ');\n}\nfunction parseClassName(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    else if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    else {\n        return [];\n    }\n}\n\nvar UNSCOPED_EVENT_UI_PROPS = {\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: null,\n    overlap: null,\n    allow: null,\n    className: parseClassName,\n    classNames: parseClassName,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String\n};\nfunction processUnscopedUiProps(rawProps, calendar, leftovers) {\n    var props = refineProps(rawProps, UNSCOPED_EVENT_UI_PROPS, {}, leftovers);\n    var constraint = normalizeConstraint(props.constraint, calendar);\n    return {\n        startEditable: props.startEditable != null ? props.startEditable : props.editable,\n        durationEditable: props.durationEditable != null ? props.durationEditable : props.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: props.overlap,\n        allows: props.allow != null ? [props.allow] : [],\n        backgroundColor: props.backgroundColor || props.color,\n        borderColor: props.borderColor || props.color,\n        textColor: props.textColor,\n        classNames: props.classNames.concat(props.className)\n    };\n}\nfunction processScopedUiProps(prefix, rawScoped, calendar, leftovers) {\n    var rawUnscoped = {};\n    var wasFound = {};\n    for (var key in UNSCOPED_EVENT_UI_PROPS) {\n        var scopedKey = prefix + capitaliseFirstLetter(key);\n        rawUnscoped[key] = rawScoped[scopedKey];\n        wasFound[scopedKey] = true;\n    }\n    if (prefix === 'event') {\n        rawUnscoped.editable = rawScoped.editable; // special case. there is no 'eventEditable', just 'editable'\n    }\n    if (leftovers) {\n        for (var key in rawScoped) {\n            if (!wasFound[key]) {\n                leftovers[key] = rawScoped[key];\n            }\n        }\n    }\n    return processUnscopedUiProps(rawUnscoped, calendar);\n}\nvar EMPTY_EVENT_UI = {\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: []\n};\n// prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames)\n    };\n}\n\nvar NON_DATE_PROPS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    rendering: String,\n    extendedProps: null\n};\nvar DATE_PROPS = {\n    start: null,\n    date: null,\n    end: null,\n    allDay: null\n};\nvar uid = 0;\nfunction parseEvent(raw, sourceId, calendar, allowOpenRange) {\n    var allDayDefault = computeIsAllDayDefault(sourceId, calendar);\n    var leftovers0 = {};\n    var recurringRes = parseRecurring(raw, // raw, but with single-event stuff stripped out\n    allDayDefault, calendar.dateEnv, calendar.pluginSystem.hooks.recurringTypes, leftovers0 // will populate with non-recurring props\n    );\n    if (recurringRes) {\n        var def = parseEventDef(leftovers0, sourceId, recurringRes.allDay, Boolean(recurringRes.duration), calendar);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration\n        };\n        return { def: def, instance: null };\n    }\n    else {\n        var leftovers1 = {};\n        var singleRes = parseSingle(raw, allDayDefault, calendar, leftovers1, allowOpenRange);\n        if (singleRes) {\n            var def = parseEventDef(leftovers1, sourceId, singleRes.allDay, singleRes.hasEnd, calendar);\n            var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n            return { def: def, instance: instance };\n        }\n    }\n    return null;\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\nThe EventNonDateInput has been normalized (id => publicId, etc).\n*/\nfunction parseEventDef(raw, sourceId, allDay, hasEnd, calendar) {\n    var leftovers = {};\n    var def = pluckNonDateProps(raw, calendar, leftovers);\n    def.defId = String(uid++);\n    def.sourceId = sourceId;\n    def.allDay = allDay;\n    def.hasEnd = hasEnd;\n    for (var _i = 0, _a = calendar.pluginSystem.hooks.eventDefParsers; _i < _a.length; _i++) {\n        var eventDefParser = _a[_i];\n        var newLeftovers = {};\n        eventDefParser(def, leftovers, newLeftovers);\n        leftovers = newLeftovers;\n    }\n    def.extendedProps = __assign(leftovers, def.extendedProps || {});\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: String(uid++),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo\n    };\n}\nfunction parseSingle(raw, allDayDefault, calendar, leftovers, allowOpenRange) {\n    var props = pluckDateProps(raw, leftovers);\n    var allDay = props.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    startMeta = calendar.dateEnv.createMarkerMeta(props.start);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (props.end != null) {\n        endMeta = calendar.dateEnv.createMarkerMeta(props.end);\n    }\n    if (allDay == null) {\n        if (allDayDefault != null) {\n            allDay = allDayDefault;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = calendar.opt('forceEventDuration') || false;\n        endMarker = calendar.dateEnv.add(startMarker, allDay ?\n            calendar.defaultAllDayEventDuration :\n            calendar.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null\n    };\n}\nfunction pluckDateProps(raw, leftovers) {\n    var props = refineProps(raw, DATE_PROPS, {}, leftovers);\n    props.start = (props.start !== null) ? props.start : props.date;\n    delete props.date;\n    return props;\n}\nfunction pluckNonDateProps(raw, calendar, leftovers) {\n    var preLeftovers = {};\n    var props = refineProps(raw, NON_DATE_PROPS, {}, preLeftovers);\n    var ui = processUnscopedUiProps(preLeftovers, calendar, leftovers);\n    props.publicId = props.id;\n    delete props.id;\n    props.ui = ui;\n    return props;\n}\nfunction computeIsAllDayDefault(sourceId, calendar) {\n    var res = null;\n    if (sourceId) {\n        var source = calendar.state.eventSources[sourceId];\n        res = source.allDayDefault;\n    }\n    if (res == null) {\n        res = calendar.opt('allDayDefault');\n    }\n    return res;\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    rendering: 'inverse-background',\n    classNames: 'fc-nonbusiness',\n    groupId: '_businessHours' // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, calendar) {\n    return parseEvents(refineInputs(input), '', calendar);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) {\n            return rawDef.daysOfWeek;\n        });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) {\n        return __assign({}, DEF_DEFAULTS, rawDef);\n    });\n    return rawDefs;\n}\n\nfunction memoizeRendering(renderFunc, unrenderFunc, dependencies) {\n    if (dependencies === void 0) { dependencies = []; }\n    var dependents = [];\n    var thisContext;\n    var prevArgs;\n    function unrender() {\n        if (prevArgs) {\n            for (var _i = 0, dependents_1 = dependents; _i < dependents_1.length; _i++) {\n                var dependent = dependents_1[_i];\n                dependent.unrender();\n            }\n            if (unrenderFunc) {\n                unrenderFunc.apply(thisContext, prevArgs);\n            }\n            prevArgs = null;\n        }\n    }\n    function res() {\n        if (!prevArgs || !isArraysEqual(prevArgs, arguments)) {\n            unrender();\n            thisContext = this;\n            prevArgs = arguments;\n            renderFunc.apply(this, arguments);\n        }\n    }\n    res.dependents = dependents;\n    res.unrender = unrender;\n    for (var _i = 0, dependencies_1 = dependencies; _i < dependencies_1.length; _i++) {\n        var dependency = dependencies_1[_i];\n        dependency.dependents.push(res);\n    }\n    return res;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) {\n            return _this.eventUiBuilders[key] || memoize(buildEventUiForKey);\n        });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) {\n            return _this.getKeysForEventDef(eventDef);\n        });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents) // can't use cached. might be events from other calendar\n            );\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                        origSeg: interaction.origSeg\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts)\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\n// Generates HTML for an anchor to another view into the calendar.\n// Will either generate an <a> tag or a non-clickable <span> tag, depending on enabled settings.\n// `gotoOptions` can either be a DateMarker, or an object with the form:\n// { date, type, forceOff }\n// `type` is a view-type like \"day\" or \"week\". default value is \"day\".\n// `attrs` and `innerHtml` are use to generate the rest of the HTML tag.\nfunction buildGotoAnchorHtml(allOptions, dateEnv, gotoOptions, attrs, innerHtml) {\n    var date;\n    var type;\n    var forceOff;\n    var finalOptions;\n    if (gotoOptions instanceof Date) {\n        date = gotoOptions; // a single date-like input\n    }\n    else {\n        date = gotoOptions.date;\n        type = gotoOptions.type;\n        forceOff = gotoOptions.forceOff;\n    }\n    finalOptions = {\n        date: dateEnv.formatIso(date, { omitTime: true }),\n        type: type || 'day'\n    };\n    if (typeof attrs === 'string') {\n        innerHtml = attrs;\n        attrs = null;\n    }\n    attrs = attrs ? ' ' + attrsToStr(attrs) : ''; // will have a leading space\n    innerHtml = innerHtml || '';\n    if (!forceOff && allOptions.navLinks) {\n        return '<a' + attrs +\n            ' data-goto=\"' + htmlEscape(JSON.stringify(finalOptions)) + '\">' +\n            innerHtml +\n            '</a>';\n    }\n    else {\n        return '<span' + attrs + '>' +\n            innerHtml +\n            '</span>';\n    }\n}\nfunction getAllDayHtml(allOptions) {\n    return allOptions.allDayHtml || htmlEscape(allOptions.allDayText);\n}\n// Computes HTML classNames for a single-day element\nfunction getDayClasses(date, dateProfile, context, noThemeHighlight) {\n    var calendar = context.calendar, options = context.options, theme = context.theme, dateEnv = context.dateEnv;\n    var classes = [];\n    var todayStart;\n    var todayEnd;\n    if (!rangeContainsMarker(dateProfile.activeRange, date)) {\n        classes.push('fc-disabled-day');\n    }\n    else {\n        classes.push('fc-' + DAY_IDS[date.getUTCDay()]);\n        if (options.monthMode &&\n            dateEnv.getMonth(date) !== dateEnv.getMonth(dateProfile.currentRange.start)) {\n            classes.push('fc-other-month');\n        }\n        todayStart = startOfDay(calendar.getNow());\n        todayEnd = addDays(todayStart, 1);\n        if (date < todayStart) {\n            classes.push('fc-past');\n        }\n        else if (date >= todayEnd) {\n            classes.push('fc-future');\n        }\n        else {\n            classes.push('fc-today');\n            if (noThemeHighlight !== true) {\n                classes.push(theme.getClass('today'));\n            }\n        }\n    }\n    return classes;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments);\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments);\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Mixin = /** @class */ (function () {\n    function Mixin() {\n    }\n    // mix into a CLASS\n    Mixin.mixInto = function (destClass) {\n        this.mixIntoObj(destClass.prototype);\n    };\n    // mix into ANY object\n    Mixin.mixIntoObj = function (destObj) {\n        var _this = this;\n        Object.getOwnPropertyNames(this.prototype).forEach(function (name) {\n            if (!destObj[name]) { // if destination doesn't already define it\n                destObj[name] = _this.prototype[name];\n            }\n        });\n    };\n    /*\n    will override existing methods\n    TODO: remove! not used anymore\n    */\n    Mixin.mixOver = function (destClass) {\n        var _this = this;\n        Object.getOwnPropertyNames(this.prototype).forEach(function (name) {\n            destClass.prototype[name] = _this.prototype[name];\n        });\n    };\n    return Mixin;\n}());\n\n/*\nUSAGE:\n  import { default as EmitterMixin, EmitterInterface } from './EmitterMixin'\nin class:\n  on: EmitterInterface['on']\n  one: EmitterInterface['one']\n  off: EmitterInterface['off']\n  trigger: EmitterInterface['trigger']\n  triggerWith: EmitterInterface['triggerWith']\n  hasHandlers: EmitterInterface['hasHandlers']\nafter class:\n  EmitterMixin.mixInto(TheClass)\n*/\nvar EmitterMixin = /** @class */ (function (_super) {\n    __extends(EmitterMixin, _super);\n    function EmitterMixin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmitterMixin.prototype.on = function (type, handler) {\n        addToHash(this._handlers || (this._handlers = {}), type, handler);\n        return this; // for chaining\n    };\n    // todo: add comments\n    EmitterMixin.prototype.one = function (type, handler) {\n        addToHash(this._oneHandlers || (this._oneHandlers = {}), type, handler);\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.off = function (type, handler) {\n        if (this._handlers) {\n            removeFromHash(this._handlers, type, handler);\n        }\n        if (this._oneHandlers) {\n            removeFromHash(this._oneHandlers, type, handler);\n        }\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        this.triggerWith(type, this, args);\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.triggerWith = function (type, context, args) {\n        if (this._handlers) {\n            applyAll(this._handlers[type], context, args);\n        }\n        if (this._oneHandlers) {\n            applyAll(this._oneHandlers[type], context, args);\n            delete this._oneHandlers[type]; // will never fire again\n        }\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.hasHandlers = function (type) {\n        return (this._handlers && this._handlers[type] && this._handlers[type].length) ||\n            (this._oneHandlers && this._oneHandlers[type] && this._oneHandlers[type].length);\n    };\n    return EmitterMixin;\n}(Mixin));\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) {\n                return func !== handler;\n            });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.originEl = originEl;\n        this.els = els;\n        this.isHorizontal = isHorizontal;\n        this.isVertical = isVertical;\n    }\n    // Queries the els for coordinates and stores them.\n    // Call this method before using and of the get* methods below.\n    PositionCache.prototype.build = function () {\n        var originEl = this.originEl;\n        var originClientRect = this.originClientRect =\n            originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (this.isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (this.isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    };\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var lefts = this.lefts;\n        var rights = this.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i++) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var tops = this.tops;\n        var bottoms = this.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i++) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\n/*\nEmbodies a div that has potential scrollbars\n*/\nvar ScrollComponent = /** @class */ (function (_super) {\n    __extends(ScrollComponent, _super);\n    function ScrollComponent(overflowX, overflowY) {\n        var _this = _super.call(this, createElement('div', {\n            className: 'fc-scroller'\n        })) || this;\n        _this.overflowX = overflowX;\n        _this.overflowY = overflowY;\n        _this.applyOverflow();\n        return _this;\n    }\n    // sets to natural height, unlocks overflow\n    ScrollComponent.prototype.clear = function () {\n        this.setHeight('auto');\n        this.applyOverflow();\n    };\n    ScrollComponent.prototype.destroy = function () {\n        removeElement(this.el);\n    };\n    // Overflow\n    // -----------------------------------------------------------------------------------------------------------------\n    ScrollComponent.prototype.applyOverflow = function () {\n        applyStyle(this.el, {\n            overflowX: this.overflowX,\n            overflowY: this.overflowY\n        });\n    };\n    // Causes any 'auto' overflow values to resolves to 'scroll' or 'hidden'.\n    // Useful for preserving scrollbar widths regardless of future resizes.\n    // Can pass in scrollbarWidths for optimization.\n    ScrollComponent.prototype.lockOverflow = function (scrollbarWidths) {\n        var overflowX = this.overflowX;\n        var overflowY = this.overflowY;\n        scrollbarWidths = scrollbarWidths || this.getScrollbarWidths();\n        if (overflowX === 'auto') {\n            overflowX = (scrollbarWidths.bottom || // horizontal scrollbars?\n                this.canScrollHorizontally() // OR scrolling pane with massless scrollbars?\n            ) ? 'scroll' : 'hidden';\n        }\n        if (overflowY === 'auto') {\n            overflowY = (scrollbarWidths.left || scrollbarWidths.right || // horizontal scrollbars?\n                this.canScrollVertically() // OR scrolling pane with massless scrollbars?\n            ) ? 'scroll' : 'hidden';\n        }\n        applyStyle(this.el, { overflowX: overflowX, overflowY: overflowY });\n    };\n    ScrollComponent.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    ScrollComponent.prototype.getScrollbarWidths = function () {\n        var edges = computeEdges(this.el);\n        return {\n            left: edges.scrollbarLeft,\n            right: edges.scrollbarRight,\n            bottom: edges.scrollbarBottom\n        };\n    };\n    return ScrollComponent;\n}(ElementScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        this.calendarOptions = calendarOptions;\n        this.processIconOverride();\n    }\n    Theme.prototype.processIconOverride = function () {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(this.calendarOptions[this.iconOverrideOption]);\n        }\n    };\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName) {\n        var className = this.iconClasses[buttonName];\n        if (className) {\n            return this.baseIconClass + ' ' + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + ' ' + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar guid = 0;\nvar ComponentContext = /** @class */ (function () {\n    function ComponentContext(calendar, theme, dateEnv, options, view) {\n        this.calendar = calendar;\n        this.theme = theme;\n        this.dateEnv = dateEnv;\n        this.options = options;\n        this.view = view;\n        this.isRtl = options.dir === 'rtl';\n        this.eventOrderSpecs = parseFieldSpecs(options.eventOrder);\n        this.nextDayThreshold = createDuration(options.nextDayThreshold);\n    }\n    ComponentContext.prototype.extend = function (options, view) {\n        return new ComponentContext(this.calendar, this.theme, this.dateEnv, options || this.options, view || this.view);\n    };\n    return ComponentContext;\n}());\nvar Component = /** @class */ (function () {\n    function Component() {\n        this.uid = String(guid++);\n    }\n    Component.addEqualityFuncs = function (newFuncs) {\n        this.prototype.equalityFuncs = __assign({}, this.prototype.equalityFuncs, newFuncs);\n    };\n    Component.prototype.receiveProps = function (props, context) {\n        var oldContext = this.context;\n        this.context = context;\n        if (!oldContext) {\n            this.firstContext(context);\n        }\n        var _a = recycleProps(this.props || {}, props, this.equalityFuncs), anyChanges = _a.anyChanges, comboProps = _a.comboProps;\n        this.props = comboProps;\n        if (anyChanges) {\n            if (oldContext) {\n                this.beforeUpdate();\n            }\n            this.render(comboProps, context);\n            if (oldContext) {\n                this.afterUpdate();\n            }\n        }\n    };\n    Component.prototype.render = function (props, context) {\n    };\n    Component.prototype.firstContext = function (context) {\n    };\n    Component.prototype.beforeUpdate = function () {\n    };\n    Component.prototype.afterUpdate = function () {\n    };\n    // after destroy is called, this component won't ever be used again\n    Component.prototype.destroy = function () {\n    };\n    return Component;\n}());\nComponent.prototype.equalityFuncs = {};\n/*\nReuses old values when equal. If anything is unequal, returns newProps as-is.\nGreat for PureComponent, but won't be feasible with React, so just eliminate and use React's DOM diffing.\n*/\nfunction recycleProps(oldProps, newProps, equalityFuncs) {\n    var comboProps = {}; // some old, some new\n    var anyChanges = false;\n    for (var key in newProps) {\n        if (key in oldProps && (oldProps[key] === newProps[key] ||\n            (equalityFuncs[key] && equalityFuncs[key](oldProps[key], newProps[key])))) {\n            // equal to old? use old prop\n            comboProps[key] = oldProps[key];\n        }\n        else {\n            comboProps[key] = newProps[key];\n            anyChanges = true;\n        }\n    }\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            anyChanges = true;\n            break;\n        }\n    }\n    return { anyChanges: anyChanges, comboProps: comboProps };\n}\n\n/*\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    DateComponent.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeElement(this.el);\n    };\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.buildPositionCaches = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Validation\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isInteractionValid = function (interaction) {\n        var calendar = this.context.calendar;\n        var dateProfile = this.props.dateProfile; // HACK\n        var instances = interaction.mutatedEvents.instances;\n        if (dateProfile) { // HACK for DayTile\n            for (var instanceId in instances) {\n                if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n                    return false;\n                }\n            }\n        }\n        return isInteractionValid(interaction, calendar);\n    };\n    DateComponent.prototype.isDateSelectionValid = function (selection) {\n        var calendar = this.context.calendar;\n        var dateProfile = this.props.dateProfile; // HACK\n        if (dateProfile && // HACK for DayTile\n            !rangeContainsRange(dateProfile.validRange, selection.range)) {\n            return false;\n        }\n        return isDateSelectionValid(selection, calendar);\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-mirror') &&\n            (this.isPopover() || !this.isInPopover(el));\n        // ^above line ensures we don't detect a seg interaction within a nested component.\n        // it's a HACK because it only supports a popover as the nested component.\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        var segEl = elementClosest(el, this.fgSegSelector);\n        return (!segEl || segEl.classList.contains('fc-mirror')) &&\n            !elementClosest(el, '.fc-more') && // a \"more..\" link\n            !elementClosest(el, 'a[data-goto]') && // a clickable nav link\n            !this.isInPopover(el);\n    };\n    DateComponent.prototype.isPopover = function () {\n        return this.el.classList.contains('fc-popover');\n    };\n    DateComponent.prototype.isInPopover = function (el) {\n        return Boolean(elementClosest(el, '.fc-popover'));\n    };\n    return DateComponent;\n}(Component));\nDateComponent.prototype.fgSegSelector = '.fc-event-container > *';\nDateComponent.prototype.bgSegSelector = '.fc-bgevent:not(.fc-nonbusiness)';\n\nvar uid$1 = 0;\nfunction createPlugin(input) {\n    return {\n        id: String(uid$1++),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        eventDefParsers: input.eventDefParsers || [],\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        eventResizeJoinTransforms: input.eventResizeJoinTransforms || [],\n        viewContainerModifiers: input.viewContainerModifiers || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        defaultView: input.defaultView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {}\n    };\n}\nvar PluginSystem = /** @class */ (function () {\n    function PluginSystem() {\n        this.hooks = {\n            reducers: [],\n            eventDefParsers: [],\n            isDraggableTransformers: [],\n            eventDragMutationMassagers: [],\n            eventDefMutationAppliers: [],\n            dateSelectionTransformers: [],\n            datePointTransforms: [],\n            dateSpanTransforms: [],\n            views: {},\n            viewPropsTransformers: [],\n            isPropsValid: null,\n            externalDefTransforms: [],\n            eventResizeJoinTransforms: [],\n            viewContainerModifiers: [],\n            eventDropTransformers: [],\n            componentInteractions: [],\n            calendarInteractions: [],\n            themeClasses: {},\n            eventSourceDefs: [],\n            cmdFormatter: null,\n            recurringTypes: [],\n            namedTimeZonedImpl: null,\n            defaultView: '',\n            elementDraggingImpl: null,\n            optionChangeHandlers: {}\n        };\n        this.addedHash = {};\n    }\n    PluginSystem.prototype.add = function (plugin) {\n        if (!this.addedHash[plugin.id]) {\n            this.addedHash[plugin.id] = true;\n            for (var _i = 0, _a = plugin.deps; _i < _a.length; _i++) {\n                var dep = _a[_i];\n                this.add(dep);\n            }\n            this.hooks = combineHooks(this.hooks, plugin);\n        }\n    };\n    return PluginSystem;\n}());\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        eventDefParsers: hooks0.eventDefParsers.concat(hooks1.eventDefParsers),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign({}, hooks0.views, hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        eventResizeJoinTransforms: hooks0.eventResizeJoinTransforms.concat(hooks1.eventResizeJoinTransforms),\n        viewContainerModifiers: hooks0.viewContainerModifiers.concat(hooks1.viewContainerModifiers),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign({}, hooks0.themeClasses, hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        defaultView: hooks0.defaultView || hooks1.defaultView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign({}, hooks0.optionChangeHandlers, hooks1.optionChangeHandlers)\n    };\n}\n\nvar eventSourceDef = {\n    ignoreRange: true,\n    parseMeta: function (raw) {\n        if (Array.isArray(raw)) { // short form\n            return raw;\n        }\n        else if (Array.isArray(raw.events)) {\n            return raw.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta\n        });\n    }\n};\nvar ArrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef]\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (raw) {\n        if (typeof raw === 'function') { // short form\n            return raw;\n        }\n        else if (typeof raw.events === 'function') {\n            return raw.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.calendar.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, {\n            start: dateEnv.toDate(arg.range.start),\n            end: dateEnv.toDate(arg.range.end),\n            startStr: dateEnv.formatIso(arg.range.start),\n            endStr: dateEnv.formatIso(arg.range.end),\n            timeZone: dateEnv.timeZone\n        }), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure // send errorObj directly to failure callback\n        );\n    }\n};\nvar FuncEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1]\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            try {\n                var res = JSON.parse(xhr.responseText);\n                successCallback(res, xhr);\n            }\n            catch (err) {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + '=' + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar eventSourceDef$2 = {\n    parseMeta: function (raw) {\n        if (typeof raw === 'string') { // short form\n            raw = { url: raw };\n        }\n        else if (!raw || typeof raw !== 'object' || !raw.url) {\n            return null;\n        }\n        return {\n            url: raw.url,\n            method: (raw.method || 'GET').toUpperCase(),\n            extraParams: raw.extraParams,\n            startParam: raw.startParam,\n            endParam: raw.endParam,\n            timeZoneParam: raw.timeZoneParam\n        };\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.calendar);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    }\n};\nvar JsonFeedEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2]\n});\nfunction buildRequestParams(meta, range, calendar) {\n    var dateEnv = calendar.dateEnv;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = calendar.opt('startParam');\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = calendar.opt('endParam');\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = calendar.opt('timeZoneParam');\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar recurring = {\n    parse: function (rawEvent, leftoverProps, dateEnv) {\n        var createMarker = dateEnv.createMarker.bind(dateEnv);\n        var processors = {\n            daysOfWeek: null,\n            startTime: createDuration,\n            endTime: createDuration,\n            startRecur: createMarker,\n            endRecur: createMarker\n        };\n        var props = refineProps(rawEvent, processors, {}, leftoverProps);\n        var anyValid = false;\n        for (var propName in props) {\n            if (props[propName] != null) {\n                anyValid = true;\n                break;\n            }\n        }\n        if (anyValid) {\n            var duration = null;\n            if ('duration' in leftoverProps) {\n                duration = createDuration(leftoverProps.duration);\n                delete leftoverProps.duration;\n            }\n            if (!duration && props.startTime && props.endTime) {\n                duration = subtractDurations(props.endTime, props.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!props.startTime && !props.endTime),\n                duration: duration,\n                typeData: props // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        else {\n            return [];\n        }\n    }\n};\nvar SimpleRecurrencePlugin = createPlugin({\n    recurringTypes: [recurring]\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar DefaultOptionChangeHandlers = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, calendar, deepEqual) {\n            handleEventSources([events], calendar, deepEqual);\n        },\n        eventSources: handleEventSources,\n        plugins: handlePlugins\n    }\n});\nfunction handleEventSources(inputs, calendar, deepEqual) {\n    var unfoundSources = hashValuesToArray(calendar.state.eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i++) {\n            if (deepEqual(unfoundSources[i]._raw, input)) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        calendar.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        calendar.addEventSource(newInput);\n    }\n}\n// shortcoming: won't remove plugins\nfunction handlePlugins(inputs, calendar) {\n    calendar.addPluginInputs(inputs); // will gracefully handle duplicates\n}\n\nvar config = {}; // TODO: make these options\nvar globalDefaults = {\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    // display\n    columnHeader: true,\n    defaultView: '',\n    aspectRatio: 1.35,\n    header: {\n        left: 'title',\n        center: '',\n        right: 'today prev,next'\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    // nowIndicator: false,\n    scrollTime: '06:00:00',\n    minTime: '00:00:00',\n    maxTime: '24:00:00',\n    showNonCurrentDates: true,\n    // event ajax\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    // allDayDefault: undefined,\n    // locale\n    locales: [],\n    locale: '',\n    // dir: will get this from the default locale\n    // buttonIcons: null,\n    // allows setting a min-height to the event segment to prevent short events overlapping each other\n    timeGridEventMinHeight: 0,\n    themeSystem: 'standard',\n    // eventResizableFromStart: false,\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    // selectable: false,\n    unselectAuto: true,\n    // selectMinDistance: 0,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    // ^ if start tie, longer events go before shorter. final tie-breaker is title text\n    // rerenderDelay: null,\n    eventLimit: false,\n    eventLimitClick: 'popover',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5 // only applies to mouse\n};\nvar rtlDefaults = {\n    header: {\n        left: 'next,prev today',\n        center: '',\n        right: 'title'\n    },\n    buttonIcons: {\n        // TODO: make RTL support the responibility of the theme\n        prev: 'fc-icon-chevron-right',\n        next: 'fc-icon-chevron-left',\n        prevYear: 'fc-icon-chevrons-right',\n        nextYear: 'fc-icon-chevrons-left'\n    }\n};\nvar complexOptions = [\n    'header',\n    'footer',\n    'buttonText',\n    'buttonIcons'\n];\n// Merges an array of option objects into a single object\nfunction mergeOptions(optionObjs) {\n    return mergeProps(optionObjs, complexOptions);\n}\n// TODO: move this stuff to a \"plugin\"-related file...\nvar INTERNAL_PLUGINS = [\n    ArrayEventSourcePlugin,\n    FuncEventSourcePlugin,\n    JsonFeedEventSourcePlugin,\n    SimpleRecurrencePlugin,\n    DefaultOptionChangeHandlers\n];\nfunction refinePluginDefs(pluginInputs) {\n    var plugins = [];\n    for (var _i = 0, pluginInputs_1 = pluginInputs; _i < pluginInputs_1.length; _i++) {\n        var pluginInput = pluginInputs_1[_i];\n        if (typeof pluginInput === 'string') {\n            var globalName = 'FullCalendar' + capitaliseFirstLetter(pluginInput);\n            if (!window[globalName]) {\n                console.warn('Plugin file not loaded for ' + pluginInput);\n            }\n            else {\n                plugins.push(window[globalName].default); // is an ES6 module\n            }\n        }\n        else {\n            plugins.push(pluginInput);\n        }\n    }\n    return INTERNAL_PLUGINS.concat(plugins);\n}\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4 // 4 days need to be within the year to be considered the first week\n    },\n    dir: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list'\n    },\n    weekLabel: 'W',\n    allDayText: 'all-day',\n    eventLimitText: 'more',\n    noEventsMessage: 'No events to display'\n};\nfunction parseRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var globalArray = window['FullCalendarLocalesAll'] || []; // from locales-all.js\n    var globalObject = window['FullCalendarLocales'] || {}; // from locales/*.js. keys are meaningless\n    var allRawLocales = globalArray.concat(// globalArray is low prio\n    hashValuesToArray(globalObject), // medium prio\n    explicitRawLocales // highest prio\n    );\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    else {\n        return queryLocale(inputSingular, available);\n    }\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i++) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j--) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged\n    };\n}\n\nvar OptionsManager = /** @class */ (function () {\n    function OptionsManager(overrides) {\n        this.overrides = __assign({}, overrides); // make a copy\n        this.dynamicOverrides = {};\n        this.compute();\n    }\n    OptionsManager.prototype.mutate = function (updates, removals, isDynamic) {\n        if (!Object.keys(updates).length && !removals.length) {\n            return;\n        }\n        var overrideHash = isDynamic ? this.dynamicOverrides : this.overrides;\n        __assign(overrideHash, updates);\n        for (var _i = 0, removals_1 = removals; _i < removals_1.length; _i++) {\n            var propName = removals_1[_i];\n            delete overrideHash[propName];\n        }\n        this.compute();\n    };\n    // Computes the flattened options hash for the calendar and assigns to `this.options`.\n    // Assumes this.overrides and this.dynamicOverrides have already been initialized.\n    OptionsManager.prototype.compute = function () {\n        // TODO: not a very efficient system\n        var locales = firstDefined(// explicit locale option given?\n        this.dynamicOverrides.locales, this.overrides.locales, globalDefaults.locales);\n        var locale = firstDefined(// explicit locales option given?\n        this.dynamicOverrides.locale, this.overrides.locale, globalDefaults.locale);\n        var available = parseRawLocales(locales);\n        var localeDefaults = buildLocale(locale || available.defaultCode, available.map).options;\n        var dir = firstDefined(// based on options computed so far, is direction RTL?\n        this.dynamicOverrides.dir, this.overrides.dir, localeDefaults.dir);\n        var dirDefaults = dir === 'rtl' ? rtlDefaults : {};\n        this.dirDefaults = dirDefaults;\n        this.localeDefaults = localeDefaults;\n        this.computed = mergeOptions([\n            globalDefaults,\n            dirDefaults,\n            localeDefaults,\n            this.overrides,\n            this.dynamicOverrides\n        ]);\n    };\n    return OptionsManager;\n}());\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-(\\d{2})(-(\\d{2})([T ](\\d{2}):(\\d{2})(:(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number('0.' + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekLabel = settings.weekLabel != null ? settings.weekLabel : settings.locale.options.weekLabel;\n        this.cmdFormatter = settings.cmdFormatter;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        else {\n            // if we can't compute the current date val for a timezone,\n            // better to give the current local date vals than UTC\n            return arrayToUtcDate(dateToLocalArray(new Date()));\n        }\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        else if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        else if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        else if (unit === 'day') {\n            return startOfDay(m);\n        }\n        else if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        else if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        else if (unit === 'second') {\n            return startOfSecond(m);\n        }\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m)\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m)\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7)\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        else {\n            return weekOfYear(marker, this.weekDow, this.weekDoy);\n        }\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker)\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start)\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end)\n        }, this);\n    };\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        else if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        else {\n            return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n        }\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        else if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        else if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        else if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        else if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        else {\n            return new Date(m.valueOf() -\n                this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60 // convert minutes -> ms\n            );\n        }\n    };\n    return DateEnv;\n}());\n\nvar SIMPLE_SOURCE_PROPS = {\n    id: String,\n    allDayDefault: Boolean,\n    eventDataTransform: Function,\n    success: Function,\n    failure: Function\n};\nvar uid$2 = 0;\nfunction doesSourceNeedRange(eventSource, calendar) {\n    var defs = calendar.pluginSystem.hooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\nfunction parseEventSource(raw, calendar) {\n    var defs = calendar.pluginSystem.hooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i--) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            var res = parseEventSourceProps(typeof raw === 'object' ? raw : {}, meta, i, calendar);\n            res._raw = raw;\n            return res;\n        }\n    }\n    return null;\n}\nfunction parseEventSourceProps(raw, meta, sourceDefId, calendar) {\n    var leftovers0 = {};\n    var props = refineProps(raw, SIMPLE_SOURCE_PROPS, {}, leftovers0);\n    var leftovers1 = {};\n    var ui = processUnscopedUiProps(leftovers0, calendar, leftovers1);\n    props.isFetching = false;\n    props.latestFetchId = '';\n    props.fetchRange = null;\n    props.publicId = String(raw.id || '');\n    props.sourceId = String(uid$2++);\n    props.sourceDefId = sourceDefId;\n    props.meta = meta;\n    props.ui = ui;\n    props.extendedProps = leftovers1;\n    return props;\n}\n\nfunction reduceEventSources (eventSources, action, dateProfile, calendar) {\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, dateProfile ? dateProfile.activeRange : null, calendar);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'SET_DATE':\n        case 'SET_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, dateProfile.activeRange, calendar);\n            }\n            else {\n                return eventSources;\n            }\n        case 'FETCH_EVENT_SOURCES':\n        case 'CHANGE_TIMEZONE':\n            return fetchSourcesByIds(eventSources, action.sourceIds ?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, calendar), dateProfile ? dateProfile.activeRange : null, calendar);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nvar uid$3 = 0;\nfunction addSources(eventSourceHash, sources, fetchRange, calendar) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, calendar);\n    }\n    return __assign({}, eventSourceHash, hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) {\n        return eventSource.sourceId !== sourceId;\n    });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, calendar) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) {\n        return isSourceDirty(eventSource, fetchRange, calendar);\n    }), fetchRange, calendar);\n}\nfunction isSourceDirty(eventSource, fetchRange, calendar) {\n    if (!doesSourceNeedRange(eventSource, calendar)) {\n        return !eventSource.latestFetchId;\n    }\n    else {\n        return !calendar.opt('lazyFetching') ||\n            !eventSource.fetchRange ||\n            eventSource.isFetching || // always cancel outdated in-progress fetches\n            fetchRange.start < eventSource.fetchRange.start ||\n            fetchRange.end > eventSource.fetchRange.end;\n    }\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, calendar) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, calendar);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, calendar) {\n    var sourceDef = calendar.pluginSystem.hooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = String(uid$3++);\n    sourceDef.fetch({\n        eventSource: eventSource,\n        calendar: calendar,\n        range: fetchRange\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        var calSuccess = calendar.opt('eventSourceSuccess');\n        var calSuccessRes;\n        var sourceSuccessRes;\n        if (eventSource.success) {\n            sourceSuccessRes = eventSource.success(rawEvents, res.xhr);\n        }\n        if (calSuccess) {\n            calSuccessRes = calSuccess(rawEvents, res.xhr);\n        }\n        rawEvents = sourceSuccessRes || calSuccessRes || rawEvents;\n        calendar.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents\n        });\n    }, function (error) {\n        var callFailure = calendar.opt('eventSourceFailure');\n        console.warn(error.message, error);\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        if (callFailure) {\n            callFailure(error);\n        }\n        calendar.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error\n        });\n    });\n    return __assign({}, eventSource, { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign({}, sourceHash, (_a = {}, _a[sourceId] = __assign({}, eventSource, { isFetching: false, fetchRange: fetchRange // also serves as a marker that at least one fetch has completed\n         }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, calendar) {\n    return filterHash(eventSources, function (eventSource) {\n        return doesSourceNeedRange(eventSource, calendar);\n    });\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(viewSpec, calendar) {\n        this.viewSpec = viewSpec;\n        this.options = viewSpec.options;\n        this.dateEnv = calendar.dateEnv;\n        this.calendar = calendar;\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate) {\n        var dateEnv = this.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate) {\n        var dateEnv = this.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = false; }\n        var validRange;\n        var minTime = null;\n        var maxTime = null;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!this.options.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        minTime = createDuration(this.options.minTime);\n        maxTime = createDuration(this.options.maxTime);\n        activeRange = this.adjustActiveRange(activeRange, minTime, maxTime);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            minTime: minTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            maxTime: maxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration)\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        return this.getRangeOption('validRange', this.calendar.getNow()) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var _a = this, viewSpec = _a.viewSpec, dateEnv = _a.dateEnv;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (viewSpec.duration) {\n            duration = viewSpec.duration;\n            unit = viewSpec.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.options.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // minTime or maxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range, minTime, maxTime) {\n        var dateEnv = this.dateEnv;\n        var start = range.start;\n        var end = range.end;\n        if (this.viewSpec.class.prototype.usesMinMaxTime) {\n            // expand active range if minTime is negative (why not when positive?)\n            if (asRoughDays(minTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, minTime);\n            }\n            // expand active range if maxTime is beyond one day (why not when positive?)\n            if (asRoughDays(maxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, maxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var dateEnv = this.dateEnv;\n        var alignment = this.options.dateAlignment;\n        var dateIncrementInput;\n        var dateIncrementDuration;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!alignment) {\n            dateIncrementInput = this.options.dateIncrement;\n            if (dateIncrementInput) {\n                dateIncrementDuration = createDuration(dateIncrementInput);\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrementDuration) < asRoughMs(duration)) {\n                    alignment = greatestDurationDenominator(dateIncrementDuration, !getWeeksFromInput(dateIncrementInput)).unit;\n                }\n                else {\n                    alignment = unit;\n                }\n            }\n            else {\n                alignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, alignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var dateEnv = this.dateEnv;\n        var customAlignment = this.options.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (customAlignment) {\n            start = dateEnv.startOf(start, customAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount++;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var dateEnv = this.dateEnv;\n        var visibleRange = this.getRangeOption('visibleRange', dateEnv.toDate(date));\n        if (visibleRange && (visibleRange.start == null || visibleRange.end == null)) {\n            return null;\n        }\n        return visibleRange;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrementInput = this.options.dateIncrement;\n        var customAlignment;\n        if (dateIncrementInput) {\n            return createDuration(dateIncrementInput);\n        }\n        else if ((customAlignment = this.options.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        else if (fallback) {\n            return fallback;\n        }\n        else {\n            return createDuration({ days: 1 });\n        }\n    };\n    // Arguments after name will be forwarded to a hypothetical function value\n    // WARNING: passed-in arguments will be given to generator functions as-is and can cause side-effects.\n    // Always clone your objects if you fear mutation.\n    DateProfileGenerator.prototype.getRangeOption = function (name) {\n        var otherArgs = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            otherArgs[_i - 1] = arguments[_i];\n        }\n        var val = this.options[name];\n        if (typeof val === 'function') {\n            val = val.apply(null, otherArgs);\n        }\n        if (val) {\n            val = parseRange(val, this.dateEnv);\n        }\n        if (val) {\n            val = computeVisibleDayRange(val);\n        }\n        return val;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.options.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.options.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i++) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt++;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start;\n        var end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n// TODO: find a way to avoid comparing DateProfiles. it's tedious\nfunction isDateProfilesEqual(p0, p1) {\n    return rangesEqual(p0.validRange, p1.validRange) &&\n        rangesEqual(p0.activeRange, p1.activeRange) &&\n        rangesEqual(p0.renderRange, p1.renderRange) &&\n        durationsEqual(p0.minTime, p1.minTime) &&\n        durationsEqual(p0.maxTime, p1.maxTime);\n    /*\n    TODO: compare more?\n      currentRange: DateRange\n      currentRangeUnit: string\n      isRangeAllDay: boolean\n      isValid: boolean\n      dateIncrement: Duration\n    */\n}\n\nfunction reduce (state, action, calendar) {\n    var viewType = reduceViewType(state.viewType, action);\n    var dateProfile = reduceDateProfile(state.dateProfile, action, state.currentDate, viewType, calendar);\n    var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendar);\n    var nextState = __assign({}, state, { viewType: viewType,\n        dateProfile: dateProfile, currentDate: reduceCurrentDate(state.currentDate, action, dateProfile), eventSources: eventSources, eventStore: reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendar), dateSelection: reduceDateSelection(state.dateSelection, action, calendar), eventSelection: reduceSelectedEvent(state.eventSelection, action), eventDrag: reduceEventDrag(state.eventDrag, action, eventSources, calendar), eventResize: reduceEventResize(state.eventResize, action, eventSources, calendar), eventSourceLoadingLevel: computeLoadingLevel(eventSources), loadingLevel: computeLoadingLevel(eventSources) });\n    for (var _i = 0, _a = calendar.pluginSystem.hooks.reducers; _i < _a.length; _i++) {\n        var reducerFunc = _a[_i];\n        nextState = reducerFunc(nextState, action, calendar);\n    }\n    // console.log(action.type, nextState)\n    return nextState;\n}\nfunction reduceViewType(currentViewType, action) {\n    switch (action.type) {\n        case 'SET_VIEW_TYPE':\n            return action.viewType;\n        default:\n            return currentViewType;\n    }\n}\nfunction reduceDateProfile(currentDateProfile, action, currentDate, viewType, calendar) {\n    var newDateProfile;\n    switch (action.type) {\n        case 'PREV':\n            newDateProfile = calendar.dateProfileGenerators[viewType].buildPrev(currentDateProfile, currentDate);\n            break;\n        case 'NEXT':\n            newDateProfile = calendar.dateProfileGenerators[viewType].buildNext(currentDateProfile, currentDate);\n            break;\n        case 'SET_DATE':\n            if (!currentDateProfile.activeRange ||\n                !rangeContainsMarker(currentDateProfile.currentRange, action.dateMarker)) {\n                newDateProfile = calendar.dateProfileGenerators[viewType].build(action.dateMarker, undefined, true // forceToValid\n                );\n            }\n            break;\n        case 'SET_VIEW_TYPE':\n            var generator = calendar.dateProfileGenerators[viewType];\n            if (!generator) {\n                throw new Error(viewType ?\n                    'The FullCalendar view \"' + viewType + '\" does not exist. Make sure your plugins are loaded correctly.' :\n                    'No available FullCalendar view plugins.');\n            }\n            newDateProfile = generator.build(action.dateMarker || currentDate, undefined, true // forceToValid\n            );\n            break;\n    }\n    if (newDateProfile &&\n        newDateProfile.isValid &&\n        !(currentDateProfile && isDateProfilesEqual(currentDateProfile, newDateProfile))) {\n        return newDateProfile;\n    }\n    else {\n        return currentDateProfile;\n    }\n}\nfunction reduceCurrentDate(currentDate, action, dateProfile) {\n    switch (action.type) {\n        case 'PREV':\n        case 'NEXT':\n            if (!rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n                return dateProfile.currentRange.start;\n            }\n            else {\n                return currentDate;\n            }\n        case 'SET_DATE':\n        case 'SET_VIEW_TYPE':\n            var newDate = action.dateMarker || currentDate;\n            if (dateProfile.activeRange && !rangeContainsMarker(dateProfile.activeRange, newDate)) {\n                return dateProfile.currentRange.start;\n            }\n            else {\n                return newDate;\n            }\n        default:\n            return currentDate;\n    }\n}\nfunction reduceDateSelection(currentSelection, action, calendar) {\n    switch (action.type) {\n        case 'SELECT_DATES':\n            return action.selection;\n        case 'UNSELECT_DATES':\n            return null;\n        default:\n            return currentSelection;\n    }\n}\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        case 'UNSELECT_EVENT':\n            return '';\n        default:\n            return currentInstanceId;\n    }\n}\nfunction reduceEventDrag(currentDrag, action, sources, calendar) {\n    switch (action.type) {\n        case 'SET_EVENT_DRAG':\n            var newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n                origSeg: newDrag.origSeg\n            };\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        default:\n            return currentDrag;\n    }\n}\nfunction reduceEventResize(currentResize, action, sources, calendar) {\n    switch (action.type) {\n        case 'SET_EVENT_RESIZE':\n            var newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n                origSeg: newResize.origSeg\n            };\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        default:\n            return currentResize;\n    }\n}\nfunction computeLoadingLevel(eventSources) {\n    var cnt = 0;\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            cnt++;\n        }\n    }\n    return cnt;\n}\n\nvar STANDARD_PROPS = {\n    start: null,\n    end: null,\n    allDay: Boolean\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        else {\n            range.end = dateEnv.add(range.start, defaultDuration);\n        }\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var leftovers = {};\n    var standardProps = refineProps(raw, STANDARD_PROPS, {}, leftovers);\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    // use this leftover object as the selection object\n    leftovers.range = {\n        start: startMeta ? startMeta.marker : null,\n        end: endMeta ? endMeta.marker : null\n    };\n    leftovers.allDay = allDay;\n    return leftovers;\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return {\n        start: dateEnv.toDate(span.range.start),\n        end: dateEnv.toDate(span.range.end),\n        startStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        endStr: dateEnv.formatIso(span.range.end, { omitTime: span.allDay }),\n        allDay: span.allDay\n    };\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, calendar) {\n    var def = parseEventDef({ editable: false }, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    calendar);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true\n    };\n}\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) {\n        return (defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n            ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null);\n    };\n    var theClass = queryProp('class');\n    var superType = queryProp('superType');\n    if (!superType && theClass) {\n        superType =\n            findViewNameBySubclass(theClass, overrideConfigs) ||\n                findViewNameBySubclass(theClass, defaultConfigs);\n    }\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theClass && superDef) {\n        theClass = superDef.class;\n    }\n    if (!theClass) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        class: theClass,\n        defaults: __assign({}, (superDef ? superDef.defaults : {}), (defaultConfig ? defaultConfig.options : {})),\n        overrides: __assign({}, (superDef ? superDef.overrides : {}), (overrideConfig ? overrideConfig.options : {}))\n    };\n}\nfunction findViewNameBySubclass(viewSubclass, configs) {\n    var superProto = Object.getPrototypeOf(viewSubclass.prototype);\n    for (var viewType in configs) {\n        var parsed = configs[viewType];\n        // need DIRECT subclass, so instanceof won't do it\n        if (parsed.class && parsed.class.prototype === superProto) {\n            return viewType;\n        }\n    }\n    return '';\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nvar VIEW_DEF_PROPS = {\n    type: String,\n    class: null\n};\nfunction parseViewConfig(input) {\n    if (typeof input === 'function') {\n        input = { class: input };\n    }\n    var options = {};\n    var props = refineProps(input, VIEW_DEF_PROPS, {}, options);\n    return {\n        superType: props.type,\n        class: props.class,\n        options: options\n    };\n}\n\nfunction buildViewSpecs(defaultInputs, optionsManager) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionsManager.overrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) {\n        return buildViewSpec(viewDef, overrideConfigs, optionsManager);\n    });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionsManager) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        optionsManager.dynamicOverrides.duration ||\n        optionsManager.overrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDuration(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration, !getWeeksFromInput(durationInput));\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].options : {};\n            }\n        }\n    }\n    var queryButtonText = function (options) {\n        var buttonTextMap = options.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n    };\n    return {\n        type: viewDef.type,\n        class: viewDef.class,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        options: __assign({}, globalDefaults, viewDef.defaults, optionsManager.dirDefaults, optionsManager.localeDefaults, optionsManager.overrides, singleUnitOverrides, viewDef.overrides, optionsManager.dynamicOverrides),\n        buttonTextOverride: queryButtonText(optionsManager.dynamicOverrides) ||\n            queryButtonText(optionsManager.overrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(optionsManager.localeDefaults) ||\n            queryButtonText(optionsManager.dirDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(globalDefaults) ||\n            viewDef.type // fall back to given view name\n    };\n}\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar(extraClassName) {\n        var _this = _super.call(this) || this;\n        _this._renderLayout = memoizeRendering(_this.renderLayout, _this.unrenderLayout);\n        _this._updateTitle = memoizeRendering(_this.updateTitle, null, [_this._renderLayout]);\n        _this._updateActiveButton = memoizeRendering(_this.updateActiveButton, null, [_this._renderLayout]);\n        _this._updateToday = memoizeRendering(_this.updateToday, null, [_this._renderLayout]);\n        _this._updatePrev = memoizeRendering(_this.updatePrev, null, [_this._renderLayout]);\n        _this._updateNext = memoizeRendering(_this.updateNext, null, [_this._renderLayout]);\n        _this.el = createElement('div', { className: 'fc-toolbar ' + extraClassName });\n        return _this;\n    }\n    Toolbar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this._renderLayout.unrender(); // should unrender everything else\n        removeElement(this.el);\n    };\n    Toolbar.prototype.render = function (props) {\n        this._renderLayout(props.layout);\n        this._updateTitle(props.title);\n        this._updateActiveButton(props.activeButton);\n        this._updateToday(props.isTodayEnabled);\n        this._updatePrev(props.isPrevEnabled);\n        this._updateNext(props.isNextEnabled);\n    };\n    Toolbar.prototype.renderLayout = function (layout) {\n        var el = this.el;\n        this.viewsWithButtons = [];\n        appendToElement(el, this.renderSection('left', layout.left));\n        appendToElement(el, this.renderSection('center', layout.center));\n        appendToElement(el, this.renderSection('right', layout.right));\n    };\n    Toolbar.prototype.unrenderLayout = function () {\n        this.el.innerHTML = '';\n    };\n    Toolbar.prototype.renderSection = function (position, buttonStr) {\n        var _this = this;\n        var _a = this.context, theme = _a.theme, calendar = _a.calendar;\n        var optionsManager = calendar.optionsManager;\n        var viewSpecs = calendar.viewSpecs;\n        var sectionEl = createElement('div', { className: 'fc-' + position });\n        var calendarCustomButtons = optionsManager.computed.customButtons || {};\n        var calendarButtonTextOverrides = optionsManager.overrides.buttonText || {};\n        var calendarButtonText = optionsManager.computed.buttonText || {};\n        if (buttonStr) {\n            buttonStr.split(' ').forEach(function (buttonGroupStr, i) {\n                var groupChildren = [];\n                var isOnlyButtons = true;\n                var groupEl;\n                buttonGroupStr.split(',').forEach(function (buttonName, j) {\n                    var customButtonProps;\n                    var viewSpec;\n                    var buttonClick;\n                    var buttonIcon; // only one of these will be set\n                    var buttonText; // \"\n                    var buttonInnerHtml;\n                    var buttonClasses;\n                    var buttonEl;\n                    var buttonAriaAttr;\n                    if (buttonName === 'title') {\n                        groupChildren.push(htmlToElement('<h2>&nbsp;</h2>')); // we always want it to take up height\n                        isOnlyButtons = false;\n                    }\n                    else {\n                        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n                            buttonClick = function (ev) {\n                                if (customButtonProps.click) {\n                                    customButtonProps.click.call(buttonEl, ev);\n                                }\n                            };\n                            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\n                                (buttonText = customButtonProps.text);\n                        }\n                        else if ((viewSpec = viewSpecs[buttonName])) {\n                            _this.viewsWithButtons.push(buttonName);\n                            buttonClick = function () {\n                                calendar.changeView(buttonName);\n                            };\n                            (buttonText = viewSpec.buttonTextOverride) ||\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\n                                (buttonText = viewSpec.buttonTextDefault);\n                        }\n                        else if (calendar[buttonName]) { // a calendar method\n                            buttonClick = function () {\n                                calendar[buttonName]();\n                            };\n                            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\n                                (buttonText = calendarButtonText[buttonName]);\n                            //            ^ everything else is considered default\n                        }\n                        if (buttonClick) {\n                            buttonClasses = [\n                                'fc-' + buttonName + '-button',\n                                theme.getClass('button')\n                            ];\n                            if (buttonText) {\n                                buttonInnerHtml = htmlEscape(buttonText);\n                                buttonAriaAttr = '';\n                            }\n                            else if (buttonIcon) {\n                                buttonInnerHtml = \"<span class='\" + buttonIcon + \"'></span>\";\n                                buttonAriaAttr = ' aria-label=\"' + buttonName + '\"';\n                            }\n                            buttonEl = htmlToElement(// type=\"button\" so that it doesn't submit a form\n                            '<button type=\"button\" class=\"' + buttonClasses.join(' ') + '\"' +\n                                buttonAriaAttr +\n                                '>' + buttonInnerHtml + '</button>');\n                            buttonEl.addEventListener('click', buttonClick);\n                            groupChildren.push(buttonEl);\n                        }\n                    }\n                });\n                if (groupChildren.length > 1) {\n                    groupEl = document.createElement('div');\n                    var buttonGroupClassName = theme.getClass('buttonGroup');\n                    if (isOnlyButtons && buttonGroupClassName) {\n                        groupEl.classList.add(buttonGroupClassName);\n                    }\n                    appendToElement(groupEl, groupChildren);\n                    sectionEl.appendChild(groupEl);\n                }\n                else {\n                    appendToElement(sectionEl, groupChildren); // 1 or 0 children\n                }\n            });\n        }\n        return sectionEl;\n    };\n    Toolbar.prototype.updateToday = function (isTodayEnabled) {\n        this.toggleButtonEnabled('today', isTodayEnabled);\n    };\n    Toolbar.prototype.updatePrev = function (isPrevEnabled) {\n        this.toggleButtonEnabled('prev', isPrevEnabled);\n    };\n    Toolbar.prototype.updateNext = function (isNextEnabled) {\n        this.toggleButtonEnabled('next', isNextEnabled);\n    };\n    Toolbar.prototype.updateTitle = function (text) {\n        findElements(this.el, 'h2').forEach(function (titleEl) {\n            titleEl.innerText = text;\n        });\n    };\n    Toolbar.prototype.updateActiveButton = function (buttonName) {\n        var theme = this.context.theme;\n        var className = theme.getClass('buttonActive');\n        findElements(this.el, 'button').forEach(function (buttonEl) {\n            if (buttonName && buttonEl.classList.contains('fc-' + buttonName + '-button')) {\n                buttonEl.classList.add(className);\n            }\n            else {\n                buttonEl.classList.remove(className);\n            }\n        });\n    };\n    Toolbar.prototype.toggleButtonEnabled = function (buttonName, bool) {\n        findElements(this.el, '.fc-' + buttonName + '-button').forEach(function (buttonEl) {\n            buttonEl.disabled = !bool;\n        });\n    };\n    return Toolbar;\n}(Component));\n\nvar CalendarComponent = /** @class */ (function (_super) {\n    __extends(CalendarComponent, _super);\n    function CalendarComponent(el) {\n        var _this = _super.call(this) || this;\n        _this.elClassNames = [];\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.renderToolbars = memoizeRendering(_this._renderToolbars, _this._unrenderToolbars, [_this.renderSkeleton]);\n        _this.buildComponentContext = memoize(buildComponentContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.el = el;\n        _this.computeTitle = memoize(computeTitle);\n        _this.parseBusinessHours = memoize(function (input) {\n            return parseBusinessHours(input, _this.context.calendar);\n        });\n        return _this;\n    }\n    CalendarComponent.prototype.render = function (props, context) {\n        this.freezeHeight();\n        var title = this.computeTitle(props.dateProfile, props.viewSpec.options);\n        this.renderSkeleton(context);\n        this.renderToolbars(props.viewSpec, props.dateProfile, props.currentDate, title);\n        this.renderView(props, title);\n        this.updateSize();\n        this.thawHeight();\n    };\n    CalendarComponent.prototype.destroy = function () {\n        if (this.header) {\n            this.header.destroy();\n        }\n        if (this.footer) {\n            this.footer.destroy();\n        }\n        this.renderSkeleton.unrender(); // will call destroyView\n        _super.prototype.destroy.call(this);\n    };\n    CalendarComponent.prototype._renderSkeleton = function (context) {\n        this.updateElClassNames(context);\n        prependToElement(this.el, this.contentEl = createElement('div', { className: 'fc-view-container' }));\n        var calendar = context.calendar;\n        for (var _i = 0, _a = calendar.pluginSystem.hooks.viewContainerModifiers; _i < _a.length; _i++) {\n            var modifyViewContainer = _a[_i];\n            modifyViewContainer(this.contentEl, calendar);\n        }\n    };\n    CalendarComponent.prototype._unrenderSkeleton = function () {\n        // weird to have this here\n        if (this.view) {\n            this.savedScroll = this.view.queryScroll();\n            this.view.destroy();\n            this.view = null;\n        }\n        removeElement(this.contentEl);\n        this.removeElClassNames();\n    };\n    CalendarComponent.prototype.removeElClassNames = function () {\n        var classList = this.el.classList;\n        for (var _i = 0, _a = this.elClassNames; _i < _a.length; _i++) {\n            var className = _a[_i];\n            classList.remove(className);\n        }\n        this.elClassNames = [];\n    };\n    CalendarComponent.prototype.updateElClassNames = function (context) {\n        this.removeElClassNames();\n        var theme = context.theme, options = context.options;\n        this.elClassNames = [\n            'fc',\n            'fc-' + options.dir,\n            theme.getClass('widget')\n        ];\n        var classList = this.el.classList;\n        for (var _i = 0, _a = this.elClassNames; _i < _a.length; _i++) {\n            var className = _a[_i];\n            classList.add(className);\n        }\n    };\n    CalendarComponent.prototype._renderToolbars = function (viewSpec, dateProfile, currentDate, title) {\n        var _a = this, context = _a.context, header = _a.header, footer = _a.footer;\n        var options = context.options, calendar = context.calendar;\n        var headerLayout = options.header;\n        var footerLayout = options.footer;\n        var dateProfileGenerator = this.props.dateProfileGenerator;\n        var now = calendar.getNow();\n        var todayInfo = dateProfileGenerator.build(now);\n        var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate);\n        var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate);\n        var toolbarProps = {\n            title: title,\n            activeButton: viewSpec.type,\n            isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n            isPrevEnabled: prevInfo.isValid,\n            isNextEnabled: nextInfo.isValid\n        };\n        if (headerLayout) {\n            if (!header) {\n                header = this.header = new Toolbar('fc-header-toolbar');\n                prependToElement(this.el, header.el);\n            }\n            header.receiveProps(__assign({ layout: headerLayout }, toolbarProps), context);\n        }\n        else if (header) {\n            header.destroy();\n            header = this.header = null;\n        }\n        if (footerLayout) {\n            if (!footer) {\n                footer = this.footer = new Toolbar('fc-footer-toolbar');\n                appendToElement(this.el, footer.el);\n            }\n            footer.receiveProps(__assign({ layout: footerLayout }, toolbarProps), context);\n        }\n        else if (footer) {\n            footer.destroy();\n            footer = this.footer = null;\n        }\n    };\n    CalendarComponent.prototype._unrenderToolbars = function () {\n        if (this.header) {\n            this.header.destroy();\n            this.header = null;\n        }\n        if (this.footer) {\n            this.footer.destroy();\n            this.footer = null;\n        }\n    };\n    CalendarComponent.prototype.renderView = function (props, title) {\n        var view = this.view;\n        var _a = this.context, calendar = _a.calendar, options = _a.options;\n        var viewSpec = props.viewSpec, dateProfileGenerator = props.dateProfileGenerator;\n        if (!view || view.viewSpec !== viewSpec) {\n            if (view) {\n                view.destroy();\n            }\n            view = this.view = new viewSpec['class'](viewSpec, this.contentEl);\n            if (this.savedScroll) {\n                view.addScroll(this.savedScroll, true);\n                this.savedScroll = null;\n            }\n        }\n        view.title = title; // for the API\n        var viewProps = {\n            dateProfileGenerator: dateProfileGenerator,\n            dateProfile: props.dateProfile,\n            businessHours: this.parseBusinessHours(viewSpec.options.businessHours),\n            eventStore: props.eventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize\n        };\n        var transformers = this.buildViewPropTransformers(calendar.pluginSystem.hooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, viewSpec, props, options));\n        }\n        view.receiveProps(viewProps, this.buildComponentContext(this.context, viewSpec, view));\n    };\n    // Sizing\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarComponent.prototype.updateSize = function (isResize) {\n        if (isResize === void 0) { isResize = false; }\n        var view = this.view;\n        if (!view) {\n            return; // why?\n        }\n        if (isResize || this.isHeightAuto == null) {\n            this.computeHeightVars();\n        }\n        view.updateSize(isResize, this.viewHeight, this.isHeightAuto);\n        view.updateNowIndicator(); // we need to guarantee this will run after updateSize\n        view.popScroll(isResize);\n    };\n    CalendarComponent.prototype.computeHeightVars = function () {\n        var calendar = this.context.calendar; // yuck. need to handle dynamic options\n        var heightInput = calendar.opt('height');\n        var contentHeightInput = calendar.opt('contentHeight');\n        this.isHeightAuto = heightInput === 'auto' || contentHeightInput === 'auto';\n        if (typeof contentHeightInput === 'number') { // exists and not 'auto'\n            this.viewHeight = contentHeightInput;\n        }\n        else if (typeof contentHeightInput === 'function') { // exists and is a function\n            this.viewHeight = contentHeightInput();\n        }\n        else if (typeof heightInput === 'number') { // exists and not 'auto'\n            this.viewHeight = heightInput - this.queryToolbarsHeight();\n        }\n        else if (typeof heightInput === 'function') { // exists and is a function\n            this.viewHeight = heightInput() - this.queryToolbarsHeight();\n        }\n        else if (heightInput === 'parent') { // set to height of parent element\n            var parentEl = this.el.parentNode;\n            this.viewHeight = parentEl.getBoundingClientRect().height - this.queryToolbarsHeight();\n        }\n        else {\n            this.viewHeight = Math.round(this.contentEl.getBoundingClientRect().width /\n                Math.max(calendar.opt('aspectRatio'), .5));\n        }\n    };\n    CalendarComponent.prototype.queryToolbarsHeight = function () {\n        var height = 0;\n        if (this.header) {\n            height += computeHeightAndMargins(this.header.el);\n        }\n        if (this.footer) {\n            height += computeHeightAndMargins(this.footer.el);\n        }\n        return height;\n    };\n    // Height \"Freezing\"\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarComponent.prototype.freezeHeight = function () {\n        applyStyle(this.el, {\n            height: this.el.getBoundingClientRect().height,\n            overflow: 'hidden'\n        });\n    };\n    CalendarComponent.prototype.thawHeight = function () {\n        applyStyle(this.el, {\n            height: '',\n            overflow: ''\n        });\n    };\n    return CalendarComponent;\n}(Component));\n// Title and Date Formatting\n// -----------------------------------------------------------------------------------------------------------------\n// Computes what the title at the top of the calendar should be for this view\nfunction computeTitle(dateProfile, viewOptions) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return this.context.dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || computeTitleFormat(dateProfile), viewOptions.titleRangeSeparator), { isEndExclusive: dateProfile.isRangeAllDay });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction computeTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    else if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    else {\n        var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n        if (days !== null && days > 1) {\n            // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n            return { year: 'numeric', month: 'short', day: 'numeric' };\n        }\n        else {\n            // one day. longer, like \"September 9 2014\"\n            return { year: 'numeric', month: 'long', day: 'numeric' };\n        }\n    }\n}\n// build a context scoped to the view\nfunction buildComponentContext(context, viewSpec, view) {\n    return context.extend(viewSpec.options, view);\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (theClass) {\n        return new theClass();\n    });\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var _a = component.context, calendar = _a.calendar, view = _a.view;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-has-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                calendar.publiclyTrigger('eventClick', [\n                    {\n                        el: segEl,\n                        event: new EventApi(component.context.calendar, seg.eventRange.def, seg.eventRange.instance),\n                        jsEvent: ev,\n                        view: view\n                    }\n                ]);\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        var component = settings.component;\n        _this.destroy = listenBySelector(component.el, 'click', component.fgSegSelector + ',' + component.bgSegSelector, _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                segEl.classList.add('fc-allow-mouse-resize');\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                segEl.classList.remove('fc-allow-mouse-resize');\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        var component = settings.component;\n        _this.removeHoverListeners = listenToHoverBySelector(component.el, component.fgSegSelector + ',' + component.bgSegSelector, _this.handleSegEnter, _this.handleSegLeave);\n        // how to make sure component already has context?\n        component.context.calendar.on('eventElRemove', _this.handleEventElRemove);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n        this.component.context.calendar.off('eventElRemove', this.handleEventElRemove);\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var _a = component.context, calendar = _a.calendar, view = _a.view;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            calendar.publiclyTrigger(publicEvName, [\n                {\n                    el: segEl,\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: view\n                }\n            ]);\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    widget: 'fc-unthemed',\n    widgetHeader: 'fc-widget-header',\n    widgetContent: 'fc-widget-content',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n    popoverHeader: 'fc-widget-header',\n    popoverContent: 'fc-widget-content',\n    // day grid\n    headerRow: 'fc-widget-header',\n    dayRow: 'fc-widget-content',\n    // list view\n    listView: 'fc-widget-content'\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right'\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons';\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nvar Calendar = /** @class */ (function () {\n    function Calendar(el, overrides) {\n        var _this = this;\n        this.buildComponentContext = memoize(buildComponentContext$1);\n        this.parseRawLocales = memoize(parseRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.buildEventUiSingleBase = memoize(this._buildEventUiSingleBase);\n        this.buildSelectionConfig = memoize(this._buildSelectionConfig);\n        this.buildEventUiBySource = memoizeOutput(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.interactionsStore = {};\n        this.actionQueue = [];\n        this.isReducing = false;\n        // isDisplaying: boolean = false // installed in DOM? accepting renders?\n        this.needsRerender = false; // needs a render?\n        this.isRendering = false; // currently in the executeRender function?\n        this.renderingPauseDepth = 0;\n        this.buildDelayedRerender = memoize(buildDelayedRerender);\n        this.afterSizingTriggers = {};\n        this.isViewUpdated = false;\n        this.isDatesUpdated = false;\n        this.isEventsUpdated = false;\n        this.el = el;\n        this.optionsManager = new OptionsManager(overrides || {});\n        this.pluginSystem = new PluginSystem();\n        // only do once. don't do in handleOptions. because can't remove plugins\n        this.addPluginInputs(this.optionsManager.computed.plugins || []);\n        this.handleOptions(this.optionsManager.computed);\n        this.publiclyTrigger('_init'); // for tests\n        this.hydrate();\n        this.calendarInteractions = this.pluginSystem.hooks.calendarInteractions\n            .map(function (calendarInteractionClass) {\n            return new calendarInteractionClass(_this);\n        });\n    }\n    Calendar.prototype.addPluginInputs = function (pluginInputs) {\n        var pluginDefs = refinePluginDefs(pluginInputs);\n        for (var _i = 0, pluginDefs_1 = pluginDefs; _i < pluginDefs_1.length; _i++) {\n            var pluginDef = pluginDefs_1[_i];\n            this.pluginSystem.add(pluginDef);\n        }\n    };\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        // public API\n        get: function () {\n            return this.component ? this.component.view : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Public API for rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.render = function () {\n        if (!this.component) {\n            this.component = new CalendarComponent(this.el);\n            this.renderableEventStore = createEmptyEventStore();\n            this.bindHandlers();\n            this.executeRender();\n        }\n        else {\n            this.requestRerender();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.component) {\n            this.unbindHandlers();\n            this.component.destroy(); // don't null-out. in case API needs access\n            this.component = null; // umm ???\n            for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n                var interaction = _a[_i];\n                interaction.destroy();\n            }\n            this.publiclyTrigger('_destroyed');\n        }\n    };\n    // Handlers\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.bindHandlers = function () {\n        var _this = this;\n        // event delegation for nav links\n        this.removeNavLinkListener = listenBySelector(this.el, 'click', 'a[data-goto]', function (ev, anchorEl) {\n            var gotoOptions = anchorEl.getAttribute('data-goto');\n            gotoOptions = gotoOptions ? JSON.parse(gotoOptions) : {};\n            var dateEnv = _this.dateEnv;\n            var dateMarker = dateEnv.createMarker(gotoOptions.date);\n            var viewType = gotoOptions.type;\n            // property like \"navLinkDayClick\". might be a string or a function\n            var customAction = _this.viewOpt('navLink' + capitaliseFirstLetter(viewType) + 'Click');\n            if (typeof customAction === 'function') {\n                customAction(dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                _this.zoomTo(dateMarker, viewType);\n            }\n        });\n        if (this.opt('handleWindowResize')) {\n            window.addEventListener('resize', this.windowResizeProxy = debounce(// prevents rapid calls\n            this.windowResize.bind(this), this.opt('windowResizeDelay')));\n        }\n    };\n    Calendar.prototype.unbindHandlers = function () {\n        this.removeNavLinkListener();\n        if (this.windowResizeProxy) {\n            window.removeEventListener('resize', this.windowResizeProxy);\n            this.windowResizeProxy = null;\n        }\n    };\n    // Dispatcher\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.hydrate = function () {\n        var _this = this;\n        this.state = this.buildInitialState();\n        var rawSources = this.opt('eventSources') || [];\n        var singleRawSource = this.opt('events');\n        var sources = []; // parsed\n        if (singleRawSource) {\n            rawSources.unshift(singleRawSource);\n        }\n        for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n            var rawSource = rawSources_1[_i];\n            var source = parseEventSource(rawSource, this);\n            if (source) {\n                sources.push(source);\n            }\n        }\n        this.batchRendering(function () {\n            _this.dispatch({ type: 'INIT' }); // pass in sources here?\n            _this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: sources });\n            _this.dispatch({\n                type: 'SET_VIEW_TYPE',\n                viewType: _this.opt('defaultView') || _this.pluginSystem.hooks.defaultView\n            });\n        });\n    };\n    Calendar.prototype.buildInitialState = function () {\n        return {\n            viewType: null,\n            loadingLevel: 0,\n            eventSourceLoadingLevel: 0,\n            currentDate: this.getInitialDate(),\n            dateProfile: null,\n            eventSources: {},\n            eventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null\n        };\n    };\n    Calendar.prototype.dispatch = function (action) {\n        this.actionQueue.push(action);\n        if (!this.isReducing) {\n            this.isReducing = true;\n            var oldState = this.state;\n            while (this.actionQueue.length) {\n                this.state = this.reduce(this.state, this.actionQueue.shift(), this);\n            }\n            var newState = this.state;\n            this.isReducing = false;\n            if (!oldState.loadingLevel && newState.loadingLevel) {\n                this.publiclyTrigger('loading', [true]);\n            }\n            else if (oldState.loadingLevel && !newState.loadingLevel) {\n                this.publiclyTrigger('loading', [false]);\n            }\n            var view = this.component && this.component.view;\n            if (oldState.eventStore !== newState.eventStore) {\n                if (oldState.eventStore) {\n                    this.isEventsUpdated = true;\n                }\n            }\n            if (oldState.dateProfile !== newState.dateProfile) {\n                if (oldState.dateProfile && view) { // why would view be null!?\n                    this.publiclyTrigger('datesDestroy', [\n                        {\n                            view: view,\n                            el: view.el\n                        }\n                    ]);\n                }\n                this.isDatesUpdated = true;\n            }\n            if (oldState.viewType !== newState.viewType) {\n                if (oldState.viewType && view) { // why would view be null!?\n                    this.publiclyTrigger('viewSkeletonDestroy', [\n                        {\n                            view: view,\n                            el: view.el\n                        }\n                    ]);\n                }\n                this.isViewUpdated = true;\n            }\n            this.requestRerender();\n        }\n    };\n    Calendar.prototype.reduce = function (state, action, calendar) {\n        return reduce(state, action, calendar);\n    };\n    // Render Queue\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.requestRerender = function () {\n        this.needsRerender = true;\n        this.delayedRerender(); // will call a debounced-version of tryRerender\n    };\n    Calendar.prototype.tryRerender = function () {\n        if (this.component && // must be accepting renders\n            this.needsRerender && // indicates that a rerender was requested\n            !this.renderingPauseDepth && // not paused\n            !this.isRendering // not currently in the render loop\n        ) {\n            this.executeRender();\n        }\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderingPauseDepth++;\n        func();\n        this.renderingPauseDepth--;\n        if (this.needsRerender) {\n            this.requestRerender();\n        }\n    };\n    // Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.executeRender = function () {\n        // clear these BEFORE the render so that new values will accumulate during render\n        this.needsRerender = false;\n        this.isRendering = true;\n        this.renderComponent();\n        this.isRendering = false;\n        // received a rerender request while rendering\n        if (this.needsRerender) {\n            this.delayedRerender();\n        }\n    };\n    /*\n    don't call this directly. use executeRender instead\n    */\n    Calendar.prototype.renderComponent = function () {\n        var _a = this, state = _a.state, component = _a.component;\n        var viewType = state.viewType;\n        var viewSpec = this.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"View type \\\"\" + viewType + \"\\\" is not valid\");\n        }\n        // if event sources are still loading and progressive rendering hasn't been enabled,\n        // keep rendering the last fully loaded set of events\n        var renderableEventStore = this.renderableEventStore =\n            (state.eventSourceLoadingLevel && !this.opt('progressiveEventRendering')) ?\n                this.renderableEventStore :\n                state.eventStore;\n        var eventUiSingleBase = this.buildEventUiSingleBase(viewSpec.options);\n        var eventUiBySource = this.buildEventUiBySource(state.eventSources);\n        var eventUiBases = this.eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        component.receiveProps(__assign({}, state, { viewSpec: viewSpec, dateProfileGenerator: this.dateProfileGenerators[viewType], dateProfile: state.dateProfile, eventStore: renderableEventStore, eventUiBases: eventUiBases, dateSelection: state.dateSelection, eventSelection: state.eventSelection, eventDrag: state.eventDrag, eventResize: state.eventResize }), this.buildComponentContext(this.theme, this.dateEnv, this.optionsManager.computed));\n        if (this.isViewUpdated) {\n            this.isViewUpdated = false;\n            this.publiclyTrigger('viewSkeletonRender', [\n                {\n                    view: component.view,\n                    el: component.view.el\n                }\n            ]);\n        }\n        if (this.isDatesUpdated) {\n            this.isDatesUpdated = false;\n            this.publiclyTrigger('datesRender', [\n                {\n                    view: component.view,\n                    el: component.view.el\n                }\n            ]);\n        }\n        if (this.isEventsUpdated) {\n            this.isEventsUpdated = false;\n        }\n        this.releaseAfterSizingTriggers();\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.setOption = function (name, val) {\n        var _a;\n        this.mutateOptions((_a = {}, _a[name] = val, _a), [], true);\n    };\n    Calendar.prototype.getOption = function (name) {\n        return this.optionsManager.computed[name];\n    };\n    Calendar.prototype.opt = function (name) {\n        return this.optionsManager.computed[name];\n    };\n    Calendar.prototype.viewOpt = function (name) {\n        return this.viewOpts()[name];\n    };\n    Calendar.prototype.viewOpts = function () {\n        return this.viewSpecs[this.state.viewType].options;\n    };\n    /*\n    handles option changes (like a diff)\n    */\n    Calendar.prototype.mutateOptions = function (updates, removals, isDynamic, deepEqual) {\n        var _this = this;\n        var changeHandlers = this.pluginSystem.hooks.optionChangeHandlers;\n        var normalUpdates = {};\n        var specialUpdates = {};\n        var oldDateEnv = this.dateEnv; // do this before handleOptions\n        var isTimeZoneDirty = false;\n        var isSizeDirty = false;\n        var anyDifficultOptions = Boolean(removals.length);\n        for (var name_1 in updates) {\n            if (changeHandlers[name_1]) {\n                specialUpdates[name_1] = updates[name_1];\n            }\n            else {\n                normalUpdates[name_1] = updates[name_1];\n            }\n        }\n        for (var name_2 in normalUpdates) {\n            if (/^(height|contentHeight|aspectRatio)$/.test(name_2)) {\n                isSizeDirty = true;\n            }\n            else if (/^(defaultDate|defaultView)$/.test(name_2)) ;\n            else {\n                anyDifficultOptions = true;\n                if (name_2 === 'timeZone') {\n                    isTimeZoneDirty = true;\n                }\n            }\n        }\n        this.optionsManager.mutate(normalUpdates, removals, isDynamic);\n        if (anyDifficultOptions) {\n            this.handleOptions(this.optionsManager.computed);\n        }\n        this.batchRendering(function () {\n            if (anyDifficultOptions) {\n                if (isTimeZoneDirty) {\n                    _this.dispatch({\n                        type: 'CHANGE_TIMEZONE',\n                        oldDateEnv: oldDateEnv\n                    });\n                }\n                /* HACK\n                has the same effect as calling this.requestRerender()\n                but recomputes the state's dateProfile\n                */\n                _this.dispatch({\n                    type: 'SET_VIEW_TYPE',\n                    viewType: _this.state.viewType\n                });\n            }\n            else if (isSizeDirty) {\n                _this.updateSize();\n            }\n            // special updates\n            if (deepEqual) {\n                for (var name_3 in specialUpdates) {\n                    changeHandlers[name_3](specialUpdates[name_3], _this, deepEqual);\n                }\n            }\n        });\n    };\n    /*\n    rebuilds things based off of a complete set of refined options\n    */\n    Calendar.prototype.handleOptions = function (options) {\n        var _this = this;\n        var pluginHooks = this.pluginSystem.hooks;\n        this.defaultAllDayEventDuration = createDuration(options.defaultAllDayEventDuration);\n        this.defaultTimedEventDuration = createDuration(options.defaultTimedEventDuration);\n        this.delayedRerender = this.buildDelayedRerender(options.rerenderDelay);\n        this.theme = this.buildTheme(options);\n        var available = this.parseRawLocales(options.locales);\n        this.availableRawLocales = available.map;\n        var locale = this.buildLocale(options.locale || available.defaultCode, available.map);\n        this.dateEnv = this.buildDateEnv(locale, options.timeZone, pluginHooks.namedTimeZonedImpl, options.firstDay, options.weekNumberCalculation, options.weekLabel, pluginHooks.cmdFormatter);\n        this.selectionConfig = this.buildSelectionConfig(options); // needs dateEnv. do after :(\n        // ineffecient to do every time?\n        this.viewSpecs = buildViewSpecs(pluginHooks.views, this.optionsManager);\n        // ineffecient to do every time?\n        this.dateProfileGenerators = mapHash(this.viewSpecs, function (viewSpec) {\n            return new viewSpec.class.prototype.dateProfileGeneratorClass(viewSpec, _this);\n        });\n    };\n    Calendar.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.availableRawLocales);\n    };\n    Calendar.prototype._buildSelectionConfig = function (rawOpts) {\n        return processScopedUiProps('select', rawOpts, this);\n    };\n    Calendar.prototype._buildEventUiSingleBase = function (rawOpts) {\n        if (rawOpts.editable) { // so 'editable' affected events\n            rawOpts = __assign({}, rawOpts, { eventEditable: true });\n        }\n        return processScopedUiProps('event', rawOpts, this);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.hasPublicHandlers = function (name) {\n        return this.hasHandlers(name) ||\n            this.opt(name); // handler specified in options\n    };\n    Calendar.prototype.publiclyTrigger = function (name, args) {\n        var optHandler = this.opt(name);\n        this.triggerWith(name, this, args);\n        if (optHandler) {\n            return optHandler.apply(this, args);\n        }\n    };\n    Calendar.prototype.publiclyTriggerAfterSizing = function (name, args) {\n        var afterSizingTriggers = this.afterSizingTriggers;\n        (afterSizingTriggers[name] || (afterSizingTriggers[name] = [])).push(args);\n    };\n    Calendar.prototype.releaseAfterSizingTriggers = function () {\n        var afterSizingTriggers = this.afterSizingTriggers;\n        for (var name_4 in afterSizingTriggers) {\n            for (var _i = 0, _a = afterSizingTriggers[name_4]; _i < _a.length; _i++) {\n                var args = _a[_i];\n                this.publiclyTrigger(name_4, args);\n            }\n        }\n        this.afterSizingTriggers = {};\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    // Returns a boolean about whether the view is okay to instantiate at some point\n    Calendar.prototype.isValidViewType = function (viewType) {\n        return Boolean(this.viewSpecs[viewType]);\n    };\n    Calendar.prototype.changeView = function (viewType, dateOrRange) {\n        var dateMarker = null;\n        if (dateOrRange) {\n            if (dateOrRange.start && dateOrRange.end) { // a range\n                this.optionsManager.mutate({ visibleRange: dateOrRange }, []); // will not rerender\n                this.handleOptions(this.optionsManager.computed); // ...but yuck\n            }\n            else { // a date\n                dateMarker = this.dateEnv.createMarker(dateOrRange); // just like gotoDate\n            }\n        }\n        this.unselect();\n        this.dispatch({\n            type: 'SET_VIEW_TYPE',\n            viewType: viewType,\n            dateMarker: dateMarker\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    Calendar.prototype.zoomTo = function (dateMarker, viewType) {\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = this.viewSpecs[viewType] ||\n            this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'SET_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'SET_DATE',\n                dateMarker: dateMarker\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    Calendar.prototype.getUnitViewSpec = function (unit) {\n        var component = this.component;\n        var viewTypes = [];\n        var i;\n        var spec;\n        // put views that have buttons first. there will be duplicates, but oh\n        if (component.header) {\n            viewTypes.push.apply(viewTypes, component.header.viewsWithButtons);\n        }\n        if (component.footer) {\n            viewTypes.push.apply(viewTypes, component.footer.viewsWithButtons);\n        }\n        for (var viewType in this.viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i++) {\n            spec = this.viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.getInitialDate = function () {\n        var defaultDateInput = this.opt('defaultDate');\n        // compute the initial ambig-timezone date\n        if (defaultDateInput != null) {\n            return this.dateEnv.createMarker(defaultDateInput);\n        }\n        else {\n            return this.getNow(); // getNow already returns unzoned\n        }\n    };\n    Calendar.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    Calendar.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    Calendar.prototype.prevYear = function () {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.dateEnv.addYears(this.state.currentDate, -1)\n        });\n    };\n    Calendar.prototype.nextYear = function () {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.dateEnv.addYears(this.state.currentDate, 1)\n        });\n    };\n    Calendar.prototype.today = function () {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.getNow()\n        });\n    };\n    Calendar.prototype.gotoDate = function (zonedDateInput) {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.dateEnv.createMarker(zonedDateInput)\n        });\n    };\n    Calendar.prototype.incrementDate = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'SET_DATE',\n                dateMarker: this.dateEnv.add(this.state.currentDate, delta)\n            });\n        }\n    };\n    // for external API\n    Calendar.prototype.getDate = function () {\n        return this.dateEnv.toDate(this.state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    Calendar.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings, this.opt('defaultRangeSeparator')), settings);\n    };\n    Calendar.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Sizing\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.windowResize = function (ev) {\n        if (!this.isHandlingWindowResize &&\n            this.component && // why?\n            ev.target === window // not a jqui resize event\n        ) {\n            this.isHandlingWindowResize = true;\n            this.updateSize();\n            this.publiclyTrigger('windowResize', [this.view]);\n            this.isHandlingWindowResize = false;\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        if (this.component) { // when?\n            this.component.updateSize(true);\n        }\n    };\n    // Component Registration\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.registerInteractiveComponent = function (component, settingsInput) {\n        var settings = parseInteractionSettings(component, settingsInput);\n        var DEFAULT_INTERACTIONS = [\n            EventClicking,\n            EventHovering\n        ];\n        var interactionClasses = DEFAULT_INTERACTIONS.concat(this.pluginSystem.hooks.componentInteractions);\n        var interactions = interactionClasses.map(function (interactionClass) {\n            return new interactionClass(settings);\n        });\n        this.interactionsStore[component.uid] = interactions;\n        interactionSettingsStore[component.uid] = settings;\n    };\n    Calendar.prototype.unregisterInteractiveComponent = function (component) {\n        for (var _i = 0, _a = this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n            var listener = _a[_i];\n            listener.destroy();\n        }\n        delete this.interactionsStore[component.uid];\n        delete interactionSettingsStore[component.uid];\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    Calendar.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate\n            };\n        }\n        var selection = parseDateSpan(selectionInput, this.dateEnv, createDuration({ days: 1 }) // TODO: cache this?\n        );\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            this.triggerDateSelect(selection);\n        }\n    };\n    // public method\n    Calendar.prototype.unselect = function (pev) {\n        if (this.state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            this.triggerDateUnselect(pev);\n        }\n    };\n    Calendar.prototype.triggerDateSelect = function (selection, pev) {\n        var arg = __assign({}, this.buildDateSpanApi(selection), { jsEvent: pev ? pev.origEvent : null, view: this.view });\n        this.publiclyTrigger('select', [arg]);\n    };\n    Calendar.prototype.triggerDateUnselect = function (pev) {\n        this.publiclyTrigger('unselect', [\n            {\n                jsEvent: pev ? pev.origEvent : null,\n                view: this.view\n            }\n        ]);\n    };\n    // TODO: receive pev?\n    Calendar.prototype.triggerDateClick = function (dateSpan, dayEl, view, ev) {\n        var arg = __assign({}, this.buildDatePointApi(dateSpan), { dayEl: dayEl, jsEvent: ev, // Is this always a mouse event? See #4655\n            view: view });\n        this.publiclyTrigger('dateClick', [arg]);\n    };\n    Calendar.prototype.buildDatePointApi = function (dateSpan) {\n        var props = {};\n        for (var _i = 0, _a = this.pluginSystem.hooks.datePointTransforms; _i < _a.length; _i++) {\n            var transform = _a[_i];\n            __assign(props, transform(dateSpan, this));\n        }\n        __assign(props, buildDatePointApi(dateSpan, this.dateEnv));\n        return props;\n    };\n    Calendar.prototype.buildDateSpanApi = function (dateSpan) {\n        var props = {};\n        for (var _i = 0, _a = this.pluginSystem.hooks.dateSpanTransforms; _i < _a.length; _i++) {\n            var transform = _a[_i];\n            __assign(props, transform(dateSpan, this));\n        }\n        __assign(props, buildDateSpanApi(dateSpan, this.dateEnv));\n        return props;\n    };\n    // Date Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    // Returns a DateMarker for the current date, as defined by the client's computer or from the `now` option\n    Calendar.prototype.getNow = function () {\n        var now = this.opt('now');\n        if (typeof now === 'function') {\n            now = now();\n        }\n        if (now == null) {\n            return this.dateEnv.createNowMarker();\n        }\n        return this.dateEnv.createMarker(now);\n    };\n    // Event-Date Utilities\n    // -----------------------------------------------------------------------------------------------------------------\n    // Given an event's allDay status and start date, return what its fallback end date should be.\n    // TODO: rename to computeDefaultEventEnd\n    Calendar.prototype.getDefaultEventEnd = function (allDay, marker) {\n        var end = marker;\n        if (allDay) {\n            end = startOfDay(end);\n            end = this.dateEnv.add(end, this.defaultAllDayEventDuration);\n        }\n        else {\n            end = this.dateEnv.add(end, this.defaultTimedEventDuration);\n        }\n        return end;\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            // not already present? don't want to add an old snapshot\n            if (!this.state.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }) // TODO: better util for two args?\n                });\n            }\n            return eventInput;\n        }\n        var sourceId;\n        if (sourceInput instanceof EventSourceApi) {\n            sourceId = sourceInput.internalEventSource.sourceId;\n        }\n        else if (sourceInput != null) {\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn('Could not find an event source with ID \"' + sourceInput + '\"'); // TODO: test\n                return null;\n            }\n            else {\n                sourceId = sourceApi.internalEventSource.sourceId;\n            }\n        }\n        var tuple = parseEvent(eventInput, sourceId, this);\n        if (tuple) {\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple)\n            });\n            return new EventApi(this, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n        }\n        return null;\n    };\n    // TODO: optimize\n    Calendar.prototype.getEventById = function (id) {\n        var _a = this.state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(this, def, null);\n                }\n                else {\n                    for (var instanceId in instances) {\n                        var instance = instances[instanceId];\n                        if (instance.defId === def.defId) {\n                            return new EventApi(this, def, instance);\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    Calendar.prototype.getEvents = function () {\n        var _a = this.state.eventStore, defs = _a.defs, instances = _a.instances;\n        var eventApis = [];\n        for (var id in instances) {\n            var instance = instances[id];\n            var def = defs[instance.defId];\n            eventApis.push(new EventApi(this, def, instance));\n        }\n        return eventApis;\n    };\n    Calendar.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    Calendar.prototype.rerenderEvents = function () {\n        this.dispatch({ type: 'RESET_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.getEventSources = function () {\n        var sourceHash = this.state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(this, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    Calendar.prototype.getEventSourceById = function (id) {\n        var sourceHash = this.state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(this, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    Calendar.prototype.addEventSource = function (sourceInput) {\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!this.state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource]\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, this);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(this, eventSource);\n        }\n        return null;\n    };\n    Calendar.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    Calendar.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES' });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.scrollToTime = function (timeInput) {\n        var duration = createDuration(timeInput);\n        if (duration) {\n            this.component.view.scrollToDuration(duration);\n        }\n    };\n    return Calendar;\n}());\nEmitterMixin.mixInto(Calendar);\n// for memoizers\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildComponentContext$1(theme, dateEnv, options) {\n    return new ComponentContext(this, theme, dateEnv, options, null);\n}\nfunction buildDateEnv(locale, timeZone, namedTimeZoneImpl, firstDay, weekNumberCalculation, weekLabel, cmdFormatter) {\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: namedTimeZoneImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekLabel: weekLabel,\n        cmdFormatter: cmdFormatter\n    });\n}\nfunction buildTheme(calendarOptions) {\n    var themeClass = this.pluginSystem.hooks.themeClasses[calendarOptions.themeSystem] || StandardTheme;\n    return new themeClass(calendarOptions);\n}\nfunction buildDelayedRerender(wait) {\n    var func = this.tryRerender.bind(this);\n    if (wait != null) {\n        func = debounce(func, wait);\n    }\n    return func;\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) {\n        return eventSource.ui;\n    });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\n\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View(viewSpec, parentEl) {\n        var _this = _super.call(this, createElement('div', { className: 'fc-view fc-' + viewSpec.type + '-view' })) || this;\n        _this.renderDatesMem = memoizeRendering(_this.renderDatesWrap, _this.unrenderDatesWrap);\n        _this.renderBusinessHoursMem = memoizeRendering(_this.renderBusinessHours, _this.unrenderBusinessHours, [_this.renderDatesMem]);\n        _this.renderDateSelectionMem = memoizeRendering(_this.renderDateSelectionWrap, _this.unrenderDateSelectionWrap, [_this.renderDatesMem]);\n        _this.renderEventsMem = memoizeRendering(_this.renderEvents, _this.unrenderEvents, [_this.renderDatesMem]);\n        _this.renderEventSelectionMem = memoizeRendering(_this.renderEventSelectionWrap, _this.unrenderEventSelectionWrap, [_this.renderEventsMem]);\n        _this.renderEventDragMem = memoizeRendering(_this.renderEventDragWrap, _this.unrenderEventDragWrap, [_this.renderDatesMem]);\n        _this.renderEventResizeMem = memoizeRendering(_this.renderEventResizeWrap, _this.unrenderEventResizeWrap, [_this.renderDatesMem]);\n        _this.viewSpec = viewSpec;\n        _this.type = viewSpec.type;\n        parentEl.appendChild(_this.el);\n        _this.initialize();\n        return _this;\n    }\n    View.prototype.initialize = function () {\n    };\n    Object.defineProperty(View.prototype, \"activeStart\", {\n        // Date Setting/Unsetting\n        // -----------------------------------------------------------------------------------------------------------------\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.start);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"activeEnd\", {\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.end);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"currentStart\", {\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.start);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"currentEnd\", {\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.end);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // General Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.render = function (props, context) {\n        this.renderDatesMem(props.dateProfile);\n        this.renderBusinessHoursMem(props.businessHours);\n        this.renderDateSelectionMem(props.dateSelection);\n        this.renderEventsMem(props.eventStore);\n        this.renderEventSelectionMem(props.eventSelection);\n        this.renderEventDragMem(props.eventDrag);\n        this.renderEventResizeMem(props.eventResize);\n    };\n    View.prototype.beforeUpdate = function () {\n        this.addScroll(this.queryScroll());\n    };\n    View.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderDatesMem.unrender(); // should unrender everything else\n    };\n    // Sizing\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.updateSize = function (isResize, viewHeight, isAuto) {\n        var calendar = this.context.calendar;\n        if (isResize) {\n            this.addScroll(this.queryScroll()); // NOTE: same code as in beforeUpdate\n        }\n        if (isResize || // HACKS...\n            calendar.isViewUpdated ||\n            calendar.isDatesUpdated ||\n            calendar.isEventsUpdated) {\n            // sort of the catch-all sizing\n            // anything that might cause dimension changes\n            this.updateBaseSize(isResize, viewHeight, isAuto);\n        }\n        // NOTE: popScroll is called by CalendarComponent\n    };\n    View.prototype.updateBaseSize = function (isResize, viewHeight, isAuto) {\n    };\n    // Date Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderDatesWrap = function (dateProfile) {\n        this.renderDates(dateProfile);\n        this.addScroll({\n            duration: createDuration(this.context.options.scrollTime)\n        });\n    };\n    View.prototype.unrenderDatesWrap = function () {\n        this.stopNowIndicator();\n        this.unrenderDates();\n    };\n    View.prototype.renderDates = function (dateProfile) { };\n    View.prototype.unrenderDates = function () { };\n    // Business Hours\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderBusinessHours = function (businessHours) { };\n    View.prototype.unrenderBusinessHours = function () { };\n    // Date Selection\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderDateSelectionWrap = function (selection) {\n        if (selection) {\n            this.renderDateSelection(selection);\n        }\n    };\n    View.prototype.unrenderDateSelectionWrap = function (selection) {\n        if (selection) {\n            this.unrenderDateSelection(selection);\n        }\n    };\n    View.prototype.renderDateSelection = function (selection) { };\n    View.prototype.unrenderDateSelection = function (selection) { };\n    // Event Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEvents = function (eventStore) { };\n    View.prototype.unrenderEvents = function () { };\n    // util for subclasses\n    View.prototype.sliceEvents = function (eventStore, allDay) {\n        var props = this.props;\n        return sliceEventStore(eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? this.context.nextDayThreshold : null).fg;\n    };\n    // Event Selection\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEventSelectionWrap = function (instanceId) {\n        if (instanceId) {\n            this.renderEventSelection(instanceId);\n        }\n    };\n    View.prototype.unrenderEventSelectionWrap = function (instanceId) {\n        if (instanceId) {\n            this.unrenderEventSelection(instanceId);\n        }\n    };\n    View.prototype.renderEventSelection = function (instanceId) { };\n    View.prototype.unrenderEventSelection = function (instanceId) { };\n    // Event Drag\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEventDragWrap = function (state) {\n        if (state) {\n            this.renderEventDrag(state);\n        }\n    };\n    View.prototype.unrenderEventDragWrap = function (state) {\n        if (state) {\n            this.unrenderEventDrag(state);\n        }\n    };\n    View.prototype.renderEventDrag = function (state) { };\n    View.prototype.unrenderEventDrag = function (state) { };\n    // Event Resize\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEventResizeWrap = function (state) {\n        if (state) {\n            this.renderEventResize(state);\n        }\n    };\n    View.prototype.unrenderEventResizeWrap = function (state) {\n        if (state) {\n            this.unrenderEventResize(state);\n        }\n    };\n    View.prototype.renderEventResize = function (state) { };\n    View.prototype.unrenderEventResize = function (state) { };\n    /* Now Indicator\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Immediately render the current time indicator and begins re-rendering it at an interval,\n    // which is defined by this.getNowIndicatorUnit().\n    // TODO: somehow do this for the current whole day's background too\n    // USAGE: must be called manually from subclasses' render methods! don't need to call stopNowIndicator tho\n    View.prototype.startNowIndicator = function (dateProfile, dateProfileGenerator) {\n        var _this = this;\n        var _a = this.context, calendar = _a.calendar, dateEnv = _a.dateEnv, options = _a.options;\n        var unit;\n        var update;\n        var delay; // ms wait value\n        if (options.nowIndicator && !this.initialNowDate) {\n            unit = this.getNowIndicatorUnit(dateProfile, dateProfileGenerator);\n            if (unit) {\n                update = this.updateNowIndicator.bind(this);\n                this.initialNowDate = calendar.getNow();\n                this.initialNowQueriedMs = new Date().valueOf();\n                // wait until the beginning of the next interval\n                delay = dateEnv.add(dateEnv.startOf(this.initialNowDate, unit), createDuration(1, unit)).valueOf() - this.initialNowDate.valueOf();\n                // TODO: maybe always use setTimeout, waiting until start of next unit\n                this.nowIndicatorTimeoutID = setTimeout(function () {\n                    _this.nowIndicatorTimeoutID = null;\n                    update();\n                    if (unit === 'second') {\n                        delay = 1000; // every second\n                    }\n                    else {\n                        delay = 1000 * 60; // otherwise, every minute\n                    }\n                    _this.nowIndicatorIntervalID = setInterval(update, delay); // update every interval\n                }, delay);\n            }\n            // rendering will be initiated in updateSize\n        }\n    };\n    // rerenders the now indicator, computing the new current time from the amount of time that has passed\n    // since the initial getNow call.\n    View.prototype.updateNowIndicator = function () {\n        if (this.props.dateProfile && // a way to determine if dates were rendered yet\n            this.initialNowDate // activated before?\n        ) {\n            this.unrenderNowIndicator(); // won't unrender if unnecessary\n            this.renderNowIndicator(addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs));\n            this.isNowIndicatorRendered = true;\n        }\n    };\n    // Immediately unrenders the view's current time indicator and stops any re-rendering timers.\n    // Won't cause side effects if indicator isn't rendered.\n    View.prototype.stopNowIndicator = function () {\n        if (this.nowIndicatorTimeoutID) {\n            clearTimeout(this.nowIndicatorTimeoutID);\n            this.nowIndicatorTimeoutID = null;\n        }\n        if (this.nowIndicatorIntervalID) {\n            clearInterval(this.nowIndicatorIntervalID);\n            this.nowIndicatorIntervalID = null;\n        }\n        if (this.isNowIndicatorRendered) {\n            this.unrenderNowIndicator();\n            this.isNowIndicatorRendered = false;\n        }\n    };\n    View.prototype.getNowIndicatorUnit = function (dateProfile, dateProfileGenerator) {\n        // subclasses should implement\n    };\n    // Renders a current time indicator at the given datetime\n    View.prototype.renderNowIndicator = function (date) {\n        // SUBCLASSES MUST PASS TO CHILDREN!\n    };\n    // Undoes the rendering actions from renderNowIndicator\n    View.prototype.unrenderNowIndicator = function () {\n        // SUBCLASSES MUST PASS TO CHILDREN!\n    };\n    /* Scroller\n    ------------------------------------------------------------------------------------------------------------------*/\n    View.prototype.addScroll = function (scroll, isForced) {\n        if (isForced) {\n            scroll.isForced = isForced;\n        }\n        __assign(this.queuedScroll || (this.queuedScroll = {}), scroll);\n    };\n    View.prototype.popScroll = function (isResize) {\n        this.applyQueuedScroll(isResize);\n        this.queuedScroll = null;\n    };\n    View.prototype.applyQueuedScroll = function (isResize) {\n        if (this.queuedScroll) {\n            this.applyScroll(this.queuedScroll, isResize);\n        }\n    };\n    View.prototype.queryScroll = function () {\n        var scroll = {};\n        if (this.props.dateProfile) { // dates rendered yet?\n            __assign(scroll, this.queryDateScroll());\n        }\n        return scroll;\n    };\n    View.prototype.applyScroll = function (scroll, isResize) {\n        var duration = scroll.duration, isForced = scroll.isForced;\n        if (duration != null && !isForced) {\n            delete scroll.duration;\n            if (this.props.dateProfile) { // dates rendered yet?\n                __assign(scroll, this.computeDateScroll(duration));\n            }\n        }\n        if (this.props.dateProfile) { // dates rendered yet?\n            this.applyDateScroll(scroll);\n        }\n    };\n    View.prototype.computeDateScroll = function (duration) {\n        return {}; // subclasses must implement\n    };\n    View.prototype.queryDateScroll = function () {\n        return {}; // subclasses must implement\n    };\n    View.prototype.applyDateScroll = function (scroll) {\n        // subclasses must implement\n    };\n    // for API\n    View.prototype.scrollToDuration = function (duration) {\n        this.applyScroll({ duration: duration }, false);\n    };\n    return View;\n}(DateComponent));\nEmitterMixin.mixInto(View);\nView.prototype.usesMinMaxTime = false;\nView.prototype.dateProfileGeneratorClass = DateProfileGenerator;\n\nvar FgEventRenderer = /** @class */ (function () {\n    function FgEventRenderer() {\n        this.segs = [];\n        this.isSizeDirty = false;\n    }\n    FgEventRenderer.prototype.renderSegs = function (context, segs, mirrorInfo) {\n        this.context = context;\n        this.rangeUpdated(); // called too frequently :(\n        // render an `.el` on each seg\n        // returns a subset of the segs. segs that were actually rendered\n        segs = this.renderSegEls(segs, mirrorInfo);\n        this.segs = segs;\n        this.attachSegs(segs, mirrorInfo);\n        this.isSizeDirty = true;\n        triggerRenderedSegs(this.context, this.segs, Boolean(mirrorInfo));\n    };\n    FgEventRenderer.prototype.unrender = function (context, _segs, mirrorInfo) {\n        triggerWillRemoveSegs(this.context, this.segs, Boolean(mirrorInfo));\n        this.detachSegs(this.segs);\n        this.segs = [];\n    };\n    // Updates values that rely on options and also relate to range\n    FgEventRenderer.prototype.rangeUpdated = function () {\n        var options = this.context.options;\n        var displayEventTime;\n        var displayEventEnd;\n        this.eventTimeFormat = createFormatter(options.eventTimeFormat || this.computeEventTimeFormat(), options.defaultRangeSeparator);\n        displayEventTime = options.displayEventTime;\n        if (displayEventTime == null) {\n            displayEventTime = this.computeDisplayEventTime(); // might be based off of range\n        }\n        displayEventEnd = options.displayEventEnd;\n        if (displayEventEnd == null) {\n            displayEventEnd = this.computeDisplayEventEnd(); // might be based off of range\n        }\n        this.displayEventTime = displayEventTime;\n        this.displayEventEnd = displayEventEnd;\n    };\n    // Renders and assigns an `el` property for each foreground event segment.\n    // Only returns segments that successfully rendered.\n    FgEventRenderer.prototype.renderSegEls = function (segs, mirrorInfo) {\n        var html = '';\n        var i;\n        if (segs.length) { // don't build an empty html string\n            // build a large concatenation of event segment HTML\n            for (i = 0; i < segs.length; i++) {\n                html += this.renderSegHtml(segs[i], mirrorInfo);\n            }\n            // Grab individual elements from the combined HTML string. Use each as the default rendering.\n            // Then, compute the 'el' for each segment. An el might be null if the eventRender callback returned false.\n            htmlToElements(html).forEach(function (el, i) {\n                var seg = segs[i];\n                if (el) {\n                    seg.el = el;\n                }\n            });\n            segs = filterSegsViaEls(this.context, segs, Boolean(mirrorInfo));\n        }\n        return segs;\n    };\n    // Generic utility for generating the HTML classNames for an event segment's element\n    FgEventRenderer.prototype.getSegClasses = function (seg, isDraggable, isResizable, mirrorInfo) {\n        var classes = [\n            'fc-event',\n            seg.isStart ? 'fc-start' : 'fc-not-start',\n            seg.isEnd ? 'fc-end' : 'fc-not-end'\n        ].concat(seg.eventRange.ui.classNames);\n        if (isDraggable) {\n            classes.push('fc-draggable');\n        }\n        if (isResizable) {\n            classes.push('fc-resizable');\n        }\n        if (mirrorInfo) {\n            classes.push('fc-mirror');\n            if (mirrorInfo.isDragging) {\n                classes.push('fc-dragging');\n            }\n            if (mirrorInfo.isResizing) {\n                classes.push('fc-resizing');\n            }\n        }\n        return classes;\n    };\n    // Compute the text that should be displayed on an event's element.\n    // `range` can be the Event object itself, or something range-like, with at least a `start`.\n    // If event times are disabled, or the event has no time, will return a blank string.\n    // If not specified, formatter will default to the eventTimeFormat setting,\n    // and displayEnd will default to the displayEventEnd setting.\n    FgEventRenderer.prototype.getTimeText = function (eventRange, formatter, displayEnd) {\n        var def = eventRange.def, instance = eventRange.instance;\n        return this._getTimeText(instance.range.start, def.hasEnd ? instance.range.end : null, def.allDay, formatter, displayEnd, instance.forcedStartTzo, instance.forcedEndTzo);\n    };\n    FgEventRenderer.prototype._getTimeText = function (start, end, allDay, formatter, displayEnd, forcedStartTzo, forcedEndTzo) {\n        var dateEnv = this.context.dateEnv;\n        if (formatter == null) {\n            formatter = this.eventTimeFormat;\n        }\n        if (displayEnd == null) {\n            displayEnd = this.displayEventEnd;\n        }\n        if (this.displayEventTime && !allDay) {\n            if (displayEnd && end) {\n                return dateEnv.formatRange(start, end, formatter, {\n                    forcedStartTzo: forcedStartTzo,\n                    forcedEndTzo: forcedEndTzo\n                });\n            }\n            else {\n                return dateEnv.format(start, formatter, {\n                    forcedTzo: forcedStartTzo\n                });\n            }\n        }\n        return '';\n    };\n    FgEventRenderer.prototype.computeEventTimeFormat = function () {\n        return {\n            hour: 'numeric',\n            minute: '2-digit',\n            omitZeroMinute: true\n        };\n    };\n    FgEventRenderer.prototype.computeDisplayEventTime = function () {\n        return true;\n    };\n    FgEventRenderer.prototype.computeDisplayEventEnd = function () {\n        return true;\n    };\n    // Utility for generating event skin-related CSS properties\n    FgEventRenderer.prototype.getSkinCss = function (ui) {\n        return {\n            'background-color': ui.backgroundColor,\n            'border-color': ui.borderColor,\n            color: ui.textColor\n        };\n    };\n    FgEventRenderer.prototype.sortEventSegs = function (segs) {\n        var specs = this.context.eventOrderSpecs;\n        var objs = segs.map(buildSegCompareObj);\n        objs.sort(function (obj0, obj1) {\n            return compareByFieldSpecs(obj0, obj1, specs);\n        });\n        return objs.map(function (c) {\n            return c._seg;\n        });\n    };\n    FgEventRenderer.prototype.computeSizes = function (force) {\n        if (force || this.isSizeDirty) {\n            this.computeSegSizes(this.segs);\n        }\n    };\n    FgEventRenderer.prototype.assignSizes = function (force) {\n        if (force || this.isSizeDirty) {\n            this.assignSegSizes(this.segs);\n            this.isSizeDirty = false;\n        }\n    };\n    FgEventRenderer.prototype.computeSegSizes = function (segs) {\n    };\n    FgEventRenderer.prototype.assignSegSizes = function (segs) {\n    };\n    // Manipulation on rendered segs\n    FgEventRenderer.prototype.hideByHash = function (hash) {\n        if (hash) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                if (hash[seg.eventRange.instance.instanceId]) {\n                    seg.el.style.visibility = 'hidden';\n                }\n            }\n        }\n    };\n    FgEventRenderer.prototype.showByHash = function (hash) {\n        if (hash) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                if (hash[seg.eventRange.instance.instanceId]) {\n                    seg.el.style.visibility = '';\n                }\n            }\n        }\n    };\n    FgEventRenderer.prototype.selectByInstanceId = function (instanceId) {\n        if (instanceId) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                var eventInstance = seg.eventRange.instance;\n                if (eventInstance && eventInstance.instanceId === instanceId &&\n                    seg.el // necessary?\n                ) {\n                    seg.el.classList.add('fc-selected');\n                }\n            }\n        }\n    };\n    FgEventRenderer.prototype.unselectByInstanceId = function (instanceId) {\n        if (instanceId) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                if (seg.el) { // necessary?\n                    seg.el.classList.remove('fc-selected');\n                }\n            }\n        }\n    };\n    return FgEventRenderer;\n}());\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventDef = seg.eventRange.def;\n    var range = seg.eventRange.instance.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign({}, eventDef.extendedProps, eventDef, { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg // for later retrieval\n     });\n}\n\n/*\nTODO: when refactoring this class, make a new FillRenderer instance for each `type`\n*/\nvar FillRenderer = /** @class */ (function () {\n    function FillRenderer() {\n        this.fillSegTag = 'div';\n        this.dirtySizeFlags = {};\n        this.containerElsByType = {};\n        this.segsByType = {};\n    }\n    FillRenderer.prototype.getSegsByType = function (type) {\n        return this.segsByType[type] || [];\n    };\n    FillRenderer.prototype.renderSegs = function (type, context, segs) {\n        var _a;\n        this.context = context;\n        var renderedSegs = this.renderSegEls(type, segs); // assignes `.el` to each seg. returns successfully rendered segs\n        var containerEls = this.attachSegs(type, renderedSegs);\n        if (containerEls) {\n            (_a = (this.containerElsByType[type] || (this.containerElsByType[type] = []))).push.apply(_a, containerEls);\n        }\n        this.segsByType[type] = renderedSegs;\n        if (type === 'bgEvent') {\n            triggerRenderedSegs(context, renderedSegs, false); // isMirror=false\n        }\n        this.dirtySizeFlags[type] = true;\n    };\n    // Unrenders a specific type of fill that is currently rendered on the grid\n    FillRenderer.prototype.unrender = function (type, context) {\n        var segs = this.segsByType[type];\n        if (segs) {\n            if (type === 'bgEvent') {\n                triggerWillRemoveSegs(context, segs, false); // isMirror=false\n            }\n            this.detachSegs(type, segs);\n        }\n    };\n    // Renders and assigns an `el` property for each fill segment. Generic enough to work with different types.\n    // Only returns segments that successfully rendered.\n    FillRenderer.prototype.renderSegEls = function (type, segs) {\n        var _this = this;\n        var html = '';\n        var i;\n        if (segs.length) {\n            // build a large concatenation of segment HTML\n            for (i = 0; i < segs.length; i++) {\n                html += this.renderSegHtml(type, segs[i]);\n            }\n            // Grab individual elements from the combined HTML string. Use each as the default rendering.\n            // Then, compute the 'el' for each segment.\n            htmlToElements(html).forEach(function (el, i) {\n                var seg = segs[i];\n                if (el) {\n                    seg.el = el;\n                }\n            });\n            if (type === 'bgEvent') {\n                segs = filterSegsViaEls(this.context, segs, false // isMirror. background events can never be mirror elements\n                );\n            }\n            // correct element type? (would be bad if a non-TD were inserted into a table for example)\n            segs = segs.filter(function (seg) {\n                return elementMatches(seg.el, _this.fillSegTag);\n            });\n        }\n        return segs;\n    };\n    // Builds the HTML needed for one fill segment. Generic enough to work with different types.\n    FillRenderer.prototype.renderSegHtml = function (type, seg) {\n        var css = null;\n        var classNames = [];\n        if (type !== 'highlight' && type !== 'businessHours') {\n            css = {\n                'background-color': seg.eventRange.ui.backgroundColor\n            };\n        }\n        if (type !== 'highlight') {\n            classNames = classNames.concat(seg.eventRange.ui.classNames);\n        }\n        if (type === 'businessHours') {\n            classNames.push('fc-bgevent');\n        }\n        else {\n            classNames.push('fc-' + type.toLowerCase());\n        }\n        return '<' + this.fillSegTag +\n            (classNames.length ? ' class=\"' + classNames.join(' ') + '\"' : '') +\n            (css ? ' style=\"' + cssToStr(css) + '\"' : '') +\n            '></' + this.fillSegTag + '>';\n    };\n    FillRenderer.prototype.detachSegs = function (type, segs) {\n        var containerEls = this.containerElsByType[type];\n        if (containerEls) {\n            containerEls.forEach(removeElement);\n            delete this.containerElsByType[type];\n        }\n    };\n    FillRenderer.prototype.computeSizes = function (force) {\n        for (var type in this.segsByType) {\n            if (force || this.dirtySizeFlags[type]) {\n                this.computeSegSizes(this.segsByType[type]);\n            }\n        }\n    };\n    FillRenderer.prototype.assignSizes = function (force) {\n        for (var type in this.segsByType) {\n            if (force || this.dirtySizeFlags[type]) {\n                this.assignSegSizes(this.segsByType[type]);\n            }\n        }\n        this.dirtySizeFlags = {};\n    };\n    FillRenderer.prototype.computeSegSizes = function (segs) {\n    };\n    FillRenderer.prototype.assignSegSizes = function (segs) {\n    };\n    return FillRenderer;\n}());\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el) {\n        this.emitter = new EmitterMixin();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\nfunction formatDate(dateInput, settings) {\n    if (settings === void 0) { settings = {}; }\n    var dateEnv = buildDateEnv$1(settings);\n    var formatter = createFormatter(settings);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo\n    });\n}\nfunction formatRange(startInput, endInput, settings // mixture of env and formatter settings\n) {\n    var dateEnv = buildDateEnv$1(typeof settings === 'object' && settings ? settings : {}); // pass in if non-null object\n    var formatter = createFormatter(settings, globalDefaults.defaultRangeSeparator);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: settings.isEndExclusive\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', parseRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    // ensure required settings\n    settings = __assign({ timeZone: globalDefaults.timeZone, calendarSystem: 'gregory' }, settings, { locale: locale });\n    return new DateEnv(settings);\n}\n\nvar DRAG_META_PROPS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String\n};\nvar DRAG_META_DEFAULTS = {\n    create: true\n};\nfunction parseDragMeta(raw) {\n    var leftoverProps = {};\n    var refined = refineProps(raw, DRAG_META_PROPS, DRAG_META_DEFAULTS, leftoverProps);\n    refined.leftoverProps = leftoverProps;\n    return refined;\n}\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return { weekday: 'short' }; // \"Sat\"\n    }\n    else if (dayCnt > 1) {\n        return { weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }; // \"Sat 11/12\"\n    }\n    else {\n        return { weekday: 'long' }; // \"Saturday\"\n    }\n}\nfunction renderDateCell(dateMarker, dateProfile, datesRepDistinctDays, colCnt, colHeadFormat, context, colspan, otherAttrs) {\n    var dateEnv = context.dateEnv, theme = context.theme, options = context.options;\n    var isDateValid = rangeContainsMarker(dateProfile.activeRange, dateMarker); // TODO: called too frequently. cache somehow.\n    var classNames = [\n        'fc-day-header',\n        theme.getClass('widgetHeader')\n    ];\n    var innerHtml;\n    if (typeof options.columnHeaderHtml === 'function') {\n        innerHtml = options.columnHeaderHtml(dateEnv.toDate(dateMarker));\n    }\n    else if (typeof options.columnHeaderText === 'function') {\n        innerHtml = htmlEscape(options.columnHeaderText(dateEnv.toDate(dateMarker)));\n    }\n    else {\n        innerHtml = htmlEscape(dateEnv.format(dateMarker, colHeadFormat));\n    }\n    // if only one row of days, the classNames on the header can represent the specific days beneath\n    if (datesRepDistinctDays) {\n        classNames = classNames.concat(\n        // includes the day-of-week class\n        // noThemeHighlight=true (don't highlight the header)\n        getDayClasses(dateMarker, dateProfile, context, true));\n    }\n    else {\n        classNames.push('fc-' + DAY_IDS[dateMarker.getUTCDay()]); // only add the day-of-week class\n    }\n    return '' +\n        '<th class=\"' + classNames.join(' ') + '\"' +\n        ((isDateValid && datesRepDistinctDays) ?\n            ' data-date=\"' + dateEnv.formatIso(dateMarker, { omitTime: true }) + '\"' :\n            '') +\n        (colspan > 1 ?\n            ' colspan=\"' + colspan + '\"' :\n            '') +\n        (otherAttrs ?\n            ' ' + otherAttrs :\n            '') +\n        '>' +\n        (isDateValid ?\n            // don't make a link if the heading could represent multiple days, or if there's only one day (forceOff)\n            buildGotoAnchorHtml(options, dateEnv, { date: dateMarker, forceOff: !datesRepDistinctDays || colCnt === 1 }, innerHtml) :\n            // if not valid, display text, but no link\n            innerHtml) +\n        '</th>';\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader(parentEl) {\n        var _this = _super.call(this) || this;\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.parentEl = parentEl;\n        return _this;\n    }\n    DayHeader.prototype.render = function (props, context) {\n        var dates = props.dates, datesRepDistinctDays = props.datesRepDistinctDays;\n        var parts = [];\n        this.renderSkeleton(context);\n        if (props.renderIntroHtml) {\n            parts.push(props.renderIntroHtml());\n        }\n        var colHeadFormat = createFormatter(context.options.columnHeaderFormat ||\n            computeFallbackHeaderFormat(datesRepDistinctDays, dates.length));\n        for (var _i = 0, dates_1 = dates; _i < dates_1.length; _i++) {\n            var date = dates_1[_i];\n            parts.push(renderDateCell(date, props.dateProfile, datesRepDistinctDays, dates.length, colHeadFormat, context));\n        }\n        if (context.isRtl) {\n            parts.reverse();\n        }\n        this.thead.innerHTML = '<tr>' + parts.join('') + '</tr>';\n    };\n    DayHeader.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderSkeleton.unrender();\n    };\n    DayHeader.prototype._renderSkeleton = function (context) {\n        var theme = context.theme;\n        var parentEl = this.parentEl;\n        parentEl.innerHTML = ''; // because might be nbsp\n        parentEl.appendChild(this.el = htmlToElement('<div class=\"fc-row ' + theme.getClass('headerRow') + '\">' +\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n            '<thead></thead>' +\n            '</table>' +\n            '</div>'));\n        this.thead = this.el.querySelector('thead');\n    };\n    DayHeader.prototype._unrenderSkeleton = function () {\n        removeElement(this.el);\n    };\n    return DayHeader;\n}(Component));\n\nvar DaySeries = /** @class */ (function () {\n    function DaySeries(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex++;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeries.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex\n            };\n        }\n        else {\n            return null;\n        }\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeries.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        else if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        else {\n            return indices[dayOffset];\n        }\n    };\n    return DaySeries;\n}());\n\nvar DayTable = /** @class */ (function () {\n    function DayTable(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow++) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTable.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row++) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col++) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTable.prototype.buildCell = function (row, col) {\n        return {\n            date: this.daySeries.dates[row * this.colCnt + col]\n        };\n    };\n    DayTable.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col++) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTable.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTable;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, calendar, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, [props.eventStore, eventUiBases, dateProfile, nextDayThreshold, component].concat(extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, [props.dateSelection, eventUiBases, component].concat(extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, [props.businessHours, dateProfile, nextDayThreshold, calendar, component].concat(extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, [props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, component].concat(extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, [props.eventResize, eventUiBases, dateProfile, nextDayThreshold, component].concat(extraArgs)),\n            eventSelection: props.eventSelection\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, component) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, [{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            component].concat(extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, calendar, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, [expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), calendar),\n            {},\n            dateProfile,\n            nextDayThreshold,\n            component].concat(extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, component, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, component, extraArgs)\n            };\n        }\n        else {\n            return { bg: [], fg: [] };\n        }\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, component, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n            sourceSeg: interaction.origSeg\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, component) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, component.context.calendar);\n        var segs = this.sliceRange.apply(this, [dateSpan.range].concat(extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.component = component;\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, component, // TODO: kill\n    extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, component, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, component, // TODO: kill\n    extraArgs) {\n        var segs = this.sliceRange.apply(this, [eventRange.range].concat(extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.component = component;\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating minTime/maxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.minTime.milliseconds),\n        end: addMs(range.end, dateProfile.maxTime.milliseconds - 864e5) // 864e5 = ms in a day\n    };\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '4.4.0';\n\nexport { Calendar, Component, ComponentContext, DateComponent, DateEnv, DateProfileGenerator, DayHeader, DaySeries, DayTable, ElementDragging, ElementScrollController, EmitterMixin, EventApi, FgEventRenderer, FillRenderer, Interaction, Mixin, NamedTimeZoneImpl, PositionCache, ScrollComponent, ScrollController, Slicer, Splitter, Theme, View, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, appendToElement, applyAll, applyMutationToEventStore, applyStyle, applyStyleProp, asRoughMinutes, asRoughMs, asRoughSeconds, buildGotoAnchorHtml, buildSegCompareObj, capitaliseFirstLetter, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compensateScroll, computeClippingRect, computeEdges, computeEventDraggable, computeEventEndResizable, computeEventStartResizable, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeVisibleDayRange, config, constrainPoint, createDuration, createElement, createEmptyEventStore, createEventInstance, createFormatter, createPlugin, cssToStr, debounce, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, distributeHeight, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findChildren, findElements, flexibleCompare, forceClassName, formatDate, formatIsoTimeString, formatRange, getAllDayHtml, getClippingParents, getDayClasses, getElSeg, getRectCenter, getRelevantEvents, globalDefaults, greatestDurationDenominator, hasBgRendering, htmlEscape, htmlToElement, insertAfterElement, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, isArraysEqual, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isSingleDay, isValidDate, listenBySelector, mapHash, matchCellWidths, memoize, memoizeOutput, memoizeRendering, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, prependToElement, preventContextMenu, preventDefault, preventSelection, processScopedUiProps, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineProps, removeElement, removeExact, renderDateCell, requestJson, sliceEventStore, startOfDay, subtractInnerElHeight, translateRect, uncompensateScroll, undistributeHeight, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n","/*!\nFullCalendar Day Grid Plugin v4.4.0\nDocs & License: https://fullcalendar.io/\n(c) 2019 Adam Shaw\n*/\n\nimport { addWeeks, diffWeeks, DateProfileGenerator, createElement, listenBySelector, removeElement, computeRect, computeClippingRect, applyStyle, computeEventDraggable, computeEventStartResizable, computeEventEndResizable, cssToStr, htmlEscape, FgEventRenderer, appendToElement, prependToElement, htmlToElement, FillRenderer, memoizeRendering, createFormatter, addDays, DateComponent, rangeContainsMarker, getDayClasses, findElements, PositionCache, buildGotoAnchorHtml, findChildren, insertAfterElement, intersectRanges, memoize, ScrollComponent, matchCellWidths, uncompensateScroll, compensateScroll, subtractInnerElHeight, distributeHeight, undistributeHeight, View, Slicer, DayHeader, DaySeries, DayTable, createPlugin } from '@fullcalendar/core';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar DayGridDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(DayGridDateProfileGenerator, _super);\n    function DayGridDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    DayGridDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.options.monthMode &&\n            this.options.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return DayGridDateProfileGenerator;\n}(DateProfileGenerator));\n\n/* A rectangular panel that is absolutely positioned over other content\n------------------------------------------------------------------------------------------------------------------------\nOptions:\n  - className (string)\n  - content (HTML string, element, or element array)\n  - parentEl\n  - top\n  - left\n  - right (the x coord of where the right edge should be. not a \"CSS\" right)\n  - autoHide (boolean)\n  - show (callback)\n  - hide (callback)\n*/\nvar Popover = /** @class */ (function () {\n    function Popover(options) {\n        var _this = this;\n        this.isHidden = true;\n        this.margin = 10; // the space required between the popover and the edges of the scroll container\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        this.documentMousedown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            if (_this.el && !_this.el.contains(ev.target)) {\n                _this.hide();\n            }\n        };\n        this.options = options;\n    }\n    // Shows the popover on the specified position. Renders it if not already\n    Popover.prototype.show = function () {\n        if (this.isHidden) {\n            if (!this.el) {\n                this.render();\n            }\n            this.el.style.display = '';\n            this.position();\n            this.isHidden = false;\n            this.trigger('show');\n        }\n    };\n    // Hides the popover, through CSS, but does not remove it from the DOM\n    Popover.prototype.hide = function () {\n        if (!this.isHidden) {\n            this.el.style.display = 'none';\n            this.isHidden = true;\n            this.trigger('hide');\n        }\n    };\n    // Creates `this.el` and renders content inside of it\n    Popover.prototype.render = function () {\n        var _this = this;\n        var options = this.options;\n        var el = this.el = createElement('div', {\n            className: 'fc-popover ' + (options.className || ''),\n            style: {\n                top: '0',\n                left: '0'\n            }\n        });\n        if (typeof options.content === 'function') {\n            options.content(el);\n        }\n        options.parentEl.appendChild(el);\n        // when a click happens on anything inside with a 'fc-close' className, hide the popover\n        listenBySelector(el, 'click', '.fc-close', function (ev) {\n            _this.hide();\n        });\n        if (options.autoHide) {\n            document.addEventListener('mousedown', this.documentMousedown);\n        }\n    };\n    // Hides and unregisters any handlers\n    Popover.prototype.destroy = function () {\n        this.hide();\n        if (this.el) {\n            removeElement(this.el);\n            this.el = null;\n        }\n        document.removeEventListener('mousedown', this.documentMousedown);\n    };\n    // Positions the popover optimally, using the top/left/right options\n    Popover.prototype.position = function () {\n        var options = this.options;\n        var el = this.el;\n        var elDims = el.getBoundingClientRect(); // only used for width,height\n        var origin = computeRect(el.offsetParent);\n        var clippingRect = computeClippingRect(options.parentEl);\n        var top; // the \"position\" (not \"offset\") values for the popover\n        var left; //\n        // compute top and left\n        top = options.top || 0;\n        if (options.left !== undefined) {\n            left = options.left;\n        }\n        else if (options.right !== undefined) {\n            left = options.right - elDims.width; // derive the left value from the right value\n        }\n        else {\n            left = 0;\n        }\n        // constrain to the view port. if constrained by two edges, give precedence to top/left\n        top = Math.min(top, clippingRect.bottom - elDims.height - this.margin);\n        top = Math.max(top, clippingRect.top + this.margin);\n        left = Math.min(left, clippingRect.right - elDims.width - this.margin);\n        left = Math.max(left, clippingRect.left + this.margin);\n        applyStyle(el, {\n            top: top - origin.top,\n            left: left - origin.left\n        });\n    };\n    // Triggers a callback. Calls a function in the option hash of the same name.\n    // Arguments beyond the first `name` are forwarded on.\n    // TODO: better code reuse for this. Repeat code\n    // can kill this???\n    Popover.prototype.trigger = function (name) {\n        if (this.options[name]) {\n            this.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\n        }\n    };\n    return Popover;\n}());\n\n/* Event-rendering methods for the DayGrid class\n----------------------------------------------------------------------------------------------------------------------*/\n// \"Simple\" is bad a name. has nothing to do with SimpleDayGrid\nvar SimpleDayGridEventRenderer = /** @class */ (function (_super) {\n    __extends(SimpleDayGridEventRenderer, _super);\n    function SimpleDayGridEventRenderer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Builds the HTML to be used for the default element for an individual segment\n    SimpleDayGridEventRenderer.prototype.renderSegHtml = function (seg, mirrorInfo) {\n        var context = this.context;\n        var eventRange = seg.eventRange;\n        var eventDef = eventRange.def;\n        var eventUi = eventRange.ui;\n        var allDay = eventDef.allDay;\n        var isDraggable = computeEventDraggable(context, eventDef, eventUi);\n        var isResizableFromStart = allDay && seg.isStart && computeEventStartResizable(context, eventDef, eventUi);\n        var isResizableFromEnd = allDay && seg.isEnd && computeEventEndResizable(context, eventDef, eventUi);\n        var classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd, mirrorInfo);\n        var skinCss = cssToStr(this.getSkinCss(eventUi));\n        var timeHtml = '';\n        var timeText;\n        var titleHtml;\n        classes.unshift('fc-day-grid-event', 'fc-h-event');\n        // Only display a timed events time if it is the starting segment\n        if (seg.isStart) {\n            timeText = this.getTimeText(eventRange);\n            if (timeText) {\n                timeHtml = '<span class=\"fc-time\">' + htmlEscape(timeText) + '</span>';\n            }\n        }\n        titleHtml =\n            '<span class=\"fc-title\">' +\n                (htmlEscape(eventDef.title || '') || '&nbsp;') + // we always want one line of height\n                '</span>';\n        return '<a class=\"' + classes.join(' ') + '\"' +\n            (eventDef.url ?\n                ' href=\"' + htmlEscape(eventDef.url) + '\"' :\n                '') +\n            (skinCss ?\n                ' style=\"' + skinCss + '\"' :\n                '') +\n            '>' +\n            '<div class=\"fc-content\">' +\n            (context.options.dir === 'rtl' ?\n                titleHtml + ' ' + timeHtml : // put a natural space in between\n                timeHtml + ' ' + titleHtml //\n            ) +\n            '</div>' +\n            (isResizableFromStart ?\n                '<div class=\"fc-resizer fc-start-resizer\"></div>' :\n                '') +\n            (isResizableFromEnd ?\n                '<div class=\"fc-resizer fc-end-resizer\"></div>' :\n                '') +\n            '</a>';\n    };\n    // Computes a default event time formatting string if `eventTimeFormat` is not explicitly defined\n    SimpleDayGridEventRenderer.prototype.computeEventTimeFormat = function () {\n        return {\n            hour: 'numeric',\n            minute: '2-digit',\n            omitZeroMinute: true,\n            meridiem: 'narrow'\n        };\n    };\n    SimpleDayGridEventRenderer.prototype.computeDisplayEventEnd = function () {\n        return false; // TODO: somehow consider the originating DayGrid's column count\n    };\n    return SimpleDayGridEventRenderer;\n}(FgEventRenderer));\n\n/* Event-rendering methods for the DayGrid class\n----------------------------------------------------------------------------------------------------------------------*/\nvar DayGridEventRenderer = /** @class */ (function (_super) {\n    __extends(DayGridEventRenderer, _super);\n    function DayGridEventRenderer(dayGrid) {\n        var _this = _super.call(this) || this;\n        _this.dayGrid = dayGrid;\n        return _this;\n    }\n    // Renders the given foreground event segments onto the grid\n    DayGridEventRenderer.prototype.attachSegs = function (segs, mirrorInfo) {\n        var rowStructs = this.rowStructs = this.renderSegRows(segs);\n        // append to each row's content skeleton\n        this.dayGrid.rowEls.forEach(function (rowNode, i) {\n            rowNode.querySelector('.fc-content-skeleton > table').appendChild(rowStructs[i].tbodyEl);\n        });\n        // removes the \"more..\" events popover\n        if (!mirrorInfo) {\n            this.dayGrid.removeSegPopover();\n        }\n    };\n    // Unrenders all currently rendered foreground event segments\n    DayGridEventRenderer.prototype.detachSegs = function () {\n        var rowStructs = this.rowStructs || [];\n        var rowStruct;\n        while ((rowStruct = rowStructs.pop())) {\n            removeElement(rowStruct.tbodyEl);\n        }\n        this.rowStructs = null;\n    };\n    // Uses the given events array to generate <tbody> elements that should be appended to each row's content skeleton.\n    // Returns an array of rowStruct objects (see the bottom of `renderSegRow`).\n    // PRECONDITION: each segment shoud already have a rendered and assigned `.el`\n    DayGridEventRenderer.prototype.renderSegRows = function (segs) {\n        var rowStructs = [];\n        var segRows;\n        var row;\n        segRows = this.groupSegRows(segs); // group into nested arrays\n        // iterate each row of segment groupings\n        for (row = 0; row < segRows.length; row++) {\n            rowStructs.push(this.renderSegRow(row, segRows[row]));\n        }\n        return rowStructs;\n    };\n    // Given a row # and an array of segments all in the same row, render a <tbody> element, a skeleton that contains\n    // the segments. Returns object with a bunch of internal data about how the render was calculated.\n    // NOTE: modifies rowSegs\n    DayGridEventRenderer.prototype.renderSegRow = function (row, rowSegs) {\n        var isRtl = this.context.isRtl;\n        var dayGrid = this.dayGrid;\n        var colCnt = dayGrid.colCnt;\n        var segLevels = this.buildSegLevels(rowSegs); // group into sub-arrays of levels\n        var levelCnt = Math.max(1, segLevels.length); // ensure at least one level\n        var tbody = document.createElement('tbody');\n        var segMatrix = []; // lookup for which segments are rendered into which level+col cells\n        var cellMatrix = []; // lookup for all <td> elements of the level+col matrix\n        var loneCellMatrix = []; // lookup for <td> elements that only take up a single column\n        var i;\n        var levelSegs;\n        var col;\n        var tr;\n        var j;\n        var seg;\n        var td;\n        // populates empty cells from the current column (`col`) to `endCol`\n        function emptyCellsUntil(endCol) {\n            while (col < endCol) {\n                // try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell\n                td = (loneCellMatrix[i - 1] || [])[col];\n                if (td) {\n                    td.rowSpan = (td.rowSpan || 1) + 1;\n                }\n                else {\n                    td = document.createElement('td');\n                    tr.appendChild(td);\n                }\n                cellMatrix[i][col] = td;\n                loneCellMatrix[i][col] = td;\n                col++;\n            }\n        }\n        for (i = 0; i < levelCnt; i++) { // iterate through all levels\n            levelSegs = segLevels[i];\n            col = 0;\n            tr = document.createElement('tr');\n            segMatrix.push([]);\n            cellMatrix.push([]);\n            loneCellMatrix.push([]);\n            // levelCnt might be 1 even though there are no actual levels. protect against this.\n            // this single empty row is useful for styling.\n            if (levelSegs) {\n                for (j = 0; j < levelSegs.length; j++) { // iterate through segments in level\n                    seg = levelSegs[j];\n                    var leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol;\n                    var rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol;\n                    emptyCellsUntil(leftCol);\n                    // create a container that occupies or more columns. append the event element.\n                    td = createElement('td', { className: 'fc-event-container' }, seg.el);\n                    if (leftCol !== rightCol) {\n                        td.colSpan = rightCol - leftCol + 1;\n                    }\n                    else { // a single-column segment\n                        loneCellMatrix[i][col] = td;\n                    }\n                    while (col <= rightCol) {\n                        cellMatrix[i][col] = td;\n                        segMatrix[i][col] = seg;\n                        col++;\n                    }\n                    tr.appendChild(td);\n                }\n            }\n            emptyCellsUntil(colCnt); // finish off the row\n            var introHtml = dayGrid.renderProps.renderIntroHtml();\n            if (introHtml) {\n                if (isRtl) {\n                    appendToElement(tr, introHtml);\n                }\n                else {\n                    prependToElement(tr, introHtml);\n                }\n            }\n            tbody.appendChild(tr);\n        }\n        return {\n            row: row,\n            tbodyEl: tbody,\n            cellMatrix: cellMatrix,\n            segMatrix: segMatrix,\n            segLevels: segLevels,\n            segs: rowSegs\n        };\n    };\n    // Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.\n    // NOTE: modifies segs\n    DayGridEventRenderer.prototype.buildSegLevels = function (segs) {\n        var isRtl = this.context.isRtl;\n        var colCnt = this.dayGrid.colCnt;\n        var levels = [];\n        var i;\n        var seg;\n        var j;\n        // Give preference to elements with certain criteria, so they have\n        // a chance to be closer to the top.\n        segs = this.sortEventSegs(segs);\n        for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n            // loop through levels, starting with the topmost, until the segment doesn't collide with other segments\n            for (j = 0; j < levels.length; j++) {\n                if (!isDaySegCollision(seg, levels[j])) {\n                    break;\n                }\n            }\n            // `j` now holds the desired subrow index\n            seg.level = j;\n            seg.leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol; // for sorting only\n            seg.rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol // for sorting only\n            ;\n            (levels[j] || (levels[j] = [])).push(seg);\n        }\n        // order segments left-to-right. very important if calendar is RTL\n        for (j = 0; j < levels.length; j++) {\n            levels[j].sort(compareDaySegCols);\n        }\n        return levels;\n    };\n    // Given a flat array of segments, return an array of sub-arrays, grouped by each segment's row\n    DayGridEventRenderer.prototype.groupSegRows = function (segs) {\n        var segRows = [];\n        var i;\n        for (i = 0; i < this.dayGrid.rowCnt; i++) {\n            segRows.push([]);\n        }\n        for (i = 0; i < segs.length; i++) {\n            segRows[segs[i].row].push(segs[i]);\n        }\n        return segRows;\n    };\n    // Computes a default `displayEventEnd` value if one is not expliclty defined\n    DayGridEventRenderer.prototype.computeDisplayEventEnd = function () {\n        return this.dayGrid.colCnt === 1; // we'll likely have space if there's only one day\n    };\n    return DayGridEventRenderer;\n}(SimpleDayGridEventRenderer));\n// Computes whether two segments' columns collide. They are assumed to be in the same row.\nfunction isDaySegCollision(seg, otherSegs) {\n    var i;\n    var otherSeg;\n    for (i = 0; i < otherSegs.length; i++) {\n        otherSeg = otherSegs[i];\n        if (otherSeg.firstCol <= seg.lastCol &&\n            otherSeg.lastCol >= seg.firstCol) {\n            return true;\n        }\n    }\n    return false;\n}\n// A cmp function for determining the leftmost event\nfunction compareDaySegCols(a, b) {\n    return a.leftCol - b.leftCol;\n}\n\nvar DayGridMirrorRenderer = /** @class */ (function (_super) {\n    __extends(DayGridMirrorRenderer, _super);\n    function DayGridMirrorRenderer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayGridMirrorRenderer.prototype.attachSegs = function (segs, mirrorInfo) {\n        var sourceSeg = mirrorInfo.sourceSeg;\n        var rowStructs = this.rowStructs = this.renderSegRows(segs);\n        // inject each new event skeleton into each associated row\n        this.dayGrid.rowEls.forEach(function (rowNode, row) {\n            var skeletonEl = htmlToElement('<div class=\"fc-mirror-skeleton\"><table></table></div>'); // will be absolutely positioned\n            var skeletonTopEl;\n            var skeletonTop;\n            // If there is an original segment, match the top position. Otherwise, put it at the row's top level\n            if (sourceSeg && sourceSeg.row === row) {\n                skeletonTopEl = sourceSeg.el;\n            }\n            else {\n                skeletonTopEl = rowNode.querySelector('.fc-content-skeleton tbody');\n                if (!skeletonTopEl) { // when no events\n                    skeletonTopEl = rowNode.querySelector('.fc-content-skeleton table');\n                }\n            }\n            skeletonTop = skeletonTopEl.getBoundingClientRect().top -\n                rowNode.getBoundingClientRect().top; // the offsetParent origin\n            skeletonEl.style.top = skeletonTop + 'px';\n            skeletonEl.querySelector('table').appendChild(rowStructs[row].tbodyEl);\n            rowNode.appendChild(skeletonEl);\n        });\n    };\n    return DayGridMirrorRenderer;\n}(DayGridEventRenderer));\n\nvar EMPTY_CELL_HTML = '<td style=\"pointer-events:none\"></td>';\nvar DayGridFillRenderer = /** @class */ (function (_super) {\n    __extends(DayGridFillRenderer, _super);\n    function DayGridFillRenderer(dayGrid) {\n        var _this = _super.call(this) || this;\n        _this.fillSegTag = 'td'; // override the default tag name\n        _this.dayGrid = dayGrid;\n        return _this;\n    }\n    DayGridFillRenderer.prototype.renderSegs = function (type, context, segs) {\n        // don't render timed background events\n        if (type === 'bgEvent') {\n            segs = segs.filter(function (seg) {\n                return seg.eventRange.def.allDay;\n            });\n        }\n        _super.prototype.renderSegs.call(this, type, context, segs);\n    };\n    DayGridFillRenderer.prototype.attachSegs = function (type, segs) {\n        var els = [];\n        var i;\n        var seg;\n        var skeletonEl;\n        for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n            skeletonEl = this.renderFillRow(type, seg);\n            this.dayGrid.rowEls[seg.row].appendChild(skeletonEl);\n            els.push(skeletonEl);\n        }\n        return els;\n    };\n    // Generates the HTML needed for one row of a fill. Requires the seg's el to be rendered.\n    DayGridFillRenderer.prototype.renderFillRow = function (type, seg) {\n        var dayGrid = this.dayGrid;\n        var isRtl = this.context.isRtl;\n        var colCnt = dayGrid.colCnt;\n        var leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol;\n        var rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol;\n        var startCol = leftCol;\n        var endCol = rightCol + 1;\n        var className;\n        var skeletonEl;\n        var trEl;\n        if (type === 'businessHours') {\n            className = 'bgevent';\n        }\n        else {\n            className = type.toLowerCase();\n        }\n        skeletonEl = htmlToElement('<div class=\"fc-' + className + '-skeleton\">' +\n            '<table><tr></tr></table>' +\n            '</div>');\n        trEl = skeletonEl.getElementsByTagName('tr')[0];\n        if (startCol > 0) {\n            appendToElement(trEl, \n            // will create (startCol + 1) td's\n            new Array(startCol + 1).join(EMPTY_CELL_HTML));\n        }\n        seg.el.colSpan = endCol - startCol;\n        trEl.appendChild(seg.el);\n        if (endCol < colCnt) {\n            appendToElement(trEl, \n            // will create (colCnt - endCol) td's\n            new Array(colCnt - endCol + 1).join(EMPTY_CELL_HTML));\n        }\n        var introHtml = dayGrid.renderProps.renderIntroHtml();\n        if (introHtml) {\n            if (isRtl) {\n                appendToElement(trEl, introHtml);\n            }\n            else {\n                prependToElement(trEl, introHtml);\n            }\n        }\n        return skeletonEl;\n    };\n    return DayGridFillRenderer;\n}(FillRenderer));\n\nvar DayTile = /** @class */ (function (_super) {\n    __extends(DayTile, _super);\n    function DayTile(el) {\n        var _this = _super.call(this, el) || this;\n        var eventRenderer = _this.eventRenderer = new DayTileEventRenderer(_this);\n        var renderFrame = _this.renderFrame = memoizeRendering(_this._renderFrame);\n        _this.renderFgEvents = memoizeRendering(eventRenderer.renderSegs.bind(eventRenderer), eventRenderer.unrender.bind(eventRenderer), [renderFrame]);\n        _this.renderEventSelection = memoizeRendering(eventRenderer.selectByInstanceId.bind(eventRenderer), eventRenderer.unselectByInstanceId.bind(eventRenderer), [_this.renderFgEvents]);\n        _this.renderEventDrag = memoizeRendering(eventRenderer.hideByHash.bind(eventRenderer), eventRenderer.showByHash.bind(eventRenderer), [renderFrame]);\n        _this.renderEventResize = memoizeRendering(eventRenderer.hideByHash.bind(eventRenderer), eventRenderer.showByHash.bind(eventRenderer), [renderFrame]);\n        return _this;\n    }\n    DayTile.prototype.firstContext = function (context) {\n        context.calendar.registerInteractiveComponent(this, {\n            el: this.el,\n            useEventCenter: false\n        });\n    };\n    DayTile.prototype.render = function (props, context) {\n        this.renderFrame(props.date);\n        this.renderFgEvents(context, props.fgSegs);\n        this.renderEventSelection(props.eventSelection);\n        this.renderEventDrag(props.eventDragInstances);\n        this.renderEventResize(props.eventResizeInstances);\n    };\n    DayTile.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderFrame.unrender(); // should unrender everything else\n        this.context.calendar.unregisterInteractiveComponent(this);\n    };\n    DayTile.prototype._renderFrame = function (date) {\n        var _a = this.context, theme = _a.theme, dateEnv = _a.dateEnv, options = _a.options;\n        var title = dateEnv.format(date, createFormatter(options.dayPopoverFormat) // TODO: cache\n        );\n        this.el.innerHTML =\n            '<div class=\"fc-header ' + theme.getClass('popoverHeader') + '\">' +\n                '<span class=\"fc-title\">' +\n                htmlEscape(title) +\n                '</span>' +\n                '<span class=\"fc-close ' + theme.getIconClass('close') + '\"></span>' +\n                '</div>' +\n                '<div class=\"fc-body ' + theme.getClass('popoverContent') + '\">' +\n                '<div class=\"fc-event-container\"></div>' +\n                '</div>';\n        this.segContainerEl = this.el.querySelector('.fc-event-container');\n    };\n    DayTile.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var date = this.props.date; // HACK\n        if (positionLeft < elWidth && positionTop < elHeight) {\n            return {\n                component: this,\n                dateSpan: {\n                    allDay: true,\n                    range: { start: date, end: addDays(date, 1) }\n                },\n                dayEl: this.el,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight\n                },\n                layer: 1\n            };\n        }\n    };\n    return DayTile;\n}(DateComponent));\nvar DayTileEventRenderer = /** @class */ (function (_super) {\n    __extends(DayTileEventRenderer, _super);\n    function DayTileEventRenderer(dayTile) {\n        var _this = _super.call(this) || this;\n        _this.dayTile = dayTile;\n        return _this;\n    }\n    DayTileEventRenderer.prototype.attachSegs = function (segs) {\n        for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n            var seg = segs_1[_i];\n            this.dayTile.segContainerEl.appendChild(seg.el);\n        }\n    };\n    DayTileEventRenderer.prototype.detachSegs = function (segs) {\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            removeElement(seg.el);\n        }\n    };\n    return DayTileEventRenderer;\n}(SimpleDayGridEventRenderer));\n\nvar DayBgRow = /** @class */ (function () {\n    function DayBgRow(context) {\n        this.context = context;\n    }\n    DayBgRow.prototype.renderHtml = function (props) {\n        var parts = [];\n        if (props.renderIntroHtml) {\n            parts.push(props.renderIntroHtml());\n        }\n        for (var _i = 0, _a = props.cells; _i < _a.length; _i++) {\n            var cell = _a[_i];\n            parts.push(renderCellHtml(cell.date, props.dateProfile, this.context, cell.htmlAttrs));\n        }\n        if (!props.cells.length) {\n            parts.push('<td class=\"fc-day ' + this.context.theme.getClass('widgetContent') + '\"></td>');\n        }\n        if (this.context.options.dir === 'rtl') {\n            parts.reverse();\n        }\n        return '<tr>' + parts.join('') + '</tr>';\n    };\n    return DayBgRow;\n}());\nfunction renderCellHtml(date, dateProfile, context, otherAttrs) {\n    var dateEnv = context.dateEnv, theme = context.theme;\n    var isDateValid = rangeContainsMarker(dateProfile.activeRange, date); // TODO: called too frequently. cache somehow.\n    var classes = getDayClasses(date, dateProfile, context);\n    classes.unshift('fc-day', theme.getClass('widgetContent'));\n    return '<td class=\"' + classes.join(' ') + '\"' +\n        (isDateValid ?\n            ' data-date=\"' + dateEnv.formatIso(date, { omitTime: true }) + '\"' :\n            '') +\n        (otherAttrs ?\n            ' ' + otherAttrs :\n            '') +\n        '></td>';\n}\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar WEEK_NUM_FORMAT = createFormatter({ week: 'numeric' });\nvar DayGrid = /** @class */ (function (_super) {\n    __extends(DayGrid, _super);\n    function DayGrid(el, renderProps) {\n        var _this = _super.call(this, el) || this;\n        _this.bottomCoordPadding = 0; // hack for extending the hit area for the last row of the coordinate grid\n        _this.isCellSizesDirty = false;\n        _this.renderProps = renderProps;\n        var eventRenderer = _this.eventRenderer = new DayGridEventRenderer(_this);\n        var fillRenderer = _this.fillRenderer = new DayGridFillRenderer(_this);\n        _this.mirrorRenderer = new DayGridMirrorRenderer(_this);\n        var renderCells = _this.renderCells = memoizeRendering(_this._renderCells, _this._unrenderCells);\n        _this.renderBusinessHours = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'businessHours'), fillRenderer.unrender.bind(fillRenderer, 'businessHours'), [renderCells]);\n        _this.renderDateSelection = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'highlight'), fillRenderer.unrender.bind(fillRenderer, 'highlight'), [renderCells]);\n        _this.renderBgEvents = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'bgEvent'), fillRenderer.unrender.bind(fillRenderer, 'bgEvent'), [renderCells]);\n        _this.renderFgEvents = memoizeRendering(eventRenderer.renderSegs.bind(eventRenderer), eventRenderer.unrender.bind(eventRenderer), [renderCells]);\n        _this.renderEventSelection = memoizeRendering(eventRenderer.selectByInstanceId.bind(eventRenderer), eventRenderer.unselectByInstanceId.bind(eventRenderer), [_this.renderFgEvents]);\n        _this.renderEventDrag = memoizeRendering(_this._renderEventDrag, _this._unrenderEventDrag, [renderCells]);\n        _this.renderEventResize = memoizeRendering(_this._renderEventResize, _this._unrenderEventResize, [renderCells]);\n        return _this;\n    }\n    DayGrid.prototype.render = function (props, context) {\n        var cells = props.cells;\n        this.rowCnt = cells.length;\n        this.colCnt = cells[0].length;\n        this.renderCells(cells, props.isRigid);\n        this.renderBusinessHours(context, props.businessHourSegs);\n        this.renderDateSelection(context, props.dateSelectionSegs);\n        this.renderBgEvents(context, props.bgEventSegs);\n        this.renderFgEvents(context, props.fgEventSegs);\n        this.renderEventSelection(props.eventSelection);\n        this.renderEventDrag(props.eventDrag);\n        this.renderEventResize(props.eventResize);\n        if (this.segPopoverTile) {\n            this.updateSegPopoverTile();\n        }\n    };\n    DayGrid.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderCells.unrender(); // will unrender everything else\n    };\n    DayGrid.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    DayGrid.prototype.updateSegPopoverTile = function (date, segs) {\n        var ownProps = this.props;\n        this.segPopoverTile.receiveProps({\n            date: date || this.segPopoverTile.props.date,\n            fgSegs: segs || this.segPopoverTile.props.fgSegs,\n            eventSelection: ownProps.eventSelection,\n            eventDragInstances: ownProps.eventDrag ? ownProps.eventDrag.affectedInstances : null,\n            eventResizeInstances: ownProps.eventResize ? ownProps.eventResize.affectedInstances : null\n        }, this.context);\n    };\n    /* Date Rendering\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype._renderCells = function (cells, isRigid) {\n        var _a = this.context, calendar = _a.calendar, view = _a.view, isRtl = _a.isRtl, dateEnv = _a.dateEnv;\n        var _b = this, rowCnt = _b.rowCnt, colCnt = _b.colCnt;\n        var html = '';\n        var row;\n        var col;\n        for (row = 0; row < rowCnt; row++) {\n            html += this.renderDayRowHtml(row, isRigid);\n        }\n        this.el.innerHTML = html;\n        this.rowEls = findElements(this.el, '.fc-row');\n        this.cellEls = findElements(this.el, '.fc-day, .fc-disabled-day');\n        if (isRtl) {\n            this.cellEls.reverse();\n        }\n        this.rowPositions = new PositionCache(this.el, this.rowEls, false, true // vertical\n        );\n        this.colPositions = new PositionCache(this.el, this.cellEls.slice(0, colCnt), // only the first row\n        true, false // horizontal\n        );\n        // trigger dayRender with each cell's element\n        for (row = 0; row < rowCnt; row++) {\n            for (col = 0; col < colCnt; col++) {\n                calendar.publiclyTrigger('dayRender', [\n                    {\n                        date: dateEnv.toDate(cells[row][col].date),\n                        el: this.getCellEl(row, col),\n                        view: view\n                    }\n                ]);\n            }\n        }\n        this.isCellSizesDirty = true;\n    };\n    DayGrid.prototype._unrenderCells = function () {\n        this.removeSegPopover();\n    };\n    // Generates the HTML for a single row, which is a div that wraps a table.\n    // `row` is the row number.\n    DayGrid.prototype.renderDayRowHtml = function (row, isRigid) {\n        var theme = this.context.theme;\n        var classes = ['fc-row', 'fc-week', theme.getClass('dayRow')];\n        if (isRigid) {\n            classes.push('fc-rigid');\n        }\n        var bgRow = new DayBgRow(this.context);\n        return '' +\n            '<div class=\"' + classes.join(' ') + '\">' +\n            '<div class=\"fc-bg\">' +\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n            bgRow.renderHtml({\n                cells: this.props.cells[row],\n                dateProfile: this.props.dateProfile,\n                renderIntroHtml: this.renderProps.renderBgIntroHtml\n            }) +\n            '</table>' +\n            '</div>' +\n            '<div class=\"fc-content-skeleton\">' +\n            '<table>' +\n            (this.getIsNumbersVisible() ?\n                '<thead>' +\n                    this.renderNumberTrHtml(row) +\n                    '</thead>' :\n                '') +\n            '</table>' +\n            '</div>' +\n            '</div>';\n    };\n    DayGrid.prototype.getIsNumbersVisible = function () {\n        return this.getIsDayNumbersVisible() ||\n            this.renderProps.cellWeekNumbersVisible ||\n            this.renderProps.colWeekNumbersVisible;\n    };\n    DayGrid.prototype.getIsDayNumbersVisible = function () {\n        return this.rowCnt > 1;\n    };\n    /* Grid Number Rendering\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype.renderNumberTrHtml = function (row) {\n        var isRtl = this.context.isRtl;\n        var intro = this.renderProps.renderNumberIntroHtml(row, this);\n        return '' +\n            '<tr>' +\n            (isRtl ? '' : intro) +\n            this.renderNumberCellsHtml(row) +\n            (isRtl ? intro : '') +\n            '</tr>';\n    };\n    DayGrid.prototype.renderNumberCellsHtml = function (row) {\n        var htmls = [];\n        var col;\n        var date;\n        for (col = 0; col < this.colCnt; col++) {\n            date = this.props.cells[row][col].date;\n            htmls.push(this.renderNumberCellHtml(date));\n        }\n        if (this.context.isRtl) {\n            htmls.reverse();\n        }\n        return htmls.join('');\n    };\n    // Generates the HTML for the <td>s of the \"number\" row in the DayGrid's content skeleton.\n    // The number row will only exist if either day numbers or week numbers are turned on.\n    DayGrid.prototype.renderNumberCellHtml = function (date) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var html = '';\n        var isDateValid = rangeContainsMarker(this.props.dateProfile.activeRange, date); // TODO: called too frequently. cache somehow.\n        var isDayNumberVisible = this.getIsDayNumbersVisible() && isDateValid;\n        var classes;\n        var weekCalcFirstDow;\n        if (!isDayNumberVisible && !this.renderProps.cellWeekNumbersVisible) {\n            // no numbers in day cell (week number must be along the side)\n            return '<td></td>'; //  will create an empty space above events :(\n        }\n        classes = getDayClasses(date, this.props.dateProfile, this.context);\n        classes.unshift('fc-day-top');\n        if (this.renderProps.cellWeekNumbersVisible) {\n            weekCalcFirstDow = dateEnv.weekDow;\n        }\n        html += '<td class=\"' + classes.join(' ') + '\"' +\n            (isDateValid ?\n                ' data-date=\"' + dateEnv.formatIso(date, { omitTime: true }) + '\"' :\n                '') +\n            '>';\n        if (this.renderProps.cellWeekNumbersVisible && (date.getUTCDay() === weekCalcFirstDow)) {\n            html += buildGotoAnchorHtml(options, dateEnv, { date: date, type: 'week' }, { 'class': 'fc-week-number' }, dateEnv.format(date, WEEK_NUM_FORMAT) // inner HTML\n            );\n        }\n        if (isDayNumberVisible) {\n            html += buildGotoAnchorHtml(options, dateEnv, date, { 'class': 'fc-day-number' }, dateEnv.format(date, DAY_NUM_FORMAT) // inner HTML\n            );\n        }\n        html += '</td>';\n        return html;\n    };\n    /* Sizing\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype.updateSize = function (isResize) {\n        var calendar = this.context.calendar;\n        var _a = this, fillRenderer = _a.fillRenderer, eventRenderer = _a.eventRenderer, mirrorRenderer = _a.mirrorRenderer;\n        if (isResize ||\n            this.isCellSizesDirty ||\n            calendar.isEventsUpdated // hack\n        ) {\n            this.buildPositionCaches();\n            this.isCellSizesDirty = false;\n        }\n        fillRenderer.computeSizes(isResize);\n        eventRenderer.computeSizes(isResize);\n        mirrorRenderer.computeSizes(isResize);\n        fillRenderer.assignSizes(isResize);\n        eventRenderer.assignSizes(isResize);\n        mirrorRenderer.assignSizes(isResize);\n    };\n    DayGrid.prototype.buildPositionCaches = function () {\n        this.buildColPositions();\n        this.buildRowPositions();\n    };\n    DayGrid.prototype.buildColPositions = function () {\n        this.colPositions.build();\n    };\n    DayGrid.prototype.buildRowPositions = function () {\n        this.rowPositions.build();\n        this.rowPositions.bottoms[this.rowCnt - 1] += this.bottomCoordPadding; // hack\n    };\n    /* Hit System\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype.positionToHit = function (leftPosition, topPosition) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(leftPosition);\n        var row = rowPositions.topToIndex(topPosition);\n        if (row != null && col != null) {\n            return {\n                row: row,\n                col: col,\n                dateSpan: {\n                    range: this.getCellRange(row, col),\n                    allDay: true\n                },\n                dayEl: this.getCellEl(row, col),\n                relativeRect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row]\n                }\n            };\n        }\n    };\n    /* Cell System\n    ------------------------------------------------------------------------------------------------------------------*/\n    // FYI: the first column is the leftmost column, regardless of date\n    DayGrid.prototype.getCellEl = function (row, col) {\n        return this.cellEls[row * this.colCnt + col];\n    };\n    /* Event Drag Visualization\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype._renderEventDrag = function (state) {\n        if (state) {\n            this.eventRenderer.hideByHash(state.affectedInstances);\n            this.fillRenderer.renderSegs('highlight', this.context, state.segs);\n        }\n    };\n    DayGrid.prototype._unrenderEventDrag = function (state) {\n        if (state) {\n            this.eventRenderer.showByHash(state.affectedInstances);\n            this.fillRenderer.unrender('highlight', this.context);\n        }\n    };\n    /* Event Resize Visualization\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype._renderEventResize = function (state) {\n        if (state) {\n            this.eventRenderer.hideByHash(state.affectedInstances);\n            this.fillRenderer.renderSegs('highlight', this.context, state.segs);\n            this.mirrorRenderer.renderSegs(this.context, state.segs, { isResizing: true, sourceSeg: state.sourceSeg });\n        }\n    };\n    DayGrid.prototype._unrenderEventResize = function (state) {\n        if (state) {\n            this.eventRenderer.showByHash(state.affectedInstances);\n            this.fillRenderer.unrender('highlight', this.context);\n            this.mirrorRenderer.unrender(this.context, state.segs, { isResizing: true, sourceSeg: state.sourceSeg });\n        }\n    };\n    /* More+ Link Popover\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype.removeSegPopover = function () {\n        if (this.segPopover) {\n            this.segPopover.hide(); // in handler, will call segPopover's removeElement\n        }\n    };\n    // Limits the number of \"levels\" (vertically stacking layers of events) for each row of the grid.\n    // `levelLimit` can be false (don't limit), a number, or true (should be computed).\n    DayGrid.prototype.limitRows = function (levelLimit) {\n        var rowStructs = this.eventRenderer.rowStructs || [];\n        var row; // row #\n        var rowLevelLimit;\n        for (row = 0; row < rowStructs.length; row++) {\n            this.unlimitRow(row);\n            if (!levelLimit) {\n                rowLevelLimit = false;\n            }\n            else if (typeof levelLimit === 'number') {\n                rowLevelLimit = levelLimit;\n            }\n            else {\n                rowLevelLimit = this.computeRowLevelLimit(row);\n            }\n            if (rowLevelLimit !== false) {\n                this.limitRow(row, rowLevelLimit);\n            }\n        }\n    };\n    // Computes the number of levels a row will accomodate without going outside its bounds.\n    // Assumes the row is \"rigid\" (maintains a constant height regardless of what is inside).\n    // `row` is the row number.\n    DayGrid.prototype.computeRowLevelLimit = function (row) {\n        var rowEl = this.rowEls[row]; // the containing \"fake\" row div\n        var rowBottom = rowEl.getBoundingClientRect().bottom; // relative to viewport!\n        var trEls = findChildren(this.eventRenderer.rowStructs[row].tbodyEl);\n        var i;\n        var trEl;\n        // Reveal one level <tr> at a time and stop when we find one out of bounds\n        for (i = 0; i < trEls.length; i++) {\n            trEl = trEls[i];\n            trEl.classList.remove('fc-limited'); // reset to original state (reveal)\n            if (trEl.getBoundingClientRect().bottom > rowBottom) {\n                return i;\n            }\n        }\n        return false; // should not limit at all\n    };\n    // Limits the given grid row to the maximum number of levels and injects \"more\" links if necessary.\n    // `row` is the row number.\n    // `levelLimit` is a number for the maximum (inclusive) number of levels allowed.\n    DayGrid.prototype.limitRow = function (row, levelLimit) {\n        var _this = this;\n        var colCnt = this.colCnt;\n        var isRtl = this.context.isRtl;\n        var rowStruct = this.eventRenderer.rowStructs[row];\n        var moreNodes = []; // array of \"more\" <a> links and <td> DOM nodes\n        var col = 0; // col #, left-to-right (not chronologically)\n        var levelSegs; // array of segment objects in the last allowable level, ordered left-to-right\n        var cellMatrix; // a matrix (by level, then column) of all <td> elements in the row\n        var limitedNodes; // array of temporarily hidden level <tr> and segment <td> DOM nodes\n        var i;\n        var seg;\n        var segsBelow; // array of segment objects below `seg` in the current `col`\n        var totalSegsBelow; // total number of segments below `seg` in any of the columns `seg` occupies\n        var colSegsBelow; // array of segment arrays, below seg, one for each column (offset from segs's first column)\n        var td;\n        var rowSpan;\n        var segMoreNodes; // array of \"more\" <td> cells that will stand-in for the current seg's cell\n        var j;\n        var moreTd;\n        var moreWrap;\n        var moreLink;\n        // Iterates through empty level cells and places \"more\" links inside if need be\n        var emptyCellsUntil = function (endCol) {\n            while (col < endCol) {\n                segsBelow = _this.getCellSegs(row, col, levelLimit);\n                if (segsBelow.length) {\n                    td = cellMatrix[levelLimit - 1][col];\n                    moreLink = _this.renderMoreLink(row, col, segsBelow);\n                    moreWrap = createElement('div', null, moreLink);\n                    td.appendChild(moreWrap);\n                    moreNodes.push(moreWrap);\n                }\n                col++;\n            }\n        };\n        if (levelLimit && levelLimit < rowStruct.segLevels.length) { // is it actually over the limit?\n            levelSegs = rowStruct.segLevels[levelLimit - 1];\n            cellMatrix = rowStruct.cellMatrix;\n            limitedNodes = findChildren(rowStruct.tbodyEl).slice(levelLimit); // get level <tr> elements past the limit\n            limitedNodes.forEach(function (node) {\n                node.classList.add('fc-limited'); // hide elements and get a simple DOM-nodes array\n            });\n            // iterate though segments in the last allowable level\n            for (i = 0; i < levelSegs.length; i++) {\n                seg = levelSegs[i];\n                var leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol;\n                var rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol;\n                emptyCellsUntil(leftCol); // process empty cells before the segment\n                // determine *all* segments below `seg` that occupy the same columns\n                colSegsBelow = [];\n                totalSegsBelow = 0;\n                while (col <= rightCol) {\n                    segsBelow = this.getCellSegs(row, col, levelLimit);\n                    colSegsBelow.push(segsBelow);\n                    totalSegsBelow += segsBelow.length;\n                    col++;\n                }\n                if (totalSegsBelow) { // do we need to replace this segment with one or many \"more\" links?\n                    td = cellMatrix[levelLimit - 1][leftCol]; // the segment's parent cell\n                    rowSpan = td.rowSpan || 1;\n                    segMoreNodes = [];\n                    // make a replacement <td> for each column the segment occupies. will be one for each colspan\n                    for (j = 0; j < colSegsBelow.length; j++) {\n                        moreTd = createElement('td', { className: 'fc-more-cell', rowSpan: rowSpan });\n                        segsBelow = colSegsBelow[j];\n                        moreLink = this.renderMoreLink(row, leftCol + j, [seg].concat(segsBelow) // count seg as hidden too\n                        );\n                        moreWrap = createElement('div', null, moreLink);\n                        moreTd.appendChild(moreWrap);\n                        segMoreNodes.push(moreTd);\n                        moreNodes.push(moreTd);\n                    }\n                    td.classList.add('fc-limited');\n                    insertAfterElement(td, segMoreNodes);\n                    limitedNodes.push(td);\n                }\n            }\n            emptyCellsUntil(this.colCnt); // finish off the level\n            rowStruct.moreEls = moreNodes; // for easy undoing later\n            rowStruct.limitedEls = limitedNodes; // for easy undoing later\n        }\n    };\n    // Reveals all levels and removes all \"more\"-related elements for a grid's row.\n    // `row` is a row number.\n    DayGrid.prototype.unlimitRow = function (row) {\n        var rowStruct = this.eventRenderer.rowStructs[row];\n        if (rowStruct.moreEls) {\n            rowStruct.moreEls.forEach(removeElement);\n            rowStruct.moreEls = null;\n        }\n        if (rowStruct.limitedEls) {\n            rowStruct.limitedEls.forEach(function (limitedEl) {\n                limitedEl.classList.remove('fc-limited');\n            });\n            rowStruct.limitedEls = null;\n        }\n    };\n    // Renders an <a> element that represents hidden event element for a cell.\n    // Responsible for attaching click handler as well.\n    DayGrid.prototype.renderMoreLink = function (row, col, hiddenSegs) {\n        var _this = this;\n        var _a = this.context, calendar = _a.calendar, view = _a.view, dateEnv = _a.dateEnv, options = _a.options, isRtl = _a.isRtl;\n        var a = createElement('a', { className: 'fc-more' });\n        a.innerText = this.getMoreLinkText(hiddenSegs.length);\n        a.addEventListener('click', function (ev) {\n            var clickOption = options.eventLimitClick;\n            var _col = isRtl ? _this.colCnt - col - 1 : col; // HACK: props.cells has different dir system?\n            var date = _this.props.cells[row][_col].date;\n            var moreEl = ev.currentTarget;\n            var dayEl = _this.getCellEl(row, col);\n            var allSegs = _this.getCellSegs(row, col);\n            // rescope the segments to be within the cell's date\n            var reslicedAllSegs = _this.resliceDaySegs(allSegs, date);\n            var reslicedHiddenSegs = _this.resliceDaySegs(hiddenSegs, date);\n            if (typeof clickOption === 'function') {\n                // the returned value can be an atomic option\n                clickOption = calendar.publiclyTrigger('eventLimitClick', [\n                    {\n                        date: dateEnv.toDate(date),\n                        allDay: true,\n                        dayEl: dayEl,\n                        moreEl: moreEl,\n                        segs: reslicedAllSegs,\n                        hiddenSegs: reslicedHiddenSegs,\n                        jsEvent: ev,\n                        view: view\n                    }\n                ]);\n            }\n            if (clickOption === 'popover') {\n                _this.showSegPopover(row, col, moreEl, reslicedAllSegs);\n            }\n            else if (typeof clickOption === 'string') { // a view name\n                calendar.zoomTo(date, clickOption);\n            }\n        });\n        return a;\n    };\n    // Reveals the popover that displays all events within a cell\n    DayGrid.prototype.showSegPopover = function (row, col, moreLink, segs) {\n        var _this = this;\n        var _a = this.context, calendar = _a.calendar, view = _a.view, theme = _a.theme, isRtl = _a.isRtl;\n        var _col = isRtl ? this.colCnt - col - 1 : col; // HACK: props.cells has different dir system?\n        var moreWrap = moreLink.parentNode; // the <div> wrapper around the <a>\n        var topEl; // the element we want to match the top coordinate of\n        var options;\n        if (this.rowCnt === 1) {\n            topEl = view.el; // will cause the popover to cover any sort of header\n        }\n        else {\n            topEl = this.rowEls[row]; // will align with top of row\n        }\n        options = {\n            className: 'fc-more-popover ' + theme.getClass('popover'),\n            parentEl: view.el,\n            top: computeRect(topEl).top,\n            autoHide: true,\n            content: function (el) {\n                _this.segPopoverTile = new DayTile(el);\n                _this.updateSegPopoverTile(_this.props.cells[row][_col].date, segs);\n            },\n            hide: function () {\n                _this.segPopoverTile.destroy();\n                _this.segPopoverTile = null;\n                _this.segPopover.destroy();\n                _this.segPopover = null;\n            }\n        };\n        // Determine horizontal coordinate.\n        // We use the moreWrap instead of the <td> to avoid border confusion.\n        if (isRtl) {\n            options.right = computeRect(moreWrap).right + 1; // +1 to be over cell border\n        }\n        else {\n            options.left = computeRect(moreWrap).left - 1; // -1 to be over cell border\n        }\n        this.segPopover = new Popover(options);\n        this.segPopover.show();\n        calendar.releaseAfterSizingTriggers(); // hack for eventPositioned\n    };\n    // Given the events within an array of segment objects, reslice them to be in a single day\n    DayGrid.prototype.resliceDaySegs = function (segs, dayDate) {\n        var dayStart = dayDate;\n        var dayEnd = addDays(dayStart, 1);\n        var dayRange = { start: dayStart, end: dayEnd };\n        var newSegs = [];\n        for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n            var seg = segs_1[_i];\n            var eventRange = seg.eventRange;\n            var origRange = eventRange.range;\n            var slicedRange = intersectRanges(origRange, dayRange);\n            if (slicedRange) {\n                newSegs.push(__assign({}, seg, { eventRange: {\n                        def: eventRange.def,\n                        ui: __assign({}, eventRange.ui, { durationEditable: false }),\n                        instance: eventRange.instance,\n                        range: slicedRange\n                    }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() }));\n            }\n        }\n        return newSegs;\n    };\n    // Generates the text that should be inside a \"more\" link, given the number of events it represents\n    DayGrid.prototype.getMoreLinkText = function (num) {\n        var opt = this.context.options.eventLimitText;\n        if (typeof opt === 'function') {\n            return opt(num);\n        }\n        else {\n            return '+' + num + ' ' + opt;\n        }\n    };\n    // Returns segments within a given cell.\n    // If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.\n    DayGrid.prototype.getCellSegs = function (row, col, startLevel) {\n        var segMatrix = this.eventRenderer.rowStructs[row].segMatrix;\n        var level = startLevel || 0;\n        var segs = [];\n        var seg;\n        while (level < segMatrix.length) {\n            seg = segMatrix[level][col];\n            if (seg) {\n                segs.push(seg);\n            }\n            level++;\n        }\n        return segs;\n    };\n    return DayGrid;\n}(DateComponent));\n\nvar WEEK_NUM_FORMAT$1 = createFormatter({ week: 'numeric' });\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a DayGrid subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar AbstractDayGridView = /** @class */ (function (_super) {\n    __extends(AbstractDayGridView, _super);\n    function AbstractDayGridView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processOptions = memoize(_this._processOptions);\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        /* Header Rendering\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Generates the HTML that will go before the day-of week header cells\n        _this.renderHeadIntroHtml = function () {\n            var _a = _this.context, theme = _a.theme, options = _a.options;\n            if (_this.colWeekNumbersVisible) {\n                return '' +\n                    '<th class=\"fc-week-number ' + theme.getClass('widgetHeader') + '\" ' + _this.weekNumberStyleAttr() + '>' +\n                    '<span>' + // needed for matchCellWidths\n                    htmlEscape(options.weekLabel) +\n                    '</span>' +\n                    '</th>';\n            }\n            return '';\n        };\n        /* Day Grid Rendering\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Generates the HTML that will go before content-skeleton cells that display the day/week numbers\n        _this.renderDayGridNumberIntroHtml = function (row, dayGrid) {\n            var _a = _this.context, options = _a.options, dateEnv = _a.dateEnv;\n            var weekStart = dayGrid.props.cells[row][0].date;\n            if (_this.colWeekNumbersVisible) {\n                return '' +\n                    '<td class=\"fc-week-number\" ' + _this.weekNumberStyleAttr() + '>' +\n                    buildGotoAnchorHtml(// aside from link, important for matchCellWidths\n                    options, dateEnv, { date: weekStart, type: 'week', forceOff: dayGrid.colCnt === 1 }, dateEnv.format(weekStart, WEEK_NUM_FORMAT$1) // inner HTML\n                    ) +\n                    '</td>';\n            }\n            return '';\n        };\n        // Generates the HTML that goes before the day bg cells for each day-row\n        _this.renderDayGridBgIntroHtml = function () {\n            var theme = _this.context.theme;\n            if (_this.colWeekNumbersVisible) {\n                return '<td class=\"fc-week-number ' + theme.getClass('widgetContent') + '\" ' + _this.weekNumberStyleAttr() + '></td>';\n            }\n            return '';\n        };\n        // Generates the HTML that goes before every other type of row generated by DayGrid.\n        // Affects mirror-skeleton and highlight-skeleton rows.\n        _this.renderDayGridIntroHtml = function () {\n            if (_this.colWeekNumbersVisible) {\n                return '<td class=\"fc-week-number\" ' + _this.weekNumberStyleAttr() + '></td>';\n            }\n            return '';\n        };\n        return _this;\n    }\n    AbstractDayGridView.prototype._processOptions = function (options) {\n        if (options.weekNumbers) {\n            if (options.weekNumbersWithinDays) {\n                this.cellWeekNumbersVisible = true;\n                this.colWeekNumbersVisible = false;\n            }\n            else {\n                this.cellWeekNumbersVisible = false;\n                this.colWeekNumbersVisible = true;\n            }\n        }\n        else {\n            this.colWeekNumbersVisible = false;\n            this.cellWeekNumbersVisible = false;\n        }\n    };\n    AbstractDayGridView.prototype.render = function (props, context) {\n        _super.prototype.render.call(this, props, context);\n        this.processOptions(context.options);\n        this.renderSkeleton(context);\n    };\n    AbstractDayGridView.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderSkeleton.unrender();\n    };\n    AbstractDayGridView.prototype._renderSkeleton = function (context) {\n        this.el.classList.add('fc-dayGrid-view');\n        this.el.innerHTML = this.renderSkeletonHtml();\n        this.scroller = new ScrollComponent('hidden', // overflow x\n        'auto' // overflow y\n        );\n        var dayGridContainerEl = this.scroller.el;\n        this.el.querySelector('.fc-body > tr > td').appendChild(dayGridContainerEl);\n        dayGridContainerEl.classList.add('fc-day-grid-container');\n        var dayGridEl = createElement('div', { className: 'fc-day-grid' });\n        dayGridContainerEl.appendChild(dayGridEl);\n        this.dayGrid = new DayGrid(dayGridEl, {\n            renderNumberIntroHtml: this.renderDayGridNumberIntroHtml,\n            renderBgIntroHtml: this.renderDayGridBgIntroHtml,\n            renderIntroHtml: this.renderDayGridIntroHtml,\n            colWeekNumbersVisible: this.colWeekNumbersVisible,\n            cellWeekNumbersVisible: this.cellWeekNumbersVisible\n        });\n    };\n    AbstractDayGridView.prototype._unrenderSkeleton = function () {\n        this.el.classList.remove('fc-dayGrid-view');\n        this.dayGrid.destroy();\n        this.scroller.destroy();\n    };\n    // Builds the HTML skeleton for the view.\n    // The day-grid component will render inside of a container defined by this HTML.\n    AbstractDayGridView.prototype.renderSkeletonHtml = function () {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        return '' +\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n            (options.columnHeader ?\n                '<thead class=\"fc-head\">' +\n                    '<tr>' +\n                    '<td class=\"fc-head-container ' + theme.getClass('widgetHeader') + '\">&nbsp;</td>' +\n                    '</tr>' +\n                    '</thead>' :\n                '') +\n            '<tbody class=\"fc-body\">' +\n            '<tr>' +\n            '<td class=\"' + theme.getClass('widgetContent') + '\"></td>' +\n            '</tr>' +\n            '</tbody>' +\n            '</table>';\n    };\n    // Generates an HTML attribute string for setting the width of the week number column, if it is known\n    AbstractDayGridView.prototype.weekNumberStyleAttr = function () {\n        if (this.weekNumberWidth != null) {\n            return 'style=\"width:' + this.weekNumberWidth + 'px\"';\n        }\n        return '';\n    };\n    // Determines whether each row should have a constant height\n    AbstractDayGridView.prototype.hasRigidRows = function () {\n        var eventLimit = this.context.options.eventLimit;\n        return eventLimit && typeof eventLimit !== 'number';\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    AbstractDayGridView.prototype.updateSize = function (isResize, viewHeight, isAuto) {\n        _super.prototype.updateSize.call(this, isResize, viewHeight, isAuto); // will call updateBaseSize. important that executes first\n        this.dayGrid.updateSize(isResize);\n    };\n    // Refreshes the horizontal dimensions of the view\n    AbstractDayGridView.prototype.updateBaseSize = function (isResize, viewHeight, isAuto) {\n        var dayGrid = this.dayGrid;\n        var eventLimit = this.context.options.eventLimit;\n        var headRowEl = this.header ? this.header.el : null; // HACK\n        var scrollerHeight;\n        var scrollbarWidths;\n        // hack to give the view some height prior to dayGrid's columns being rendered\n        // TODO: separate setting height from scroller VS dayGrid.\n        if (!dayGrid.rowEls) {\n            if (!isAuto) {\n                scrollerHeight = this.computeScrollerHeight(viewHeight);\n                this.scroller.setHeight(scrollerHeight);\n            }\n            return;\n        }\n        if (this.colWeekNumbersVisible) {\n            // Make sure all week number cells running down the side have the same width.\n            this.weekNumberWidth = matchCellWidths(findElements(this.el, '.fc-week-number'));\n        }\n        // reset all heights to be natural\n        this.scroller.clear();\n        if (headRowEl) {\n            uncompensateScroll(headRowEl);\n        }\n        dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\n        // is the event limit a constant level number?\n        if (eventLimit && typeof eventLimit === 'number') {\n            dayGrid.limitRows(eventLimit); // limit the levels first so the height can redistribute after\n        }\n        // distribute the height to the rows\n        // (viewHeight is a \"recommended\" value if isAuto)\n        scrollerHeight = this.computeScrollerHeight(viewHeight);\n        this.setGridHeight(scrollerHeight, isAuto);\n        // is the event limit dynamically calculated?\n        if (eventLimit && typeof eventLimit !== 'number') {\n            dayGrid.limitRows(eventLimit); // limit the levels after the grid's row heights have been set\n        }\n        if (!isAuto) { // should we force dimensions of the scroll container?\n            this.scroller.setHeight(scrollerHeight);\n            scrollbarWidths = this.scroller.getScrollbarWidths();\n            if (scrollbarWidths.left || scrollbarWidths.right) { // using scrollbars?\n                if (headRowEl) {\n                    compensateScroll(headRowEl, scrollbarWidths);\n                }\n                // doing the scrollbar compensation might have created text overflow which created more height. redo\n                scrollerHeight = this.computeScrollerHeight(viewHeight);\n                this.scroller.setHeight(scrollerHeight);\n            }\n            // guarantees the same scrollbar widths\n            this.scroller.lockOverflow(scrollbarWidths);\n        }\n    };\n    // given a desired total height of the view, returns what the height of the scroller should be\n    AbstractDayGridView.prototype.computeScrollerHeight = function (viewHeight) {\n        return viewHeight -\n            subtractInnerElHeight(this.el, this.scroller.el); // everything that's NOT the scroller\n    };\n    // Sets the height of just the DayGrid component in this view\n    AbstractDayGridView.prototype.setGridHeight = function (height, isAuto) {\n        if (this.context.options.monthMode) {\n            // if auto, make the height of each row the height that it would be if there were 6 weeks\n            if (isAuto) {\n                height *= this.dayGrid.rowCnt / 6;\n            }\n            distributeHeight(this.dayGrid.rowEls, height, !isAuto); // if auto, don't compensate for height-hogging rows\n        }\n        else {\n            if (isAuto) {\n                undistributeHeight(this.dayGrid.rowEls); // let the rows be their natural height with no expanding\n            }\n            else {\n                distributeHeight(this.dayGrid.rowEls, height, true); // true = compensate for height-hogging rows\n            }\n        }\n    };\n    /* Scroll\n    ------------------------------------------------------------------------------------------------------------------*/\n    AbstractDayGridView.prototype.computeDateScroll = function (duration) {\n        return { top: 0 };\n    };\n    AbstractDayGridView.prototype.queryDateScroll = function () {\n        return { top: this.scroller.getScrollTop() };\n    };\n    AbstractDayGridView.prototype.applyDateScroll = function (scroll) {\n        if (scroll.top !== undefined) {\n            this.scroller.setScrollTop(scroll.top);\n        }\n    };\n    return AbstractDayGridView;\n}(View));\nAbstractDayGridView.prototype.dateProfileGeneratorClass = DayGridDateProfileGenerator;\n\nvar SimpleDayGrid = /** @class */ (function (_super) {\n    __extends(SimpleDayGrid, _super);\n    function SimpleDayGrid(dayGrid) {\n        var _this = _super.call(this, dayGrid.el) || this;\n        _this.slicer = new DayGridSlicer();\n        _this.dayGrid = dayGrid;\n        return _this;\n    }\n    SimpleDayGrid.prototype.firstContext = function (context) {\n        context.calendar.registerInteractiveComponent(this, { el: this.dayGrid.el });\n    };\n    SimpleDayGrid.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.context.calendar.unregisterInteractiveComponent(this);\n    };\n    SimpleDayGrid.prototype.render = function (props, context) {\n        var dayGrid = this.dayGrid;\n        var dateProfile = props.dateProfile, dayTable = props.dayTable;\n        dayGrid.receiveProps(__assign({}, this.slicer.sliceProps(props, dateProfile, props.nextDayThreshold, context.calendar, dayGrid, dayTable), { dateProfile: dateProfile, cells: dayTable.cells, isRigid: props.isRigid }), context);\n    };\n    SimpleDayGrid.prototype.buildPositionCaches = function () {\n        this.dayGrid.buildPositionCaches();\n    };\n    SimpleDayGrid.prototype.queryHit = function (positionLeft, positionTop) {\n        var rawHit = this.dayGrid.positionToHit(positionLeft, positionTop);\n        if (rawHit) {\n            return {\n                component: this.dayGrid,\n                dateSpan: rawHit.dateSpan,\n                dayEl: rawHit.dayEl,\n                rect: {\n                    left: rawHit.relativeRect.left,\n                    right: rawHit.relativeRect.right,\n                    top: rawHit.relativeRect.top,\n                    bottom: rawHit.relativeRect.bottom\n                },\n                layer: 0\n            };\n        }\n    };\n    return SimpleDayGrid;\n}(DateComponent));\nvar DayGridSlicer = /** @class */ (function (_super) {\n    __extends(DayGridSlicer, _super);\n    function DayGridSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayGridSlicer.prototype.sliceRange = function (dateRange, dayTable) {\n        return dayTable.sliceRange(dateRange);\n    };\n    return DayGridSlicer;\n}(Slicer));\n\nvar DayGridView = /** @class */ (function (_super) {\n    __extends(DayGridView, _super);\n    function DayGridView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTable = memoize(buildDayTable);\n        return _this;\n    }\n    DayGridView.prototype.render = function (props, context) {\n        _super.prototype.render.call(this, props, context); // will call _renderSkeleton/_unrenderSkeleton\n        var dateProfile = this.props.dateProfile;\n        var dayTable = this.dayTable =\n            this.buildDayTable(dateProfile, props.dateProfileGenerator);\n        if (this.header) {\n            this.header.receiveProps({\n                dateProfile: dateProfile,\n                dates: dayTable.headerDates,\n                datesRepDistinctDays: dayTable.rowCnt === 1,\n                renderIntroHtml: this.renderHeadIntroHtml\n            }, context);\n        }\n        this.simpleDayGrid.receiveProps({\n            dateProfile: dateProfile,\n            dayTable: dayTable,\n            businessHours: props.businessHours,\n            dateSelection: props.dateSelection,\n            eventStore: props.eventStore,\n            eventUiBases: props.eventUiBases,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isRigid: this.hasRigidRows(),\n            nextDayThreshold: this.context.nextDayThreshold\n        }, context);\n    };\n    DayGridView.prototype._renderSkeleton = function (context) {\n        _super.prototype._renderSkeleton.call(this, context);\n        if (context.options.columnHeader) {\n            this.header = new DayHeader(this.el.querySelector('.fc-head-container'));\n        }\n        this.simpleDayGrid = new SimpleDayGrid(this.dayGrid);\n    };\n    DayGridView.prototype._unrenderSkeleton = function () {\n        _super.prototype._unrenderSkeleton.call(this);\n        if (this.header) {\n            this.header.destroy();\n        }\n        this.simpleDayGrid.destroy();\n    };\n    return DayGridView;\n}(AbstractDayGridView));\nfunction buildDayTable(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeries(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTable(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar main = createPlugin({\n    defaultView: 'dayGridMonth',\n    views: {\n        dayGrid: DayGridView,\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 }\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 }\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true\n        }\n    }\n});\n\nexport default main;\nexport { AbstractDayGridView, DayBgRow, DayGrid, DayGridSlicer, DayGridView, SimpleDayGrid, buildDayTable as buildBasicDayTable };\n","module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n","'use strict';\n\nvar ticky = require('ticky');\n\nmodule.exports = function debounce (fn, args, ctx) {\n  if (!fn) { return; }\n  ticky(function run () {\n    fn.apply(ctx || null, args || []);\n  });\n};\n","'use strict';\n\nvar atoa = require('atoa');\nvar debounce = require('./debounce');\n\nmodule.exports = function emitter (thing, options) {\n  var opts = options || {};\n  var evt = {};\n  if (thing === undefined) { thing = {}; }\n  thing.on = function (type, fn) {\n    if (!evt[type]) {\n      evt[type] = [fn];\n    } else {\n      evt[type].push(fn);\n    }\n    return thing;\n  };\n  thing.once = function (type, fn) {\n    fn._once = true; // thing.off(fn) still works!\n    thing.on(type, fn);\n    return thing;\n  };\n  thing.off = function (type, fn) {\n    var c = arguments.length;\n    if (c === 1) {\n      delete evt[type];\n    } else if (c === 0) {\n      evt = {};\n    } else {\n      var et = evt[type];\n      if (!et) { return thing; }\n      et.splice(et.indexOf(fn), 1);\n    }\n    return thing;\n  };\n  thing.emit = function () {\n    var args = atoa(arguments);\n    return thing.emitterSnapshot(args.shift()).apply(this, args);\n  };\n  thing.emitterSnapshot = function (type) {\n    var et = (evt[type] || []).slice(0);\n    return function () {\n      var args = atoa(arguments);\n      var ctx = this || thing;\n      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n      et.forEach(function emitter (listen) {\n        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n        if (listen._once) { thing.off(type, listen); }\n      });\n      return thing;\n    };\n  };\n  return thing;\n};\n","'use strict';\n\nvar customEvent = require('custom-event');\nvar eventmap = require('./eventmap');\nvar doc = global.document;\nvar addEvent = addEventEasy;\nvar removeEvent = removeEventEasy;\nvar hardCache = [];\n\nif (!global.addEventListener) {\n  addEvent = addEventHard;\n  removeEvent = removeEventHard;\n}\n\nmodule.exports = {\n  add: addEvent,\n  remove: removeEvent,\n  fabricate: fabricateEvent\n};\n\nfunction addEventEasy (el, type, fn, capturing) {\n  return el.addEventListener(type, fn, capturing);\n}\n\nfunction addEventHard (el, type, fn) {\n  return el.attachEvent('on' + type, wrap(el, type, fn));\n}\n\nfunction removeEventEasy (el, type, fn, capturing) {\n  return el.removeEventListener(type, fn, capturing);\n}\n\nfunction removeEventHard (el, type, fn) {\n  var listener = unwrap(el, type, fn);\n  if (listener) {\n    return el.detachEvent('on' + type, listener);\n  }\n}\n\nfunction fabricateEvent (el, type, model) {\n  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n  if (el.dispatchEvent) {\n    el.dispatchEvent(e);\n  } else {\n    el.fireEvent('on' + type, e);\n  }\n  function makeClassicEvent () {\n    var e;\n    if (doc.createEvent) {\n      e = doc.createEvent('Event');\n      e.initEvent(type, true, true);\n    } else if (doc.createEventObject) {\n      e = doc.createEventObject();\n    }\n    return e;\n  }\n  function makeCustomEvent () {\n    return new customEvent(type, { detail: model });\n  }\n}\n\nfunction wrapperFactory (el, type, fn) {\n  return function wrapper (originalEvent) {\n    var e = originalEvent || global.event;\n    e.target = e.target || e.srcElement;\n    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };\n    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };\n    e.which = e.which || e.keyCode;\n    fn.call(el, e);\n  };\n}\n\nfunction wrap (el, type, fn) {\n  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n  hardCache.push({\n    wrapper: wrapper,\n    element: el,\n    type: type,\n    fn: fn\n  });\n  return wrapper;\n}\n\nfunction unwrap (el, type, fn) {\n  var i = find(el, type, fn);\n  if (i) {\n    var wrapper = hardCache[i].wrapper;\n    hardCache.splice(i, 1); // free up a tad of memory\n    return wrapper;\n  }\n}\n\nfunction find (el, type, fn) {\n  var i, item;\n  for (i = 0; i < hardCache.length; i++) {\n    item = hardCache[i];\n    if (item.element === el && item.type === type && item.fn === fn) {\n      return i;\n    }\n  }\n}\n","'use strict';\n\nvar eventmap = [];\nvar eventname = '';\nvar ron = /^on/;\n\nfor (eventname in global) {\n  if (ron.test(eventname)) {\n    eventmap.push(eventname.slice(2));\n  }\n}\n\nmodule.exports = eventmap;\n","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","'use strict';\n\nvar cache = {};\nvar start = '(?:^|\\\\s)';\nvar end = '(?:\\\\s|$)';\n\nfunction lookupClass (className) {\n  var cached = cache[className];\n  if (cached) {\n    cached.lastIndex = 0;\n  } else {\n    cache[className] = cached = new RegExp(start + className + end, 'g');\n  }\n  return cached;\n}\n\nfunction addClass (el, className) {\n  var current = el.className;\n  if (!current.length) {\n    el.className = className;\n  } else if (!lookupClass(className).test(current)) {\n    el.className += ' ' + className;\n  }\n}\n\nfunction rmClass (el, className) {\n  el.className = el.className.replace(lookupClass(className), ' ').trim();\n}\n\nmodule.exports = {\n  add: addClass,\n  rm: rmClass\n};\n","'use strict';\n\nvar emitter = require('contra/emitter');\nvar crossvent = require('crossvent');\nvar classes = require('./classes');\nvar doc = document;\nvar documentElement = doc.documentElement;\n\nfunction dragula (initialContainers, options) {\n  var len = arguments.length;\n  if (len === 1 && Array.isArray(initialContainers) === false) {\n    options = initialContainers;\n    initialContainers = [];\n  }\n  var _mirror; // mirror image\n  var _source; // source container\n  var _item; // item being dragged\n  var _offsetX; // reference x\n  var _offsetY; // reference y\n  var _moveX; // reference move x\n  var _moveY; // reference move y\n  var _initialSibling; // reference sibling when grabbed\n  var _currentSibling; // reference sibling now\n  var _copy; // item used for copying\n  var _renderTimer; // timer for setTimeout renderMirrorImage\n  var _lastDropTarget = null; // last container item was over\n  var _grabbed; // holds mousedown context until first mousemove\n\n  var o = options || {};\n  if (o.moves === void 0) { o.moves = always; }\n  if (o.accepts === void 0) { o.accepts = always; }\n  if (o.invalid === void 0) { o.invalid = invalidTarget; }\n  if (o.containers === void 0) { o.containers = initialContainers || []; }\n  if (o.isContainer === void 0) { o.isContainer = never; }\n  if (o.copy === void 0) { o.copy = false; }\n  if (o.copySortSource === void 0) { o.copySortSource = false; }\n  if (o.revertOnSpill === void 0) { o.revertOnSpill = false; }\n  if (o.removeOnSpill === void 0) { o.removeOnSpill = false; }\n  if (o.direction === void 0) { o.direction = 'vertical'; }\n  if (o.ignoreInputTextSelection === void 0) { o.ignoreInputTextSelection = true; }\n  if (o.mirrorContainer === void 0) { o.mirrorContainer = doc.body; }\n\n  var drake = emitter({\n    containers: o.containers,\n    start: manualStart,\n    end: end,\n    cancel: cancel,\n    remove: remove,\n    destroy: destroy,\n    canMove: canMove,\n    dragging: false\n  });\n\n  if (o.removeOnSpill === true) {\n    drake.on('over', spillOver).on('out', spillOut);\n  }\n\n  events();\n\n  return drake;\n\n  function isContainer (el) {\n    return drake.containers.indexOf(el) !== -1 || o.isContainer(el);\n  }\n\n  function events (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousedown', grab);\n    touchy(documentElement, op, 'mouseup', release);\n  }\n\n  function eventualMovements (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);\n  }\n\n  function movements (remove) {\n    var op = remove ? 'remove' : 'add';\n    crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8\n    crossvent[op](documentElement, 'click', preventGrabbed);\n  }\n\n  function destroy () {\n    events(true);\n    release({});\n  }\n\n  function preventGrabbed (e) {\n    if (_grabbed) {\n      e.preventDefault();\n    }\n  }\n\n  function grab (e) {\n    _moveX = e.clientX;\n    _moveY = e.clientY;\n\n    var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;\n    if (ignore) {\n      return; // we only care about honest-to-god left clicks and touch events\n    }\n    var item = e.target;\n    var context = canStart(item);\n    if (!context) {\n      return;\n    }\n    _grabbed = context;\n    eventualMovements();\n    if (e.type === 'mousedown') {\n      if (isInput(item)) { // see also: https://github.com/bevacqua/dragula/issues/208\n        item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176\n      } else {\n        e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155\n      }\n    }\n  }\n\n  function startBecauseMouseMoved (e) {\n    if (!_grabbed) {\n      return;\n    }\n    if (whichMouseButton(e) === 0) {\n      release({});\n      return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n    }\n    // truthy check fixes #239, equality fixes #207\n    if (e.clientX !== void 0 && e.clientX === _moveX && e.clientY !== void 0 && e.clientY === _moveY) {\n      return;\n    }\n    if (o.ignoreInputTextSelection) {\n      var clientX = getCoord('clientX', e);\n      var clientY = getCoord('clientY', e);\n      var elementBehindCursor = doc.elementFromPoint(clientX, clientY);\n      if (isInput(elementBehindCursor)) {\n        return;\n      }\n    }\n\n    var grabbed = _grabbed; // call to end() unsets _grabbed\n    eventualMovements(true);\n    movements();\n    end();\n    start(grabbed);\n\n    var offset = getOffset(_item);\n    _offsetX = getCoord('pageX', e) - offset.left;\n    _offsetY = getCoord('pageY', e) - offset.top;\n\n    classes.add(_copy || _item, 'gu-transit');\n    renderMirrorImage();\n    drag(e);\n  }\n\n  function canStart (item) {\n    if (drake.dragging && _mirror) {\n      return;\n    }\n    if (isContainer(item)) {\n      return; // don't drag container itself\n    }\n    var handle = item;\n    while (getParent(item) && isContainer(getParent(item)) === false) {\n      if (o.invalid(item, handle)) {\n        return;\n      }\n      item = getParent(item); // drag target should be a top element\n      if (!item) {\n        return;\n      }\n    }\n    var source = getParent(item);\n    if (!source) {\n      return;\n    }\n    if (o.invalid(item, handle)) {\n      return;\n    }\n\n    var movable = o.moves(item, source, handle, nextEl(item));\n    if (!movable) {\n      return;\n    }\n\n    return {\n      item: item,\n      source: source\n    };\n  }\n\n  function canMove (item) {\n    return !!canStart(item);\n  }\n\n  function manualStart (item) {\n    var context = canStart(item);\n    if (context) {\n      start(context);\n    }\n  }\n\n  function start (context) {\n    if (isCopy(context.item, context.source)) {\n      _copy = context.item.cloneNode(true);\n      drake.emit('cloned', _copy, context.item, 'copy');\n    }\n\n    _source = context.source;\n    _item = context.item;\n    _initialSibling = _currentSibling = nextEl(context.item);\n\n    drake.dragging = true;\n    drake.emit('drag', _item, _source);\n  }\n\n  function invalidTarget () {\n    return false;\n  }\n\n  function end () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    drop(item, getParent(item));\n  }\n\n  function ungrab () {\n    _grabbed = false;\n    eventualMovements(true);\n    movements(true);\n  }\n\n  function release (e) {\n    ungrab();\n\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    if (dropTarget && ((_copy && o.copySortSource) || (!_copy || dropTarget !== _source))) {\n      drop(item, dropTarget);\n    } else if (o.removeOnSpill) {\n      remove();\n    } else {\n      cancel();\n    }\n  }\n\n  function drop (item, target) {\n    var parent = getParent(item);\n    if (_copy && o.copySortSource && target === _source) {\n      parent.removeChild(_item);\n    }\n    if (isInitialPlacement(target)) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, target, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function remove () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var parent = getParent(item);\n    if (parent) {\n      parent.removeChild(item);\n    }\n    drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);\n    cleanup();\n  }\n\n  function cancel (revert) {\n    if (!drake.dragging) {\n      return;\n    }\n    var reverts = arguments.length > 0 ? revert : o.revertOnSpill;\n    var item = _copy || _item;\n    var parent = getParent(item);\n    var initial = isInitialPlacement(parent);\n    if (initial === false && reverts) {\n      if (_copy) {\n        if (parent) {\n          parent.removeChild(_copy);\n        }\n      } else {\n        _source.insertBefore(item, _initialSibling);\n      }\n    }\n    if (initial || reverts) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, parent, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function cleanup () {\n    var item = _copy || _item;\n    ungrab();\n    removeMirrorImage();\n    if (item) {\n      classes.rm(item, 'gu-transit');\n    }\n    if (_renderTimer) {\n      clearTimeout(_renderTimer);\n    }\n    drake.dragging = false;\n    if (_lastDropTarget) {\n      drake.emit('out', item, _lastDropTarget, _source);\n    }\n    drake.emit('dragend', item);\n    _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;\n  }\n\n  function isInitialPlacement (target, s) {\n    var sibling;\n    if (s !== void 0) {\n      sibling = s;\n    } else if (_mirror) {\n      sibling = _currentSibling;\n    } else {\n      sibling = nextEl(_copy || _item);\n    }\n    return target === _source && sibling === _initialSibling;\n  }\n\n  function findDropTarget (elementBehindCursor, clientX, clientY) {\n    var target = elementBehindCursor;\n    while (target && !accepted()) {\n      target = getParent(target);\n    }\n    return target;\n\n    function accepted () {\n      var droppable = isContainer(target);\n      if (droppable === false) {\n        return false;\n      }\n\n      var immediate = getImmediateChild(target, elementBehindCursor);\n      var reference = getReference(target, immediate, clientX, clientY);\n      var initial = isInitialPlacement(target, reference);\n      if (initial) {\n        return true; // should always be able to drop it right back where it was\n      }\n      return o.accepts(_item, target, _source, reference);\n    }\n  }\n\n  function drag (e) {\n    if (!_mirror) {\n      return;\n    }\n    e.preventDefault();\n\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var x = clientX - _offsetX;\n    var y = clientY - _offsetY;\n\n    _mirror.style.left = x + 'px';\n    _mirror.style.top = y + 'px';\n\n    var item = _copy || _item;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    var changed = dropTarget !== null && dropTarget !== _lastDropTarget;\n    if (changed || dropTarget === null) {\n      out();\n      _lastDropTarget = dropTarget;\n      over();\n    }\n    var parent = getParent(item);\n    if (dropTarget === _source && _copy && !o.copySortSource) {\n      if (parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    var reference;\n    var immediate = getImmediateChild(dropTarget, elementBehindCursor);\n    if (immediate !== null) {\n      reference = getReference(dropTarget, immediate, clientX, clientY);\n    } else if (o.revertOnSpill === true && !_copy) {\n      reference = _initialSibling;\n      dropTarget = _source;\n    } else {\n      if (_copy && parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    if (\n      (reference === null && changed) ||\n      reference !== item &&\n      reference !== nextEl(item)\n    ) {\n      _currentSibling = reference;\n      dropTarget.insertBefore(item, reference);\n      drake.emit('shadow', item, dropTarget, _source);\n    }\n    function moved (type) { drake.emit(type, item, _lastDropTarget, _source); }\n    function over () { if (changed) { moved('over'); } }\n    function out () { if (_lastDropTarget) { moved('out'); } }\n  }\n\n  function spillOver (el) {\n    classes.rm(el, 'gu-hide');\n  }\n\n  function spillOut (el) {\n    if (drake.dragging) { classes.add(el, 'gu-hide'); }\n  }\n\n  function renderMirrorImage () {\n    if (_mirror) {\n      return;\n    }\n    var rect = _item.getBoundingClientRect();\n    _mirror = _item.cloneNode(true);\n    _mirror.style.width = getRectWidth(rect) + 'px';\n    _mirror.style.height = getRectHeight(rect) + 'px';\n    classes.rm(_mirror, 'gu-transit');\n    classes.add(_mirror, 'gu-mirror');\n    o.mirrorContainer.appendChild(_mirror);\n    touchy(documentElement, 'add', 'mousemove', drag);\n    classes.add(o.mirrorContainer, 'gu-unselectable');\n    drake.emit('cloned', _mirror, _item, 'mirror');\n  }\n\n  function removeMirrorImage () {\n    if (_mirror) {\n      classes.rm(o.mirrorContainer, 'gu-unselectable');\n      touchy(documentElement, 'remove', 'mousemove', drag);\n      getParent(_mirror).removeChild(_mirror);\n      _mirror = null;\n    }\n  }\n\n  function getImmediateChild (dropTarget, target) {\n    var immediate = target;\n    while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {\n      immediate = getParent(immediate);\n    }\n    if (immediate === documentElement) {\n      return null;\n    }\n    return immediate;\n  }\n\n  function getReference (dropTarget, target, x, y) {\n    var horizontal = o.direction === 'horizontal';\n    var reference = target !== dropTarget ? inside() : outside();\n    return reference;\n\n    function outside () { // slower, but able to figure out any position\n      var len = dropTarget.children.length;\n      var i;\n      var el;\n      var rect;\n      for (i = 0; i < len; i++) {\n        el = dropTarget.children[i];\n        rect = el.getBoundingClientRect();\n        if (horizontal && (rect.left + rect.width / 2) > x) { return el; }\n        if (!horizontal && (rect.top + rect.height / 2) > y) { return el; }\n      }\n      return null;\n    }\n\n    function inside () { // faster, but only available if dropped inside a child element\n      var rect = target.getBoundingClientRect();\n      if (horizontal) {\n        return resolve(x > rect.left + getRectWidth(rect) / 2);\n      }\n      return resolve(y > rect.top + getRectHeight(rect) / 2);\n    }\n\n    function resolve (after) {\n      return after ? nextEl(target) : target;\n    }\n  }\n\n  function isCopy (item, container) {\n    return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);\n  }\n}\n\nfunction touchy (el, op, type, fn) {\n  var touch = {\n    mouseup: 'touchend',\n    mousedown: 'touchstart',\n    mousemove: 'touchmove'\n  };\n  var pointers = {\n    mouseup: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove'\n  };\n  var microsoft = {\n    mouseup: 'MSPointerUp',\n    mousedown: 'MSPointerDown',\n    mousemove: 'MSPointerMove'\n  };\n  if (global.navigator.pointerEnabled) {\n    crossvent[op](el, pointers[type], fn);\n  } else if (global.navigator.msPointerEnabled) {\n    crossvent[op](el, microsoft[type], fn);\n  } else {\n    crossvent[op](el, touch[type], fn);\n    crossvent[op](el, type, fn);\n  }\n}\n\nfunction whichMouseButton (e) {\n  if (e.touches !== void 0) { return e.touches.length; }\n  if (e.which !== void 0 && e.which !== 0) { return e.which; } // see https://github.com/bevacqua/dragula/issues/261\n  if (e.buttons !== void 0) { return e.buttons; }\n  var button = e.button;\n  if (button !== void 0) { // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0);\n  }\n}\n\nfunction getOffset (el) {\n  var rect = el.getBoundingClientRect();\n  return {\n    left: rect.left + getScroll('scrollLeft', 'pageXOffset'),\n    top: rect.top + getScroll('scrollTop', 'pageYOffset')\n  };\n}\n\nfunction getScroll (scrollProp, offsetProp) {\n  if (typeof global[offsetProp] !== 'undefined') {\n    return global[offsetProp];\n  }\n  if (documentElement.clientHeight) {\n    return documentElement[scrollProp];\n  }\n  return doc.body[scrollProp];\n}\n\nfunction getElementBehindPoint (point, x, y) {\n  var p = point || {};\n  var state = p.className;\n  var el;\n  p.className += ' gu-hide';\n  el = doc.elementFromPoint(x, y);\n  p.className = state;\n  return el;\n}\n\nfunction never () { return false; }\nfunction always () { return true; }\nfunction getRectWidth (rect) { return rect.width || (rect.right - rect.left); }\nfunction getRectHeight (rect) { return rect.height || (rect.bottom - rect.top); }\nfunction getParent (el) { return el.parentNode === doc ? null : el.parentNode; }\nfunction isInput (el) { return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el); }\nfunction isEditable (el) {\n  if (!el) { return false; } // no parents were editable\n  if (el.contentEditable === 'false') { return false; } // stop the lookup\n  if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain\n  return isEditable(getParent(el)); // contentEditable is set to 'inherit'\n}\n\nfunction nextEl (el) {\n  return el.nextElementSibling || manually();\n  function manually () {\n    var sibling = el;\n    do {\n      sibling = sibling.nextSibling;\n    } while (sibling && sibling.nodeType !== 1);\n    return sibling;\n  }\n}\n\nfunction getEventHost (e) {\n  // on touchend event, we have to use `e.changedTouches`\n  // see http://stackoverflow.com/questions/7192563/touchend-event-properties\n  // see https://github.com/bevacqua/dragula/issues/34\n  if (e.targetTouches && e.targetTouches.length) {\n    return e.targetTouches[0];\n  }\n  if (e.changedTouches && e.changedTouches.length) {\n    return e.changedTouches[0];\n  }\n  return e;\n}\n\nfunction getCoord (coord, e) {\n  var host = getEventHost(e);\n  var missMap = {\n    pageX: 'clientX', // IE8\n    pageY: 'clientY' // IE8\n  };\n  if (coord in missMap && !(coord in host) && missMap[coord] in host) {\n    coord = missMap[coord];\n  }\n  return host[coord];\n}\n\nmodule.exports = dragula;\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import * as dragulaExpt from 'dragula';\nimport dragulaExpt__default, {  } from 'dragula';\nimport { Injectable, Optional, Directive, Input, Output, ElementRef, EventEmitter, NgModule } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nclass Group {\n    /**\n     * @param {?} name\n     * @param {?} drake\n     * @param {?} options\n     */\n    constructor(name, drake, options) {\n        this.name = name;\n        this.drake = drake;\n        this.options = options;\n        this.initEvents = false;\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/** @enum {string} */\nconst EventTypes = {\n    Cancel: \"cancel\",\n    Cloned: \"cloned\",\n    Drag: \"drag\",\n    DragEnd: \"dragend\",\n    Drop: \"drop\",\n    Out: \"out\",\n    Over: \"over\",\n    Remove: \"remove\",\n    Shadow: \"shadow\",\n    DropModel: \"dropModel\",\n    RemoveModel: \"removeModel\",\n};\n/** @type {?} */\nconst AllEvents = Object.keys(EventTypes).map(k => /** @type {?} */ (EventTypes[/** @type {?} */ (k)]));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/** @type {?} */\nconst dragula = dragulaExpt__default || dragulaExpt;\nclass DrakeFactory {\n    /**\n     * @param {?=} build\n     */\n    constructor(build = dragula) {\n        this.build = build;\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/** @type {?} */\nconst filterEvent = (eventType, filterDragType, projector) => (input) => {\n    return input.pipe(filter(({ event, name }) => {\n        return event === eventType\n            && (filterDragType === undefined || name === filterDragType);\n    }), map(({ name, args }) => projector(name, args)));\n};\n/** @type {?} */\nconst elContainerSourceProjector = (name, [el, container, source]) => ({ name, el, container, source });\nclass DragulaService {\n    /**\n     * @param {?=} drakeFactory\n     */\n    constructor(drakeFactory = null) {\n        this.drakeFactory = drakeFactory;\n        this.dispatch$ = new Subject();\n        this.drag = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.Drag, groupName, (name, [el, source]) => ({ name, el, source })));\n        this.dragend = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.DragEnd, groupName, (name, [el]) => ({ name, el })));\n        this.drop = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.Drop, groupName, (name, [el, target, source, sibling]) => {\n            return { name, el, target, source, sibling };\n        }));\n        this.elContainerSource = (eventType) => (groupName) => this.dispatch$.pipe(filterEvent(eventType, groupName, elContainerSourceProjector));\n        this.cancel = this.elContainerSource(EventTypes.Cancel);\n        this.remove = this.elContainerSource(EventTypes.Remove);\n        this.shadow = this.elContainerSource(EventTypes.Shadow);\n        this.over = this.elContainerSource(EventTypes.Over);\n        this.out = this.elContainerSource(EventTypes.Out);\n        this.cloned = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.Cloned, groupName, (name, [clone, original, cloneType]) => {\n            return { name, clone, original, cloneType };\n        }));\n        this.dropModel = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.DropModel, groupName, (name, [el, target, source, sibling, item, sourceModel, targetModel, sourceIndex, targetIndex]) => {\n            return { name, el, target, source, sibling, item, sourceModel, targetModel, sourceIndex, targetIndex };\n        }));\n        this.removeModel = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.RemoveModel, groupName, (name, [el, container, source, item, sourceModel, sourceIndex]) => {\n            return { name, el, container, source, item, sourceModel, sourceIndex };\n        }));\n        this.groups = {};\n        if (this.drakeFactory === null) {\n            this.drakeFactory = new DrakeFactory();\n        }\n    }\n    /**\n     * Public mainly for testing purposes. Prefer `createGroup()`.\n     * @param {?} group\n     * @return {?}\n     */\n    add(group) {\n        /** @type {?} */\n        let existingGroup = this.find(group.name);\n        if (existingGroup) {\n            throw new Error('Group named: \"' + group.name + '\" already exists.');\n        }\n        this.groups[group.name] = group;\n        this.handleModels(group);\n        this.setupEvents(group);\n        return group;\n    }\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    find(name) {\n        return this.groups[name];\n    }\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    destroy(name) {\n        /** @type {?} */\n        let group = this.find(name);\n        if (!group) {\n            return;\n        }\n        group.drake && group.drake.destroy();\n        delete this.groups[name];\n    }\n    /**\n     * Creates a group with the specified name and options.\n     *\n     * Note: formerly known as `setOptions`\n     * @template T\n     * @param {?} name\n     * @param {?} options\n     * @return {?}\n     */\n    createGroup(name, options) {\n        return this.add(new Group(name, this.drakeFactory.build([], options), options));\n    }\n    /**\n     * @param {?} __0\n     * @return {?}\n     */\n    handleModels({ name, drake, options }) {\n        /** @type {?} */\n        let dragElm;\n        /** @type {?} */\n        let dragIndex;\n        /** @type {?} */\n        let dropIndex;\n        drake.on('remove', (el, container, source) => {\n            if (!drake.models) {\n                return;\n            }\n            /** @type {?} */\n            let sourceModel = drake.models[drake.containers.indexOf(source)];\n            sourceModel = sourceModel.slice(0);\n            /** @type {?} */\n            const item = sourceModel.splice(dragIndex, 1)[0];\n            // console.log('REMOVE');\n            // console.log(sourceModel);\n            this.dispatch$.next({\n                event: EventTypes.RemoveModel,\n                name,\n                args: [el, container, source, item, sourceModel, dragIndex]\n            });\n        });\n        drake.on('drag', (el, source) => {\n            if (!drake.models) {\n                return;\n            }\n            dragElm = el;\n            dragIndex = this.domIndexOf(el, source);\n        });\n        drake.on('drop', (dropElm, target, source, sibling) => {\n            if (!drake.models || !target) {\n                return;\n            }\n            dropIndex = this.domIndexOf(dropElm, target);\n            /** @type {?} */\n            let sourceModel = drake.models[drake.containers.indexOf(source)];\n            /** @type {?} */\n            let targetModel = drake.models[drake.containers.indexOf(target)];\n            /** @type {?} */\n            let item;\n            if (target === source) {\n                sourceModel = sourceModel.slice(0);\n                item = sourceModel.splice(dragIndex, 1)[0];\n                sourceModel.splice(dropIndex, 0, item);\n                // this was true before we cloned and updated sourceModel,\n                // but targetModel still has the old value\n                targetModel = sourceModel;\n            }\n            else {\n                /** @type {?} */\n                let isCopying = dragElm !== dropElm;\n                item = sourceModel[dragIndex];\n                if (isCopying) {\n                    if (!options.copyItem) {\n                        throw new Error(\"If you have enabled `copy` on a group, you must provide a `copyItem` function.\");\n                    }\n                    item = options.copyItem(item);\n                }\n                if (!isCopying) {\n                    sourceModel = sourceModel.slice(0);\n                    sourceModel.splice(dragIndex, 1);\n                }\n                targetModel = targetModel.slice(0);\n                targetModel.splice(dropIndex, 0, item);\n                if (isCopying) {\n                    try {\n                        target.removeChild(dropElm);\n                    }\n                    catch (e) { }\n                }\n            }\n            this.dispatch$.next({\n                event: EventTypes.DropModel,\n                name,\n                args: [dropElm, target, source, sibling, item, sourceModel, targetModel, dragIndex, dropIndex]\n            });\n        });\n    }\n    /**\n     * @param {?} group\n     * @return {?}\n     */\n    setupEvents(group) {\n        if (group.initEvents) {\n            return;\n        }\n        group.initEvents = true;\n        /** @type {?} */\n        const name = group.name;\n        /** @type {?} */\n        let emitter = (event) => {\n            group.drake.on(event, (...args) => {\n                this.dispatch$.next({ event, name, args });\n            });\n        };\n        AllEvents.forEach(emitter);\n    }\n    /**\n     * @param {?} child\n     * @param {?} parent\n     * @return {?}\n     */\n    domIndexOf(child, parent) {\n        return Array.prototype.indexOf.call(parent.children, child);\n    }\n}\nDragulaService.ɵfac = function DragulaService_Factory(t) { return new (t || DragulaService)(ɵngcc0.ɵɵinject(DrakeFactory, 8)); };\nDragulaService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: DragulaService, factory: DragulaService.ɵfac });\n/** @nocollapse */\nDragulaService.ctorParameters = () => [\n    { type: DrakeFactory, decorators: [{ type: Optional }] }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragulaService, [{\n        type: Injectable\n    }], function () { return [{ type: DrakeFactory, decorators: [{\n                type: Optional\n            }] }]; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nclass DragulaDirective {\n    /**\n     * @param {?} el\n     * @param {?} dragulaService\n     */\n    constructor(el, dragulaService) {\n        this.el = el;\n        this.dragulaService = dragulaService;\n        this.dragulaModelChange = new EventEmitter();\n    }\n    /**\n     * @return {?}\n     */\n    get container() {\n        return this.el && this.el.nativeElement;\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes && changes.dragula) {\n            const { previousValue: prev, currentValue: current, firstChange } = changes.dragula;\n            /** @type {?} */\n            let hadPreviousValue = !!prev;\n            /** @type {?} */\n            let hasNewValue = !!current;\n            // something -> null       =>  teardown only\n            // something -> something  =>  teardown, then setup\n            //      null -> something  =>  setup only\n            //\n            //      null -> null (precluded by fact of change being present)\n            if (hadPreviousValue) {\n                this.teardown(prev);\n            }\n            if (hasNewValue) {\n                this.setup();\n            }\n        }\n        else if (changes && changes.dragulaModel) {\n            const { previousValue: prev, currentValue: current, firstChange } = changes.dragulaModel;\n            const { drake } = this.group;\n            if (this.dragula && drake) {\n                drake.models = drake.models || [];\n                /** @type {?} */\n                let prevIndex = drake.models.indexOf(prev);\n                if (prevIndex !== -1) {\n                    // delete the previous\n                    drake.models.splice(prevIndex, 1);\n                    // maybe insert a new one at the same spot\n                    if (!!current) {\n                        drake.models.splice(prevIndex, 0, current);\n                    }\n                }\n                else if (!!current) {\n                    // no previous one to remove; just push this one.\n                    drake.models.push(current);\n                }\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    setup() {\n        /** @type {?} */\n        let checkModel = (group) => {\n            if (this.dragulaModel) {\n                if (group.drake.models) {\n                    group.drake.models.push(this.dragulaModel);\n                }\n                else {\n                    group.drake.models = [this.dragulaModel];\n                }\n            }\n        };\n        /** @type {?} */\n        let group = this.dragulaService.find(this.dragula);\n        if (!group) {\n            /** @type {?} */\n            let options = {};\n            group = this.dragulaService.createGroup(this.dragula, options);\n        }\n        // ensure model and container element are pushed\n        checkModel(group);\n        group.drake.containers.push(this.container);\n        this.subscribe(this.dragula);\n        this.group = group;\n    }\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    subscribe(name) {\n        this.subs = new Subscription();\n        this.subs.add(this.dragulaService\n            .dropModel(name)\n            .subscribe(({ source, target, sourceModel, targetModel }) => {\n            if (source === this.el.nativeElement) {\n                this.dragulaModelChange.emit(sourceModel);\n            }\n            else if (target === this.el.nativeElement) {\n                this.dragulaModelChange.emit(targetModel);\n            }\n        }));\n        this.subs.add(this.dragulaService\n            .removeModel(name)\n            .subscribe(({ source, sourceModel }) => {\n            if (source === this.el.nativeElement) {\n                this.dragulaModelChange.emit(sourceModel);\n            }\n        }));\n    }\n    /**\n     * @param {?} groupName\n     * @return {?}\n     */\n    teardown(groupName) {\n        if (this.subs) {\n            this.subs.unsubscribe();\n        }\n        /** @type {?} */\n        const group = this.dragulaService.find(groupName);\n        if (group) {\n            /** @type {?} */\n            const itemToRemove = group.drake.containers.indexOf(this.el.nativeElement);\n            if (itemToRemove !== -1) {\n                group.drake.containers.splice(itemToRemove, 1);\n            }\n            if (this.dragulaModel && group.drake && group.drake.models) {\n                /** @type {?} */\n                let modelIndex = group.drake.models.indexOf(this.dragulaModel);\n                if (modelIndex !== -1) {\n                    group.drake.models.splice(modelIndex, 1);\n                }\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.teardown(this.dragula);\n    }\n}\nDragulaDirective.ɵfac = function DragulaDirective_Factory(t) { return new (t || DragulaDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(DragulaService)); };\nDragulaDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DragulaDirective, selectors: [[\"\", \"dragula\", \"\"]], inputs: { dragula: \"dragula\", dragulaModel: \"dragulaModel\" }, outputs: { dragulaModelChange: \"dragulaModelChange\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n/** @nocollapse */\nDragulaDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: DragulaService }\n];\nDragulaDirective.propDecorators = {\n    dragula: [{ type: Input }],\n    dragulaModel: [{ type: Input }],\n    dragulaModelChange: [{ type: Output }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragulaDirective, [{\n        type: Directive,\n        args: [{ selector: '[dragula]' }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: DragulaService }]; }, { dragulaModelChange: [{\n            type: Output\n        }], dragula: [{\n            type: Input\n        }], dragulaModel: [{\n            type: Input\n        }] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nclass DragulaModule {\n    /**\n     * @return {?}\n     */\n    static forRoot() {\n        return {\n            ngModule: DragulaModule,\n            providers: [DragulaService]\n        };\n    }\n}\nDragulaModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: DragulaModule });\nDragulaModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function DragulaModule_Factory(t) { return new (t || DragulaModule)(); } });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(DragulaModule, { declarations: [DragulaDirective], exports: [DragulaDirective] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragulaModule, [{\n        type: NgModule,\n        args: [{\n                exports: [DragulaDirective],\n                declarations: [DragulaDirective]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/** @type {?} */\nconst MockDrakeFactory = new DrakeFactory((containers, options) => {\n    return new MockDrake(containers, options);\n});\n/**\n * You can use MockDrake to simulate Drake events.\n *\n * The three methods that actually do anything are `on(event, listener)`,\n * `destroy()`, and a new method, `emit()`. Use `emit()` to manually emit Drake\n * events, and if you injected MockDrake properly with MockDrakeFactory or\n * mocked the DragulaService.find() method, then you can make ng2-dragula think\n * drags and drops are happening.\n *\n * Caveats:\n *\n * 1. YOU MUST MAKE THE DOM CHANGES YOURSELF.\n * 2. REPEAT: YOU MUST MAKE THE DOM CHANGES YOURSELF.\n *    That means `source.removeChild(el)`, and `target.insertBefore(el)`.\n * 3. None of the other methods do anything.\n *    That's ok, because ng2-dragula doesn't use them.\n */\nclass MockDrake {\n    /**\n     * @param {?=} containers A list of container elements.\n     * @param {?=} options These will NOT be used. At all.\n     * @param {?=} models Nonstandard, but useful for testing using `new MockDrake()` directly.\n     *               Note, default value is undefined, like a real Drake. Don't change that.\n     */\n    constructor(containers = [], options = {}, models) {\n        this.containers = containers;\n        this.options = options;\n        this.models = models;\n        /* Doesn't represent anything meaningful. */\n        this.dragging = false;\n        this.emitter$ = new Subject();\n        this.subs = new Subscription();\n    }\n    /**\n     * @param {?} item\n     * @return {?}\n     */\n    start(item) {\n        this.dragging = true;\n    }\n    /**\n     * @return {?}\n     */\n    end() {\n        this.dragging = false;\n    }\n    /**\n     * @param {?=} revert\n     * @return {?}\n     */\n    cancel(revert) {\n        this.dragging = false;\n    }\n    /**\n     * @return {?}\n     */\n    remove() {\n        this.dragging = false;\n    }\n    /**\n     * @param {?} event\n     * @param {?} callback\n     * @return {?}\n     */\n    on(event, callback) {\n        this.subs.add(this.emitter$\n            .pipe(filter(({ eventType }) => eventType === event))\n            .subscribe(({ args }) => {\n            callback(...args);\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    destroy() {\n        this.subs.unsubscribe();\n    }\n    /**\n     * This is the most useful method. You can use it to manually fire events that would normally\n     * be fired by a real drake.\n     *\n     * You're likely most interested in firing `drag`, `remove` and `drop`, the three events\n     * DragulaService uses to implement [dragulaModel].\n     *\n     * See https://github.com/bevacqua/dragula#drakeon-events for what you should emit (and in what order).\n     *\n     * (Note also, firing dropModel and removeModel won't work. You would have to mock DragulaService for that.)\n     * @param {?} eventType\n     * @param {...?} args\n     * @return {?}\n     */\n    emit(eventType, ...args) {\n        this.emitter$.next({ eventType, args });\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\nexport { DragulaDirective, DragulaService, DragulaModule, dragula, DrakeFactory, Group, EventTypes, MockDrake, MockDrakeFactory };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLWRyYWd1bGEuanMiLCJzb3VyY2VzIjpbIm5nOi9uZzItZHJhZ3VsYS9Hcm91cC50cyIsIm5nOi9uZzItZHJhZ3VsYS9FdmVudFR5cGVzLnRzIiwibmc6L25nMi1kcmFndWxhL0RyYWtlRmFjdG9yeS50cyIsIm5nOi9uZzItZHJhZ3VsYS9jb21wb25lbnRzL2RyYWd1bGEuc2VydmljZS50cyIsIm5nOi9uZzItZHJhZ3VsYS9jb21wb25lbnRzL2RyYWd1bGEuZGlyZWN0aXZlLnRzIiwibmc6L25nMi1kcmFndWxhL2NvbXBvbmVudHMvZHJhZ3VsYS5tb2R1bGUudHMiLCJuZzovbmcyLWRyYWd1bGEvTW9ja0RyYWtlLnRzIl0sIm5hbWVzIjpbIigvKiogQHR5cGUgez99ICovIChkcmFndWxhRXhwdCkpLmRlZmF1bHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBR0E7Ozs7OztJQUVFLFlBQ1MsTUFDQSxPQUNBO1FBRkEsU0FBSSxHQUFKLElBQUk7UUFDSixVQUFLLEdBQUwsS0FBSztRQUNMLFlBQU8sR0FBUCxPQUFPOzBCQUphLEtBQUs7S0FLOUI7Q0FDTDs7Ozs7Ozs7SUNURyxRQUFTLFFBQVE7SUFDakIsUUFBUyxRQUFRO0lBQ2pCLE1BQU8sTUFBTTtJQUNiLFNBQVUsU0FBUztJQUNuQixNQUFPLE1BQU07SUFDYixLQUFNLEtBQUs7SUFDWCxNQUFPLE1BQU07SUFDYixRQUFTLFFBQVE7SUFDakIsUUFBUyxRQUFRO0lBQ2pCLFdBQVksV0FBVztJQUN2QixhQUFjLGFBQWE7OztBQUcvQixNQUFhLFNBQVMsR0FBaUIsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxzQkFBSSxVQUFVLG1CQUFDLENBQVEsRUFBZSxDQUFBLENBQUMsQ0FBQzs7Ozs7O0FDWjVHO0FBQ0EsTUFBYSxPQUFPLEdBQTZDQSxvQkFBNEIsSUFBSSxXQUFXLENBQUM7QUFJN0c7Ozs7SUFDRSxZQUFvQixRQUFzQixPQUFPO1FBQTdCLFVBQUssR0FB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LENBQUMsRUFBRSxJQUFJLEVBQUU7WUFDbEIsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7U0FDbkIsQ0FBQyxDQUFDLENBQUM7S0FDUDs7OztJQUVELE9BQU87UUFDTCxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0tBQ3pCOzs7Ozs7Ozs7Ozs7Ozs7SUFhRCxJQUFJLENBQUMsU0FBcUIsRUFBRSxHQUFHLElBQVc7UUFDeEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtLQUN4QztDQUVGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRHJha2VXaXRoTW9kZWxzIH0gZnJvbSBcIi4vRHJha2VXaXRoTW9kZWxzXCI7XG5pbXBvcnQgeyBEcmFndWxhT3B0aW9ucyB9IGZyb20gXCIuL0RyYWd1bGFPcHRpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBHcm91cCB7XG4gIHB1YmxpYyBpbml0RXZlbnRzOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIGRyYWtlOiBEcmFrZVdpdGhNb2RlbHMsXG4gICAgcHVibGljIG9wdGlvbnM6IERyYWd1bGFPcHRpb25zXG4gICkge31cbn1cbiIsImV4cG9ydCBlbnVtIEV2ZW50VHlwZXMge1xuICAgIENhbmNlbCA9IFwiY2FuY2VsXCIsXG4gICAgQ2xvbmVkID0gXCJjbG9uZWRcIixcbiAgICBEcmFnID0gXCJkcmFnXCIsXG4gICAgRHJhZ0VuZCA9IFwiZHJhZ2VuZFwiLFxuICAgIERyb3AgPSBcImRyb3BcIixcbiAgICBPdXQgPSBcIm91dFwiLFxuICAgIE92ZXIgPSBcIm92ZXJcIixcbiAgICBSZW1vdmUgPSBcInJlbW92ZVwiLFxuICAgIFNoYWRvdyA9IFwic2hhZG93XCIsXG4gICAgRHJvcE1vZGVsID0gXCJkcm9wTW9kZWxcIixcbiAgICBSZW1vdmVNb2RlbCA9IFwicmVtb3ZlTW9kZWxcIixcbn1cblxuZXhwb3J0IGNvbnN0IEFsbEV2ZW50czogRXZlbnRUeXBlc1tdID0gT2JqZWN0LmtleXMoRXZlbnRUeXBlcykubWFwKGsgPT4gRXZlbnRUeXBlc1trIGFzIGFueV0gYXMgRXZlbnRUeXBlcyk7XG5cbiIsImltcG9ydCB7IERyYWd1bGFPcHRpb25zIH0gZnJvbSAnLi9EcmFndWxhT3B0aW9ucyc7XG5pbXBvcnQgeyBEcmFrZVdpdGhNb2RlbHMgfSBmcm9tICcuL0RyYWtlV2l0aE1vZGVscyc7XG5pbXBvcnQgKiBhcyBkcmFndWxhRXhwdCBmcm9tICdkcmFndWxhJztcbmV4cG9ydCBjb25zdCBkcmFndWxhOiAoY29udGFpbmVycz86IGFueSwgb3B0aW9ucz86IGFueSkgPT4gYW55ID0gKGRyYWd1bGFFeHB0IGFzIGFueSkuZGVmYXVsdCB8fCBkcmFndWxhRXhwdDtcblxuZXhwb3J0IHR5cGUgRHJha2VCdWlsZGVyID0gKGNvbnRhaW5lcnM6IGFueVtdLCBvcHRpb25zOiBEcmFndWxhT3B0aW9ucykgPT4gRHJha2VXaXRoTW9kZWxzO1xuXG5leHBvcnQgY2xhc3MgRHJha2VGYWN0b3J5IHtcbiAgY29uc3RydWN0b3IgKHB1YmxpYyBidWlsZDogRHJha2VCdWlsZGVyID0gZHJhZ3VsYSkge31cbn1cbiIsImltcG9ydCB7IEluamVjdGFibGUsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBHcm91cCB9IGZyb20gJy4uL0dyb3VwJztcbmltcG9ydCB7IERyYWd1bGFPcHRpb25zIH0gZnJvbSAnLi4vRHJhZ3VsYU9wdGlvbnMnO1xuaW1wb3J0IHsgU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZmlsdGVyLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBFdmVudFR5cGVzLCBBbGxFdmVudHMgfSBmcm9tICcuLi9FdmVudFR5cGVzJztcbmltcG9ydCB7IERyYWtlRmFjdG9yeSB9IGZyb20gJy4uL0RyYWtlRmFjdG9yeSc7XG5cbnR5cGUgRmlsdGVyUHJvamVjdG9yPFQgZXh0ZW5kcyB7IG5hbWU6IHN0cmluZzsgfT4gPSAobmFtZTogc3RyaW5nLCBhcmdzOiBhbnlbXSkgPT4gVDtcbnR5cGUgRGlzcGF0Y2ggPSB7IGV2ZW50OiBFdmVudFR5cGVzOyBuYW1lOiBzdHJpbmc7IGFyZ3M6IGFueVtdOyB9O1xuXG5jb25zdCBmaWx0ZXJFdmVudCA9IDxUIGV4dGVuZHMgeyBuYW1lOiBzdHJpbmc7IH0+KFxuICBldmVudFR5cGU6IEV2ZW50VHlwZXMsXG4gIGZpbHRlckRyYWdUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIHByb2plY3RvcjogRmlsdGVyUHJvamVjdG9yPFQ+XG4pID0+IChpbnB1dDogT2JzZXJ2YWJsZTxEaXNwYXRjaD4pOiBPYnNlcnZhYmxlPFQ+ID0+IHtcbiAgcmV0dXJuIGlucHV0LnBpcGUoXG4gICAgZmlsdGVyKCh7IGV2ZW50LCBuYW1lIH0pID0+IHtcbiAgICAgIHJldHVybiBldmVudCA9PT0gZXZlbnRUeXBlXG4gICAgICAgICAgJiYgKGZpbHRlckRyYWdUeXBlID09PSB1bmRlZmluZWQgfHwgbmFtZSA9PT0gZmlsdGVyRHJhZ1R5cGUpO1xuICAgIH0pLFxuICAgIG1hcCgoeyBuYW1lLCBhcmdzIH0pID0+IHByb2plY3RvcihuYW1lLCBhcmdzKSlcbiAgKTtcbn1cblxuY29uc3QgZWxDb250YWluZXJTb3VyY2VQcm9qZWN0b3IgPVxuICAobmFtZTogc3RyaW5nLCBbZWwsIGNvbnRhaW5lciwgc291cmNlXTogW0VsZW1lbnQsIEVsZW1lbnQsIEVsZW1lbnRdKSA9PlxuICAgICh7IG5hbWUsIGVsLCBjb250YWluZXIsIHNvdXJjZSB9KTtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERyYWd1bGFTZXJ2aWNlIHtcblxuICAvKiBodHRwczovL2dpdGh1Yi5jb20vYmV2YWNxdWEvZHJhZ3VsYSNkcmFrZW9uLWV2ZW50cyAqL1xuXG4gIHByaXZhdGUgZGlzcGF0Y2gkID0gbmV3IFN1YmplY3Q8RGlzcGF0Y2g+KCk7XG5cbiAgcHVibGljIGRyYWcgPSAoZ3JvdXBOYW1lPzogc3RyaW5nKSA9PiB0aGlzLmRpc3BhdGNoJC5waXBlKFxuICAgIGZpbHRlckV2ZW50KFxuICAgICAgRXZlbnRUeXBlcy5EcmFnLFxuICAgICAgZ3JvdXBOYW1lLFxuICAgICAgKG5hbWUsIFtlbCwgc291cmNlXTogW0VsZW1lbnQsIEVsZW1lbnRdKSA9PiAoeyBuYW1lLCBlbCwgc291cmNlIH0pXG4gICAgKVxuICApO1xuXG4gIHB1YmxpYyBkcmFnZW5kID0gKGdyb3VwTmFtZT86IHN0cmluZykgPT4gdGhpcy5kaXNwYXRjaCQucGlwZShcbiAgICBmaWx0ZXJFdmVudChcbiAgICAgIEV2ZW50VHlwZXMuRHJhZ0VuZCxcbiAgICAgIGdyb3VwTmFtZSxcbiAgICAgIChuYW1lLCBbZWxdOiBbRWxlbWVudF0pID0+ICh7IG5hbWUsIGVsIH0pXG4gICAgKVxuICApO1xuXG4gIHB1YmxpYyBkcm9wID0gKGdyb3VwTmFtZT86IHN0cmluZykgPT4gdGhpcy5kaXNwYXRjaCQucGlwZShcbiAgICBmaWx0ZXJFdmVudChcbiAgICAgIEV2ZW50VHlwZXMuRHJvcCxcbiAgICAgIGdyb3VwTmFtZSxcbiAgICAgIChuYW1lLCBbXG4gICAgICAgIGVsLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZ1xuICAgICAgXTogW0VsZW1lbnQsIEVsZW1lbnQsIEVsZW1lbnQsIEVsZW1lbnRdKSA9PiB7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIGVsLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZyB9O1xuICAgICAgfSlcbiAgKTtcblxuICBwcml2YXRlIGVsQ29udGFpbmVyU291cmNlID1cbiAgICAoZXZlbnRUeXBlOiBFdmVudFR5cGVzKSA9PlxuICAgIChncm91cE5hbWU/OiBzdHJpbmcpID0+XG4gICAgdGhpcy5kaXNwYXRjaCQucGlwZShcbiAgICAgIGZpbHRlckV2ZW50KGV2ZW50VHlwZSwgZ3JvdXBOYW1lLCBlbENvbnRhaW5lclNvdXJjZVByb2plY3RvcilcbiAgICApO1xuXG4gIHB1YmxpYyBjYW5jZWwgPSB0aGlzLmVsQ29udGFpbmVyU291cmNlKEV2ZW50VHlwZXMuQ2FuY2VsKTtcbiAgcHVibGljIHJlbW92ZSA9IHRoaXMuZWxDb250YWluZXJTb3VyY2UoRXZlbnRUeXBlcy5SZW1vdmUpO1xuICBwdWJsaWMgc2hhZG93ID0gdGhpcy5lbENvbnRhaW5lclNvdXJjZShFdmVudFR5cGVzLlNoYWRvdyk7XG4gIHB1YmxpYyBvdmVyID0gdGhpcy5lbENvbnRhaW5lclNvdXJjZShFdmVudFR5cGVzLk92ZXIpO1xuICBwdWJsaWMgb3V0ID0gdGhpcy5lbENvbnRhaW5lclNvdXJjZShFdmVudFR5cGVzLk91dCk7XG5cbiAgcHVibGljIGNsb25lZCA9IChncm91cE5hbWU/OiBzdHJpbmcpID0+IHRoaXMuZGlzcGF0Y2gkLnBpcGUoXG4gICAgZmlsdGVyRXZlbnQoXG4gICAgICBFdmVudFR5cGVzLkNsb25lZCxcbiAgICAgIGdyb3VwTmFtZSxcbiAgICAgIChuYW1lLCBbXG4gICAgICAgIGNsb25lLCBvcmlnaW5hbCwgY2xvbmVUeXBlXG4gICAgICBdOiBbRWxlbWVudCwgRWxlbWVudCwgJ21pcnJvcicgfCAnY29weSddKSA9PiB7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIGNsb25lLCBvcmlnaW5hbCwgY2xvbmVUeXBlIH1cbiAgICAgIH0pXG4gICk7XG5cbiAgcHVibGljIGRyb3BNb2RlbCA9IDxUID0gYW55Pihncm91cE5hbWU/OiBzdHJpbmcpID0+IHRoaXMuZGlzcGF0Y2gkLnBpcGUoXG4gICAgZmlsdGVyRXZlbnQoXG4gICAgICBFdmVudFR5cGVzLkRyb3BNb2RlbCxcbiAgICAgIGdyb3VwTmFtZSxcbiAgICAgIChuYW1lLCBbXG4gICAgICAgIGVsLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZywgaXRlbSwgc291cmNlTW9kZWwsIHRhcmdldE1vZGVsLCBzb3VyY2VJbmRleCwgdGFyZ2V0SW5kZXhcbiAgICAgIF06IFtFbGVtZW50LCBFbGVtZW50LCBFbGVtZW50LCBFbGVtZW50LCBULCBUW10sIFRbXSwgbnVtYmVyLCBudW1iZXJdKSA9PiB7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIGVsLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZywgaXRlbSwgc291cmNlTW9kZWwsIHRhcmdldE1vZGVsLCBzb3VyY2VJbmRleCwgdGFyZ2V0SW5kZXggfVxuICAgICAgfSlcbiAgKTtcblxuICBwdWJsaWMgcmVtb3ZlTW9kZWwgPSA8VCA9IGFueT4oZ3JvdXBOYW1lPzogc3RyaW5nKSA9PiB0aGlzLmRpc3BhdGNoJC5waXBlKFxuICAgIGZpbHRlckV2ZW50KFxuICAgICAgRXZlbnRUeXBlcy5SZW1vdmVNb2RlbCxcbiAgICAgIGdyb3VwTmFtZSxcbiAgICAgIChuYW1lLCBbXG4gICAgICAgIGVsLCBjb250YWluZXIsIHNvdXJjZSwgaXRlbSwgc291cmNlTW9kZWwsIHNvdXJjZUluZGV4XG4gICAgICBdOiBbRWxlbWVudCwgRWxlbWVudCwgRWxlbWVudCwgVCwgVFtdLCBudW1iZXJdKSA9PiB7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIGVsLCBjb250YWluZXIsIHNvdXJjZSwgaXRlbSwgc291cmNlTW9kZWwsIHNvdXJjZUluZGV4IH1cbiAgICAgIH1cbiAgICApXG4gICk7XG5cbiAgcHJpdmF0ZSBncm91cHM6IHsgW2s6IHN0cmluZ106IEdyb3VwIH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvciAoQE9wdGlvbmFsKCkgcHJpdmF0ZSBkcmFrZUZhY3Rvcnk6IERyYWtlRmFjdG9yeSA9IG51bGwpIHtcbiAgICBpZiAodGhpcy5kcmFrZUZhY3RvcnkgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuZHJha2VGYWN0b3J5ID0gbmV3IERyYWtlRmFjdG9yeSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBQdWJsaWMgbWFpbmx5IGZvciB0ZXN0aW5nIHB1cnBvc2VzLiBQcmVmZXIgYGNyZWF0ZUdyb3VwKClgLiAqL1xuICBwdWJsaWMgYWRkKGdyb3VwOiBHcm91cCk6IEdyb3VwIHtcbiAgICBsZXQgZXhpc3RpbmdHcm91cCA9IHRoaXMuZmluZChncm91cC5uYW1lKTtcbiAgICBpZiAoZXhpc3RpbmdHcm91cCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdHcm91cCBuYW1lZDogXCInICsgZ3JvdXAubmFtZSArICdcIiBhbHJlYWR5IGV4aXN0cy4nKTtcbiAgICB9XG4gICAgdGhpcy5ncm91cHNbZ3JvdXAubmFtZV0gPSBncm91cDtcbiAgICB0aGlzLmhhbmRsZU1vZGVscyhncm91cCk7XG4gICAgdGhpcy5zZXR1cEV2ZW50cyhncm91cCk7XG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgcHVibGljIGZpbmQobmFtZTogc3RyaW5nKTogR3JvdXAge1xuICAgIHJldHVybiB0aGlzLmdyb3Vwc1tuYW1lXTtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBncm91cCA9IHRoaXMuZmluZChuYW1lKTtcbiAgICBpZiAoIWdyb3VwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGdyb3VwLmRyYWtlICYmIGdyb3VwLmRyYWtlLmRlc3Ryb3koKTtcbiAgICBkZWxldGUgdGhpcy5ncm91cHNbbmFtZV07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGdyb3VwIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIGFuZCBvcHRpb25zLlxuICAgKlxuICAgKiBOb3RlOiBmb3JtZXJseSBrbm93biBhcyBgc2V0T3B0aW9uc2BcbiAgICovXG4gIHB1YmxpYyBjcmVhdGVHcm91cDxUID0gYW55PihuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IERyYWd1bGFPcHRpb25zPFQ+KTogR3JvdXAge1xuICAgIHJldHVybiB0aGlzLmFkZChuZXcgR3JvdXAoXG4gICAgICBuYW1lLFxuICAgICAgdGhpcy5kcmFrZUZhY3RvcnkuYnVpbGQoW10sIG9wdGlvbnMpLFxuICAgICAgb3B0aW9uc1xuICAgICkpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb2RlbHMoeyBuYW1lLCBkcmFrZSwgb3B0aW9ucyB9OiBHcm91cCk6IHZvaWQge1xuICAgIGxldCBkcmFnRWxtOiBhbnk7XG4gICAgbGV0IGRyYWdJbmRleDogbnVtYmVyO1xuICAgIGxldCBkcm9wSW5kZXg6IG51bWJlcjtcbiAgICBkcmFrZS5vbigncmVtb3ZlJywgKGVsOiBhbnksIGNvbnRhaW5lcjogYW55LCBzb3VyY2U6IGFueSkgPT4ge1xuICAgICAgaWYgKCFkcmFrZS5tb2RlbHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHNvdXJjZU1vZGVsID0gZHJha2UubW9kZWxzW2RyYWtlLmNvbnRhaW5lcnMuaW5kZXhPZihzb3VyY2UpXTtcbiAgICAgIHNvdXJjZU1vZGVsID0gc291cmNlTW9kZWwuc2xpY2UoMCk7IC8vIGNsb25lIGl0XG4gICAgICBjb25zdCBpdGVtID0gc291cmNlTW9kZWwuc3BsaWNlKGRyYWdJbmRleCwgMSlbMF07XG4gICAgICAvLyBjb25zb2xlLmxvZygnUkVNT1ZFJyk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhzb3VyY2VNb2RlbCk7XG4gICAgICB0aGlzLmRpc3BhdGNoJC5uZXh0KHtcbiAgICAgICAgZXZlbnQ6IEV2ZW50VHlwZXMuUmVtb3ZlTW9kZWwsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFyZ3M6IFsgZWwsIGNvbnRhaW5lciwgc291cmNlLCBpdGVtLCBzb3VyY2VNb2RlbCwgZHJhZ0luZGV4IF1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRyYWtlLm9uKCdkcmFnJywgKGVsOiBhbnksIHNvdXJjZTogYW55KSA9PiB7XG4gICAgICBpZiAoIWRyYWtlLm1vZGVscykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmFnRWxtID0gZWw7XG4gICAgICBkcmFnSW5kZXggPSB0aGlzLmRvbUluZGV4T2YoZWwsIHNvdXJjZSk7XG4gICAgfSk7XG4gICAgZHJha2Uub24oJ2Ryb3AnLCAoZHJvcEVsbTogYW55LCB0YXJnZXQ6IEVsZW1lbnQsIHNvdXJjZTogRWxlbWVudCwgc2libGluZz86IEVsZW1lbnQpID0+IHtcbiAgICAgIGlmICghZHJha2UubW9kZWxzIHx8ICF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJvcEluZGV4ID0gdGhpcy5kb21JbmRleE9mKGRyb3BFbG0sIHRhcmdldCk7XG4gICAgICBsZXQgc291cmNlTW9kZWwgPSBkcmFrZS5tb2RlbHNbZHJha2UuY29udGFpbmVycy5pbmRleE9mKHNvdXJjZSldO1xuICAgICAgbGV0IHRhcmdldE1vZGVsID0gZHJha2UubW9kZWxzW2RyYWtlLmNvbnRhaW5lcnMuaW5kZXhPZih0YXJnZXQpXTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdEUk9QJyk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhzb3VyY2VNb2RlbCk7XG4gICAgICBsZXQgaXRlbTogYW55O1xuICAgICAgaWYgKHRhcmdldCA9PT0gc291cmNlKSB7XG4gICAgICAgIHNvdXJjZU1vZGVsID0gc291cmNlTW9kZWwuc2xpY2UoMClcbiAgICAgICAgaXRlbSA9IHNvdXJjZU1vZGVsLnNwbGljZShkcmFnSW5kZXgsIDEpWzBdO1xuICAgICAgICBzb3VyY2VNb2RlbC5zcGxpY2UoZHJvcEluZGV4LCAwLCBpdGVtKTtcbiAgICAgICAgLy8gdGhpcyB3YXMgdHJ1ZSBiZWZvcmUgd2UgY2xvbmVkIGFuZCB1cGRhdGVkIHNvdXJjZU1vZGVsLFxuICAgICAgICAvLyBidXQgdGFyZ2V0TW9kZWwgc3RpbGwgaGFzIHRoZSBvbGQgdmFsdWVcbiAgICAgICAgdGFyZ2V0TW9kZWwgPSBzb3VyY2VNb2RlbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBpc0NvcHlpbmcgPSBkcmFnRWxtICE9PSBkcm9wRWxtO1xuICAgICAgICBpdGVtID0gc291cmNlTW9kZWxbZHJhZ0luZGV4XTtcbiAgICAgICAgaWYgKGlzQ29weWluZykge1xuICAgICAgICAgIGlmICghb3B0aW9ucy5jb3B5SXRlbSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWYgeW91IGhhdmUgZW5hYmxlZCBgY29weWAgb24gYSBncm91cCwgeW91IG11c3QgcHJvdmlkZSBhIGBjb3B5SXRlbWAgZnVuY3Rpb24uXCIpXG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW0gPSBvcHRpb25zLmNvcHlJdGVtKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0NvcHlpbmcpIHtcbiAgICAgICAgICBzb3VyY2VNb2RlbCA9IHNvdXJjZU1vZGVsLnNsaWNlKDApXG4gICAgICAgICAgc291cmNlTW9kZWwuc3BsaWNlKGRyYWdJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0TW9kZWwgPSB0YXJnZXRNb2RlbC5zbGljZSgwKVxuICAgICAgICB0YXJnZXRNb2RlbC5zcGxpY2UoZHJvcEluZGV4LCAwLCBpdGVtKTtcbiAgICAgICAgaWYgKGlzQ29weWluZykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlQ2hpbGQoZHJvcEVsbSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5kaXNwYXRjaCQubmV4dCh7XG4gICAgICAgIGV2ZW50OiBFdmVudFR5cGVzLkRyb3BNb2RlbCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYXJnczogWyBkcm9wRWxtLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZywgaXRlbSwgc291cmNlTW9kZWwsIHRhcmdldE1vZGVsLCBkcmFnSW5kZXgsIGRyb3BJbmRleCBdXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBFdmVudHMoZ3JvdXA6IEdyb3VwKTogdm9pZCB7XG4gICAgaWYgKGdyb3VwLmluaXRFdmVudHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZ3JvdXAuaW5pdEV2ZW50cyA9IHRydWU7XG4gICAgY29uc3QgbmFtZSA9IGdyb3VwLm5hbWU7XG4gICAgbGV0IHRoYXQ6IGFueSA9IHRoaXM7XG4gICAgbGV0IGVtaXR0ZXIgPSAoZXZlbnQ6IEV2ZW50VHlwZXMpID0+IHtcbiAgICAgIGdyb3VwLmRyYWtlLm9uKGV2ZW50LCAoLi4uYXJnczogYW55W10pID0+IHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCQubmV4dCh7IGV2ZW50LCBuYW1lLCBhcmdzIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBBbGxFdmVudHMuZm9yRWFjaChlbWl0dGVyKTtcbiAgfVxuXG4gIHByaXZhdGUgZG9tSW5kZXhPZihjaGlsZDogYW55LCBwYXJlbnQ6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwocGFyZW50LmNoaWxkcmVuLCBjaGlsZCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQsIE91dHB1dCwgRWxlbWVudFJlZiwgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSwgU2ltcGxlQ2hhbmdlLCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERyYWd1bGFTZXJ2aWNlIH0gZnJvbSAnLi9kcmFndWxhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRHJha2VXaXRoTW9kZWxzIH0gZnJvbSAnLi4vRHJha2VXaXRoTW9kZWxzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgR3JvdXAgfSBmcm9tICcuLi9Hcm91cCc7XG5cbkBEaXJlY3RpdmUoe3NlbGVjdG9yOiAnW2RyYWd1bGFdJ30pXG5leHBvcnQgY2xhc3MgRHJhZ3VsYURpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcbiAgQElucHV0KCkgcHVibGljIGRyYWd1bGE6IHN0cmluZztcbiAgQElucHV0KCkgcHVibGljIGRyYWd1bGFNb2RlbDogYW55W107XG4gIEBPdXRwdXQoKSBwdWJsaWMgZHJhZ3VsYU1vZGVsQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnlbXT4oKTtcblxuICBwcml2YXRlIHN1YnM6IFN1YnNjcmlwdGlvbjtcblxuICBwcml2YXRlIGdldCBjb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLmVsICYmIHRoaXMuZWwubmF0aXZlRWxlbWVudDtcbiAgfVxuICBwcml2YXRlIGdyb3VwOiBHcm91cDtcblxuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSBkcmFndWxhU2VydmljZTogRHJhZ3VsYVNlcnZpY2UpIHtcbiAgfVxuXG4gIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiB7ZHJhZ3VsYT86IFNpbXBsZUNoYW5nZSwgZHJhZ3VsYU1vZGVsPzogU2ltcGxlQ2hhbmdlfSk6IHZvaWQge1xuICAgIGlmIChjaGFuZ2VzICYmIGNoYW5nZXMuZHJhZ3VsYSkge1xuICAgICAgY29uc3QgeyBwcmV2aW91c1ZhbHVlOiBwcmV2LCBjdXJyZW50VmFsdWU6IGN1cnJlbnQsIGZpcnN0Q2hhbmdlIH0gPSBjaGFuZ2VzLmRyYWd1bGE7XG4gICAgICBsZXQgaGFkUHJldmlvdXNWYWx1ZSA9ICEhcHJldjtcbiAgICAgIGxldCBoYXNOZXdWYWx1ZSA9ICEhY3VycmVudDtcbiAgICAgIC8vIHNvbWV0aGluZyAtPiBudWxsICAgICAgID0+ICB0ZWFyZG93biBvbmx5XG4gICAgICAvLyBzb21ldGhpbmcgLT4gc29tZXRoaW5nICA9PiAgdGVhcmRvd24sIHRoZW4gc2V0dXBcbiAgICAgIC8vICAgICAgbnVsbCAtPiBzb21ldGhpbmcgID0+ICBzZXR1cCBvbmx5XG4gICAgICAvL1xuICAgICAgLy8gICAgICBudWxsIC0+IG51bGwgKHByZWNsdWRlZCBieSBmYWN0IG9mIGNoYW5nZSBiZWluZyBwcmVzZW50KVxuICAgICAgaWYgKGhhZFByZXZpb3VzVmFsdWUpIHtcbiAgICAgICAgdGhpcy50ZWFyZG93bihwcmV2KTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNOZXdWYWx1ZSkge1xuICAgICAgICB0aGlzLnNldHVwKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjaGFuZ2VzICYmIGNoYW5nZXMuZHJhZ3VsYU1vZGVsKSB7XG4gICAgICAvLyB0aGlzIGNvZGUgb25seSBydW5zIHdoZW4geW91J3JlIG5vdCBjaGFuZ2luZyB0aGUgZ3JvdXAgbmFtZVxuICAgICAgLy8gYmVjYXVzZSBpZiB5b3UncmUgY2hhbmdpbmcgdGhlIGdyb3VwIG5hbWUsIHlvdSdsbCBiZSBkb2luZyBzZXR1cCBvciB0ZWFyZG93blxuICAgICAgLy8gaXQgYWxzbyBvbmx5IHJ1bnMgaWYgdGhlcmUgaXMgYSBncm91cCBuYW1lIHRvIGF0dGFjaCB0by5cbiAgICAgIGNvbnN0IHsgcHJldmlvdXNWYWx1ZTogcHJldiwgY3VycmVudFZhbHVlOiBjdXJyZW50LCBmaXJzdENoYW5nZSB9ID0gY2hhbmdlcy5kcmFndWxhTW9kZWw7XG4gICAgICBjb25zdCB7IGRyYWtlIH0gPSB0aGlzLmdyb3VwO1xuICAgICAgaWYgKHRoaXMuZHJhZ3VsYSAmJiBkcmFrZSkge1xuICAgICAgICBkcmFrZS5tb2RlbHMgPSBkcmFrZS5tb2RlbHMgfHwgW107XG4gICAgICAgIGxldCBwcmV2SW5kZXggPSBkcmFrZS5tb2RlbHMuaW5kZXhPZihwcmV2KTtcbiAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAvLyBkZWxldGUgdGhlIHByZXZpb3VzXG4gICAgICAgICAgZHJha2UubW9kZWxzLnNwbGljZShwcmV2SW5kZXgsIDEpO1xuICAgICAgICAgIC8vIG1heWJlIGluc2VydCBhIG5ldyBvbmUgYXQgdGhlIHNhbWUgc3BvdFxuICAgICAgICAgIGlmICghIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIGRyYWtlLm1vZGVscy5zcGxpY2UocHJldkluZGV4LCAwLCBjdXJyZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoISFjdXJyZW50KSB7XG4gICAgICAgICAgLy8gbm8gcHJldmlvdXMgb25lIHRvIHJlbW92ZTsganVzdCBwdXNoIHRoaXMgb25lLlxuICAgICAgICAgIGRyYWtlLm1vZGVscy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gY2FsbCBuZ09uSW5pdCAnc2V0dXAnIGJlY2F1c2Ugd2Ugd2FudCB0byBjYWxsIGl0IGluIG5nT25DaGFuZ2VzXG4gIC8vIGFuZCBpdCB3b3VsZCBvdGhlcndpc2UgcnVuIHR3aWNlXG4gIHB1YmxpYyBzZXR1cCgpOiB2b2lkIHtcbiAgICBsZXQgY2hlY2tNb2RlbCA9IChncm91cDogR3JvdXApID0+IHtcbiAgICAgIGlmICh0aGlzLmRyYWd1bGFNb2RlbCkge1xuICAgICAgICBpZiAoZ3JvdXAuZHJha2UubW9kZWxzKSB7XG4gICAgICAgICAgZ3JvdXAuZHJha2UubW9kZWxzLnB1c2godGhpcy5kcmFndWxhTW9kZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdyb3VwLmRyYWtlLm1vZGVscyA9IFt0aGlzLmRyYWd1bGFNb2RlbF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gZmluZCBvciBjcmVhdGUgYSBncm91cFxuICAgIGxldCBncm91cCA9IHRoaXMuZHJhZ3VsYVNlcnZpY2UuZmluZCh0aGlzLmRyYWd1bGEpO1xuICAgIGlmICghZ3JvdXApIHtcbiAgICAgIGxldCBvcHRpb25zID0ge307XG4gICAgICBncm91cCA9IHRoaXMuZHJhZ3VsYVNlcnZpY2UuY3JlYXRlR3JvdXAodGhpcy5kcmFndWxhLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgbW9kZWwgYW5kIGNvbnRhaW5lciBlbGVtZW50IGFyZSBwdXNoZWRcbiAgICBjaGVja01vZGVsKGdyb3VwKTtcbiAgICBncm91cC5kcmFrZS5jb250YWluZXJzLnB1c2godGhpcy5jb250YWluZXIpO1xuICAgIHRoaXMuc3Vic2NyaWJlKHRoaXMuZHJhZ3VsYSk7XG5cbiAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gIH1cblxuICBwdWJsaWMgc3Vic2NyaWJlKG5hbWU6IHN0cmluZykge1xuICAgIHRoaXMuc3VicyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICB0aGlzLnN1YnMuYWRkKFxuICAgICAgdGhpcy5kcmFndWxhU2VydmljZVxuICAgICAgLmRyb3BNb2RlbChuYW1lKVxuICAgICAgLnN1YnNjcmliZSgoeyBzb3VyY2UsIHRhcmdldCwgc291cmNlTW9kZWwsIHRhcmdldE1vZGVsIH0pID0+IHtcbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gdGhpcy5lbC5uYXRpdmVFbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5kcmFndWxhTW9kZWxDaGFuZ2UuZW1pdChzb3VyY2VNb2RlbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ID09PSB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLmRyYWd1bGFNb2RlbENoYW5nZS5lbWl0KHRhcmdldE1vZGVsKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICAgIHRoaXMuc3Vicy5hZGQoXG4gICAgICB0aGlzLmRyYWd1bGFTZXJ2aWNlXG4gICAgICAucmVtb3ZlTW9kZWwobmFtZSlcbiAgICAgIC5zdWJzY3JpYmUoKHsgc291cmNlLCBzb3VyY2VNb2RlbCB9KSA9PiB7XG4gICAgICAgIGlmIChzb3VyY2UgPT09IHRoaXMuZWwubmF0aXZlRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMuZHJhZ3VsYU1vZGVsQ2hhbmdlLmVtaXQoc291cmNlTW9kZWwpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgdGVhcmRvd24oZ3JvdXBOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdWJzKSB7XG4gICAgICB0aGlzLnN1YnMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgY29uc3QgZ3JvdXAgPSB0aGlzLmRyYWd1bGFTZXJ2aWNlLmZpbmQoZ3JvdXBOYW1lKTtcbiAgICBpZiAoZ3JvdXApIHtcbiAgICAgIGNvbnN0IGl0ZW1Ub1JlbW92ZSA9IGdyb3VwLmRyYWtlLmNvbnRhaW5lcnMuaW5kZXhPZih0aGlzLmVsLm5hdGl2ZUVsZW1lbnQpO1xuICAgICAgaWYgKGl0ZW1Ub1JlbW92ZSAhPT0gLTEpIHtcbiAgICAgICAgZ3JvdXAuZHJha2UuY29udGFpbmVycy5zcGxpY2UoaXRlbVRvUmVtb3ZlLCAxKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmRyYWd1bGFNb2RlbCAmJiBncm91cC5kcmFrZSAmJiBncm91cC5kcmFrZS5tb2RlbHMpIHtcbiAgICAgICAgbGV0IG1vZGVsSW5kZXggPSBncm91cC5kcmFrZS5tb2RlbHMuaW5kZXhPZih0aGlzLmRyYWd1bGFNb2RlbCk7XG4gICAgICAgIGlmIChtb2RlbEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGdyb3VwLmRyYWtlLm1vZGVscy5zcGxpY2UobW9kZWxJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy50ZWFyZG93bih0aGlzLmRyYWd1bGEpO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlLCBNb2R1bGVXaXRoUHJvdmlkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEcmFndWxhRGlyZWN0aXZlIH0gZnJvbSAnLi9kcmFndWxhLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBEcmFndWxhU2VydmljZSB9IGZyb20gJy4vZHJhZ3VsYS5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHtcbiAgZXhwb3J0czogW0RyYWd1bGFEaXJlY3RpdmVdLFxuICBkZWNsYXJhdGlvbnM6IFtEcmFndWxhRGlyZWN0aXZlXSxcbn0pXG5leHBvcnQgY2xhc3MgRHJhZ3VsYU1vZHVsZSB7XG4gIHN0YXRpYyBmb3JSb290KCk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogRHJhZ3VsYU1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW0RyYWd1bGFTZXJ2aWNlXVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBEcmFrZVdpdGhNb2RlbHMgfSBmcm9tICcuL0RyYWtlV2l0aE1vZGVscyc7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBFdmVudFR5cGVzIH0gZnJvbSAnLi9FdmVudFR5cGVzJztcbmltcG9ydCB7IERyYWd1bGFPcHRpb25zIH0gZnJvbSAnLi9EcmFndWxhT3B0aW9ucyc7XG5pbXBvcnQgeyBEcmFrZUZhY3RvcnkgfSBmcm9tICcuL0RyYWtlRmFjdG9yeSc7XG5cbmV4cG9ydCBjb25zdCBNb2NrRHJha2VGYWN0b3J5ID0gbmV3IERyYWtlRmFjdG9yeSgoY29udGFpbmVycywgb3B0aW9ucykgPT4ge1xuICByZXR1cm4gbmV3IE1vY2tEcmFrZShjb250YWluZXJzLCBvcHRpb25zKTtcbn0pO1xuXG4vKiogWW91IGNhbiB1c2UgTW9ja0RyYWtlIHRvIHNpbXVsYXRlIERyYWtlIGV2ZW50cy5cbiAqXG4gKiBUaGUgdGhyZWUgbWV0aG9kcyB0aGF0IGFjdHVhbGx5IGRvIGFueXRoaW5nIGFyZSBgb24oZXZlbnQsIGxpc3RlbmVyKWAsXG4gKiBgZGVzdHJveSgpYCwgYW5kIGEgbmV3IG1ldGhvZCwgYGVtaXQoKWAuIFVzZSBgZW1pdCgpYCB0byBtYW51YWxseSBlbWl0IERyYWtlXG4gKiBldmVudHMsIGFuZCBpZiB5b3UgaW5qZWN0ZWQgTW9ja0RyYWtlIHByb3Blcmx5IHdpdGggTW9ja0RyYWtlRmFjdG9yeSBvclxuICogbW9ja2VkIHRoZSBEcmFndWxhU2VydmljZS5maW5kKCkgbWV0aG9kLCB0aGVuIHlvdSBjYW4gbWFrZSBuZzItZHJhZ3VsYSB0aGlua1xuICogZHJhZ3MgYW5kIGRyb3BzIGFyZSBoYXBwZW5pbmcuXG4gKlxuICogQ2F2ZWF0czpcbiAqXG4gKiAxLiBZT1UgTVVTVCBNQUtFIFRIRSBET00gQ0hBTkdFUyBZT1VSU0VMRi5cbiAqIDIuIFJFUEVBVDogWU9VIE1VU1QgTUFLRSBUSEUgRE9NIENIQU5HRVMgWU9VUlNFTEYuXG4gKiAgICBUaGF0IG1lYW5zIGBzb3VyY2UucmVtb3ZlQ2hpbGQoZWwpYCwgYW5kIGB0YXJnZXQuaW5zZXJ0QmVmb3JlKGVsKWAuXG4gKiAzLiBOb25lIG9mIHRoZSBvdGhlciBtZXRob2RzIGRvIGFueXRoaW5nLlxuICogICAgVGhhdCdzIG9rLCBiZWNhdXNlIG5nMi1kcmFndWxhIGRvZXNuJ3QgdXNlIHRoZW0uXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2NrRHJha2UgaW1wbGVtZW50cyBEcmFrZVdpdGhNb2RlbHMge1xuICAvKipcbiAgICogQHBhcmFtIGNvbnRhaW5lcnMgQSBsaXN0IG9mIGNvbnRhaW5lciBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlc2Ugd2lsbCBOT1QgYmUgdXNlZC4gQXQgYWxsLlxuICAgKiBAcGFyYW0gbW9kZWxzIE5vbnN0YW5kYXJkLCBidXQgdXNlZnVsIGZvciB0ZXN0aW5nIHVzaW5nIGBuZXcgTW9ja0RyYWtlKClgIGRpcmVjdGx5LlxuICAgKiAgICAgICAgICAgICAgIE5vdGUsIGRlZmF1bHQgdmFsdWUgaXMgdW5kZWZpbmVkLCBsaWtlIGEgcmVhbCBEcmFrZS4gRG9uJ3QgY2hhbmdlIHRoYXQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgY29udGFpbmVyczogRWxlbWVudFtdID0gW10sXG4gICAgcHVibGljIG9wdGlvbnM6IERyYWd1bGFPcHRpb25zID0ge30sXG4gICAgcHVibGljIG1vZGVscz86IGFueVtdW11cbiAgKSB7fVxuXG4gIC8qIERvZXNuJ3QgcmVwcmVzZW50IGFueXRoaW5nIG1lYW5pbmdmdWwuICovXG4gIGRyYWdnaW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyogRG9lcyBub3RoaW5nIHVzZWZ1bC4gKi9cbiAgc3RhcnQoaXRlbTogRWxlbWVudCk6IGFueSB7XG4gICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XG4gIH1cbiAgLyogRG9lcyBub3RoaW5nIHVzZWZ1bC4gKi9cbiAgZW5kKCk6IGFueSB7XG4gICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICB9XG4gIC8qIERvZXMgbm90aGluZyB1c2VmdWwuICovXG4gIGNhbmNlbChyZXZlcnQ6IGJvb2xlYW4pOiBhbnk7XG4gIGNhbmNlbCgpOiBhbnk7XG4gIGNhbmNlbChyZXZlcnQ/OiBhbnkpIHtcbiAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG4gIH1cbiAgLyogRG9lcyBub3RoaW5nIHVzZWZ1bC4gKi9cbiAgcmVtb3ZlKCk6IGFueSB7XG4gICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICB9XG5cbiAgLy8gQmFzaWMgYnV0IGZ1bGx5IGZ1bmN0aW9uYWwgZXZlbnQgZW1pdHRlciBzaGltXG4gIHByaXZhdGUgZW1pdHRlciQgPSBuZXcgU3ViamVjdDx7IGV2ZW50VHlwZTogRXZlbnRUeXBlcywgYXJnczogYW55W10gfT4oKTtcblxuICBwcml2YXRlIHN1YnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKTogYW55IHtcbiAgICB0aGlzLnN1YnMuYWRkKHRoaXMuZW1pdHRlciRcbiAgICAgIC5waXBlKFxuICAgICAgICBmaWx0ZXIoKHsgZXZlbnRUeXBlIH0pID0+IGV2ZW50VHlwZSA9PT0gZXZlbnQpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCh7IGFyZ3MgfSkgPT4ge1xuICAgICAgICBjYWxsYmFjayguLi5hcmdzKTtcbiAgICAgIH0pKTtcbiAgfVxuXG4gIGRlc3Ryb3koKTogYW55IHtcbiAgICB0aGlzLnN1YnMudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBtb3N0IHVzZWZ1bCBtZXRob2QuIFlvdSBjYW4gdXNlIGl0IHRvIG1hbnVhbGx5IGZpcmUgZXZlbnRzIHRoYXQgd291bGQgbm9ybWFsbHlcbiAgICogYmUgZmlyZWQgYnkgYSByZWFsIGRyYWtlLlxuICAgKlxuICAgKiBZb3UncmUgbGlrZWx5IG1vc3QgaW50ZXJlc3RlZCBpbiBmaXJpbmcgYGRyYWdgLCBgcmVtb3ZlYCBhbmQgYGRyb3BgLCB0aGUgdGhyZWUgZXZlbnRzXG4gICAqIERyYWd1bGFTZXJ2aWNlIHVzZXMgdG8gaW1wbGVtZW50IFtkcmFndWxhTW9kZWxdLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2JldmFjcXVhL2RyYWd1bGEjZHJha2Vvbi1ldmVudHMgZm9yIHdoYXQgeW91IHNob3VsZCBlbWl0IChhbmQgaW4gd2hhdCBvcmRlcikuXG4gICAqXG4gICAqIChOb3RlIGFsc28sIGZpcmluZyBkcm9wTW9kZWwgYW5kIHJlbW92ZU1vZGVsIHdvbid0IHdvcmsuIFlvdSB3b3VsZCBoYXZlIHRvIG1vY2sgRHJhZ3VsYVNlcnZpY2UgZm9yIHRoYXQuKVxuICAgKi9cbiAgZW1pdChldmVudFR5cGU6IEV2ZW50VHlwZXMsIC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgdGhpcy5lbWl0dGVyJC5uZXh0KHsgZXZlbnRUeXBlLCBhcmdzIH0pXG4gIH1cblxufVxuIl19","var si = typeof setImmediate === 'function', tick;\nif (si) {\n  tick = function (fn) { setImmediate(fn); };\n} else {\n  tick = function (fn) { setTimeout(fn, 0); };\n}\n\nmodule.exports = tick;","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CalendarComponent } from './calendar/calendar.component';\r\nimport { ChatComponent } from './chat/chat.component';\r\nimport { ContactGridComponent } from './contact-grid/contact-grid.component';\r\nimport { ContactListComponent } from './contact-list/contact-list.component';\r\nimport { SupportComponent } from './support/support.component';\r\nimport { DragDropComponent } from './drag-drop/drag-drop.component';\r\nconst routes: Routes = [\r\n  {\r\n    path: 'calendar',\r\n    component: CalendarComponent\r\n  },\r\n  {\r\n    path: 'chat',\r\n    component: ChatComponent\r\n  },\r\n  {\r\n    path: 'contact-grid',\r\n    component: ContactGridComponent\r\n  },\r\n  {\r\n    path: 'contact-list',\r\n    component: ContactListComponent\r\n  },\r\n  {\r\n    path: 'support',\r\n    component: SupportComponent\r\n  },\r\n  {\r\n    path: 'dragdrop',\r\n    component: DragDropComponent\r\n  }\r\n];\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppsRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DragulaModule } from 'ng2-dragula';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { AppsRoutingModule } from './apps-routing.module';\r\nimport { CalendarComponent } from './calendar/calendar.component';\r\nimport { ChatComponent } from './chat/chat.component';\r\nimport { DragDropComponent } from './drag-drop/drag-drop.component';\r\nimport { ContactListComponent } from './contact-list/contact-list.component';\r\nimport { ContactGridComponent } from './contact-grid/contact-grid.component';\r\nimport { SupportComponent } from './support/support.component';\r\nimport { FullCalendarModule } from '@fullcalendar/angular';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatInputModule } from '@angular/material/input';\r\n@NgModule({\r\n  declarations: [\r\n    CalendarComponent,\r\n    ChatComponent,\r\n    DragDropComponent,\r\n    ContactListComponent,\r\n    ContactGridComponent,\r\n    SupportComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    AppsRoutingModule,\r\n    FullCalendarModule,\r\n    PerfectScrollbarModule,\r\n    MatButtonModule,\r\n    NgxDatatableModule,\r\n    MatTableModule,\r\n    MatPaginatorModule,\r\n    MatIconModule,\r\n    MatSelectModule,\r\n    MatCheckboxModule,\r\n    MatInputModule,\r\n    FormsModule,\r\n    DragulaModule.forRoot()\r\n  ]\r\n})\r\nexport class AppsModule {}\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { FullCalendarComponent } from '@fullcalendar/angular';\r\nimport { EventInput } from '@fullcalendar/core';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nconst d = new Date();\r\nconst date = d.getDate();\r\nconst month = d.getMonth();\r\nconst year = d.getFullYear();\r\n@Component({\r\n  selector: 'app-calendar',\r\n  templateUrl: './calendar.component.html',\r\n  styleUrls: ['./calendar.component.scss']\r\n})\r\nexport class CalendarComponent {\r\n  @ViewChild('calendar', { static: false })\r\n  calendarComponent: FullCalendarComponent; // the #calendar in the template\r\n  calendarVisible = true;\r\n  calendarPlugins = [dayGridPlugin];\r\n  calendarWeekends = true;\r\n  calendarEvents: EventInput[] = [\r\n    {\r\n      title: 'Conference',\r\n      start: new Date(year, month, date - 5, 0, 0),\r\n      end: new Date(year, month, date - 2, 0, 0),\r\n      backgroundColor: '#00FFFF'\r\n    },\r\n    {\r\n      title: 'Holiday',\r\n      start: new Date(year, month, date - 10, 9, 0),\r\n      end: new Date(year, month, date - 8, 0, 0),\r\n      backgroundColor: '#F3565D'\r\n    },\r\n    {\r\n      title: 'Repeating Event',\r\n      start: new Date(year, month, date + 5, 16, 0),\r\n      allDay: !1,\r\n      backgroundColor: '#1bbc9b'\r\n    },\r\n    {\r\n      title: 'Meeting',\r\n      start: new Date(year, month, date, 10, 30),\r\n      allDay: !1\r\n    },\r\n    {\r\n      title: 'Result Day',\r\n      start: new Date(year, month, date + 7, 19, 0),\r\n      end: new Date(year, month, date + 1, 22, 30),\r\n      backgroundColor: '#DC35A9',\r\n      allDay: !1\r\n    },\r\n    {\r\n      title: 'Click for Google',\r\n      start: new Date(year, month, 29),\r\n      end: new Date(year, month, 30),\r\n      backgroundColor: '#9b59b6',\r\n      url: 'http://google.com/'\r\n    }\r\n  ];\r\n}\r\n","<section class=\"content\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"block-header\">\r\n            <div class=\"row\">\r\n                <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                    <ul class=\"breadcrumb breadcrumb-style \">\r\n                        <li class=\"breadcrumb-item\">\r\n                            <h4 class=\"page-title\">Events</h4>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item bcrumb-1\">\r\n                            <a routerLink=\"/dashboard/main\">\r\n                                <i class=\"fas fa-home\"></i> Home</a>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item active\">Events</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"header\">\r\n                        <h2>\r\n                            <strong>Events</strong>\r\n                        </h2>\r\n                    </div>\r\n                    <div class=\"body\">\r\n                        <full-calendar #calendar defaultView=\"dayGridMonth\" [header]=\"{\r\n                          left: 'prev,next today',\r\n                          center: 'title',\r\n                          right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'\r\n                        }\" [plugins]=\"calendarPlugins\" [weekends]=\"calendarWeekends\" [events]=\"calendarEvents\">\r\n                        </full-calendar>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\n@Component({\r\n  selector: 'app-chat',\r\n  templateUrl: './chat.component.html',\r\n  styleUrls: ['./chat.component.scss']\r\n})\r\nexport class ChatComponent {\r\n  hideRequiredControl = new FormControl(false);\r\n  constructor() {}\r\n}\r\n","<section class=\"content\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"block-header\">\r\n            <div class=\"row\">\r\n                <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                    <ul class=\"breadcrumb breadcrumb-style \">\r\n                        <li class=\"breadcrumb-item\">\r\n                            <h4 class=\"page-title\">Chat</h4>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item bcrumb-1\">\r\n                            <a routerLink=\"dashboard/main\">\r\n                                <i class=\"fas fa-home\"></i> Home</a>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item bcrumb-2\">\r\n                            <a href=\"#\" onClick=\"return false;\">Apps</a>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item active\">Chat</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\r\n                <div class=\"card\">\r\n                    <div class=\"body\">\r\n                        <div id=\"plist\" class=\"people-list\">\r\n                            <div class=\"form-line m-b-15\">\r\n                                <input type=\"text\" class=\"form-control\" placeholder=\"Search...\" />\r\n                            </div>\r\n                            <div class=\"tab-content\">\r\n                                <div id=\"chat_user\" style=\"position: relative; max-height: 590px;\" [perfectScrollbar]>\r\n                                    <ul class=\"chat-list list-unstyled m-b-0\">\r\n                                        <li class=\"clearfix active\">\r\n                                            <img src=\"assets/images/user/user1.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">William Smith</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons offline\">fiber_manual_record</i>\r\n                                                    left 7 mins ago </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li class=\"clearfix \">\r\n                                            <img src=\"assets/images/user/user2.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">Martha Williams</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons offline\">fiber_manual_record</i>\r\n                                                    online </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li class=\"clearfix\">\r\n                                            <img src=\"assets/images/user/user3.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">Joseph Clark</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons online\">fiber_manual_record</i>\r\n                                                    online </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li class=\"clearfix\">\r\n                                            <img src=\"assets/images/user/user4.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">Nancy Taylor</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons online\">fiber_manual_record</i>\r\n                                                    online </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li class=\"clearfix\">\r\n                                            <img src=\"assets/images/user/user5.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">Margaret Wilson</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons online\">fiber_manual_record</i>\r\n                                                    online </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li class=\"clearfix\">\r\n                                            <img src=\"assets/images/user/user6.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">Joseph Jones</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons offline\">fiber_manual_record</i>\r\n                                                    left 30 mins ago </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li class=\"clearfix\">\r\n                                            <img src=\"assets/images/user/user7.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">Jane Brown</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons offline\">fiber_manual_record</i>\r\n                                                    left 10 hours ago </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li class=\"clearfix\">\r\n                                            <img src=\"assets/images/user/user8.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">Eliza Johnson</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons online\">fiber_manual_record</i>\r\n                                                    online </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li class=\"clearfix\">\r\n                                            <img src=\"assets/images/user/user3.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">Mike Clark</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons online\">fiber_manual_record</i>\r\n                                                    online </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li class=\"clearfix\">\r\n                                            <img src=\"assets/images/user/user4.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">Ann Henry</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons online\">fiber_manual_record</i>\r\n                                                    online </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li class=\"clearfix\">\r\n                                            <img src=\"assets/images/user/user5.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">Nancy Smith</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons online\">fiber_manual_record</i>\r\n                                                    online </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li class=\"clearfix\">\r\n                                            <img src=\"assets/images/user/user9.jpg\" alt=\"avatar\">\r\n                                            <div class=\"about\">\r\n                                                <div class=\"name\">David Wilson</div>\r\n                                                <div class=\"status\">\r\n                                                    <i class=\"material-icons offline\">fiber_manual_record</i>\r\n                                                    offline since Oct 28 </div>\r\n                                            </div>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-xs-12 col-sm-12 col-md-9 col-lg-9\">\r\n                <div class=\"card\">\r\n                    <div class=\"chat\">\r\n                        <div class=\"chat-header clearfix\">\r\n                            <img src=\"assets/images/user/user2.jpg\" alt=\"avatar\">\r\n                            <div class=\"chat-about\">\r\n                                <div class=\"chat-with\">Maria Smith</div>\r\n                                <div class=\"chat-num-messages\">2 new messages</div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"chat-history\" id=\"chat-conversation\" style=\"position: relative; max-height: 449px;\"\r\n                            [perfectScrollbar]>\r\n                            <ul>\r\n                                <li class=\"clearfix\">\r\n                                    <div class=\"message-data text-right\">\r\n                                        <span class=\"message-data-time\">10:10 AM, Today\r\n                                        </span>\r\n                                        &nbsp; &nbsp;\r\n                                        <span class=\"message-data-name\">Maria</span>\r\n                                    </div>\r\n                                    <div class=\"message other-message float-right\"> Hi Robert , how are you? How is\r\n                                        your work going on? </div>\r\n                                </li>\r\n                                <li>\r\n                                    <div class=\"message-data\">\r\n                                        <span class=\"message-data-name\">Robert </span>\r\n                                        <span class=\"message-data-time\">10:12 AM, Today</span>\r\n                                    </div>\r\n                                    <div class=\"message my-message\">\r\n                                        <p>Its good. We completed almost all task assign by our manager.</p>\r\n                                        <div class=\"row\">\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                                <li>\r\n                                    <div class=\"message-data\">\r\n                                        <span class=\"message-data-name\">Robert </span>\r\n                                        <span class=\"message-data-time\">10:12 AM, Today</span>\r\n                                    </div>\r\n                                    <div class=\"message my-message\">\r\n                                        <p>How are you feel today? What's about vacation?.</p>\r\n                                        <div class=\"row\">\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                                <li class=\"clearfix\">\r\n                                    <div class=\"message-data text-right\">\r\n                                        <span class=\"message-data-time\">10:10 AM, Today\r\n                                        </span>\r\n                                        &nbsp; &nbsp;\r\n                                        <span class=\"message-data-name\">Maria</span>\r\n                                    </div>\r\n                                    <div class=\"message other-message float-right\"> I am good, We think for next\r\n                                        weekend.\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class=\"chat-message clearfix\">\r\n                            <div class=\"form-group\">\r\n                                <div class=\"form-line\">\r\n                                    <mat-form-field class=\"example-full-width\" appearance=\"outline\"\r\n                                        [hideRequiredMarker]=\"hideRequiredControl.value\" [floatLabel]=\"false\">\r\n                                        <input matInput placeholder=\"Enter text here..\" required>\r\n                                    </mat-form-field>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"chat-upload\">\r\n                                <button mat-mini-fab class=\"bg-deep-orange mr-2\"> <i\r\n                                        class=\"material-icons\">attach_file</i></button>\r\n                                <button mat-mini-fab class=\"bg-deep-orange\"> <i\r\n                                        class=\"material-icons\">insert_emoticon</i></button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>","import { Component, OnInit } from '@angular/core';\r\n@Component({\r\n  selector: 'app-contact-grid',\r\n  templateUrl: './contact-grid.component.html',\r\n  styleUrls: ['./contact-grid.component.scss']\r\n})\r\nexport class ContactGridComponent implements OnInit {\r\n  constructor() {}\r\n  ngOnInit() {}\r\n}\r\n","<section class=\"content\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"block-header\">\r\n            <div class=\"row\">\r\n                <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                    <ul class=\"breadcrumb breadcrumb-style \">\r\n                        <li class=\"breadcrumb-item\">\r\n                            <h4 class=\"page-title\">Contact Grid</h4>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item bcrumb-1\">\r\n                            <a routerLink=\"/dashboard/main\">\r\n                                <i class=\"fas fa-home\"></i> Home</a>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item bcrumb-2\">\r\n                            <a href=\"#\" onClick=\"return false;\">Apps</a>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item active\">Contact Grid</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row clearfix\">\r\n            <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"header\">\r\n                        <div class=\"col-xs-12 col-sm-6\">\r\n                            <h2>\r\n                                <strong>Contact</strong> Grid</h2>\r\n                        </div>\r\n                        <ul class=\"header-dropdown m-r--5\">\r\n                            <li class=\"dropdown\">\r\n                                <a href=\"#\" onClick=\"return false;\" data-toggle=\"dropdown\" role=\"button\"\r\n                                    aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <i class=\"material-icons\">more_vert</i>\r\n                                </a>\r\n                                <ul class=\"dropdown-menu pull-right\">\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Another action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Something else here</a>\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header l-bg-purple-dark\">\r\n                                                <div class=\"user-name\">Pooja Patel</div>\r\n                                                <div class=\"name-center\">General Manager</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig1.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                A-103, shyam gokul flats, Mahatma Road\r\n                                                <br />Mumbai\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header bg-cyan\">\r\n                                                <div class=\"user-name\">Smita Patil</div>\r\n                                                <div class=\"name-center\">Housekeeper</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig2.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                45, Krishna Tower, Near Bus Stop, Satellite,\r\n                                                <br />Ahmedabad\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header bg-dark\">\r\n                                                <div class=\"user-name\">John Smith</div>\r\n                                                <div class=\"name-center\">Cook</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig3.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                456, Estern evenue, Courtage area,\r\n                                                <br />New York\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header l-bg-orange\">\r\n                                                <div class=\"user-name\">Pooja Patel</div>\r\n                                                <div class=\"name-center\">General Manager</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig4.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                A-103, shyam gokul flats, Mahatma Road\r\n                                                <br />Mumbai\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header bg-green\">\r\n                                                <div class=\"user-name\">Smita Patil</div>\r\n                                                <div class=\"name-center\">Housekeeper</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig5.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                45, Krishna Tower, Near Bus Stop, Satellite,\r\n                                                <br />Ahmedabad\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header l-bg-red\">\r\n                                                <div class=\"user-name\">John Smith</div>\r\n                                                <div class=\"name-center\">Cook</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig6.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                456, Estern evenue, Courtage area,\r\n                                                <br />New York\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header bg-indigo\">\r\n                                                <div class=\"user-name\">Pooja Patel</div>\r\n                                                <div class=\"name-center\">General Manager</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig7.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                A-103, shyam gokul flats, Mahatma Road\r\n                                                <br />Mumbai\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header bg-brown\">\r\n                                                <div class=\"user-name\">Smita Patil</div>\r\n                                                <div class=\"name-center\">Housekeeper</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig8.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                45, Krishna Tower, Near Bus Stop, Satellite,\r\n                                                <br />Ahmedabad\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header bg-amber\">\r\n                                                <div class=\"user-name\">John Smith</div>\r\n                                                <div class=\"name-center\">Cook</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig9.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                456, Estern evenue, Courtage area,\r\n                                                <br />New York\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header l-bg-purple-dark\">\r\n                                                <div class=\"user-name\">Pooja Patel</div>\r\n                                                <div class=\"name-center\">General Manager</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig1.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                A-103, shyam gokul flats, Mahatma Road\r\n                                                <br />Mumbai\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header bg-cyan\">\r\n                                                <div class=\"user-name\">Smita Patil</div>\r\n                                                <div class=\"name-center\">Housekeeper</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig2.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                45, Krishna Tower, Near Bus Stop, Satellite,\r\n                                                <br />Ahmedabad\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"card border-apply\">\r\n                                    <div class=\"m-b-20\">\r\n                                        <div class=\"contact-grid\">\r\n                                            <div class=\"profile-header bg-dark\">\r\n                                                <div class=\"user-name\">John Smith</div>\r\n                                                <div class=\"name-center\">Cook</div>\r\n                                            </div>\r\n                                            <img src=\"assets/images/user/usrbig3.jpg\" class=\"user-img\" alt=\"\">\r\n                                            <p>\r\n                                                456, Estern evenue, Courtage area,\r\n                                                <br />New York\r\n                                            </p>\r\n                                            <div>\r\n                                                <span class=\"phone\">\r\n                                                    <i class=\"material-icons\">phone</i>264-625-2583</span>\r\n                                            </div>\r\n                                            <div class=\"profile-userbuttons\">\r\n                                                <button mat-flat-button color=\"primary\">Read More</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nexport interface PeriodicElement {\r\n  checked: boolean;\r\n  imageUrl: string;\r\n  name: string;\r\n  phoneNo: string;\r\n  address: string;\r\n  action: string;\r\n}\r\nconst ELEMENT_DATA: PeriodicElement[] = [\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user1.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user2.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user3.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user4.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user5.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user6.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user7.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user8.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user9.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user10.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user1.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user2.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user3.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user4.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user5.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user6.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user7.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user8.jpg',\r\n    name: 'Tim Hank',\r\n    phoneNo: '123456789',\r\n    address: '70 Bowman St. South Windsor, CT 06074',\r\n    action: ''\r\n  }\r\n];\r\n@Component({\r\n  selector: 'app-contact-list',\r\n  templateUrl: './contact-list.component.html',\r\n  styleUrls: ['./contact-list.component.scss']\r\n})\r\nexport class ContactListComponent implements OnInit {\r\n  displayedColumns: string[] = [\r\n    'checked',\r\n    'imageUrl',\r\n    'name',\r\n    'phoneNo',\r\n    'address',\r\n    'action'\r\n  ];\r\n  dataSource = new MatTableDataSource<PeriodicElement>(ELEMENT_DATA);\r\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\r\n  constructor() {}\r\n  ngOnInit() {\r\n    this.dataSource.paginator = this.paginator;\r\n  }\r\n}\r\n","<section class=\"content\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"block-header\">\r\n            <div class=\"row\">\r\n                <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                    <ul class=\"breadcrumb breadcrumb-style \">\r\n                        <li class=\"breadcrumb-item\">\r\n                            <h4 class=\"page-title\">Contact List</h4>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item bcrumb-1\">\r\n                            <a routerLink=\"/dashboard/main\">\r\n                                <i class=\"fas fa-home\"></i> Home</a>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item bcrumb-2\">\r\n                            <a href=\"#\" onClick=\"return false;\">Apps</a>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item active\">Contact List</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3\">\r\n                <div class=\"card body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"contact-photo\">\r\n                            <img src=\"assets/images/usrbig.jpg\" class=\"img-responsive\" alt=\"\"> </div>\r\n                    </div>\r\n                    <div class=\"contact-usertitle\">\r\n                        <div class=\"contact-usertitle-name\"> Emily Smith </div>\r\n                        <div class=\"contact-usertitle-job\"> Engineer </div>\r\n                    </div>\r\n                    <ul class=\"list-group list-group-unbordered\">\r\n                        <li class=\"list-group-item\">\r\n                            <b>All Contacts</b>\r\n                            <a class=\"pull-right\">1,200</a>\r\n                        </li>\r\n                        <li class=\"list-group-item\">\r\n                            Friends\r\n                            <a class=\"pull-right\">450</a>\r\n                        </li>\r\n                        <li class=\"list-group-item\">\r\n                            Family\r\n                            <a class=\"pull-right\">345</a>\r\n                        </li>\r\n                        <li class=\"list-group-item\">\r\n                            Office\r\n                            <a class=\"pull-right\">172</a>\r\n                        </li>\r\n                        <li class=\"list-group-item\">\r\n                            Social\r\n                            <a class=\"pull-right\">432</a>\r\n                        </li>\r\n                    </ul>\r\n                    <div class=\"newLabelBtn\">\r\n                        <button mat-flat-button color=\"primary\">New Label</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-xs-12 col-sm-12 col-md-9 col-lg-9\">\r\n                <div class=\"card\">\r\n                    <div class=\"body\">\r\n                        <div class=\"table-responsive\">\r\n                            <table mat-table [dataSource]=\"dataSource\" class=\"w-100\">\r\n                                <ng-container matColumnDef=\"checked\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"10%\"> # </th>\r\n                                    <td mat-cell *matCellDef=\"let element\">\r\n                                        <mat-checkbox [(ngModel)]=\"element.checked\"></mat-checkbox>\r\n                                    </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"imageUrl\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"10%\"> Image </th>\r\n                                    <td mat-cell *matCellDef=\"let element\" class=\"table-img\"> <img\r\n                                            [src]=\"element.imageUrl\" /> </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"name\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"15%\"> Name </th>\r\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"phoneNo\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"15%\"> Phone </th>\r\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.phoneNo}} </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"address\">\r\n                                    <th mat-header-cell *matHeaderCellDef> Address </th>\r\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.address}} </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"action\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"15%\"> Actions </th>\r\n                                    <td mat-cell *matCellDef=\"let element\">\r\n                                        <button mat-icon-button aria-label=\"Example icon-button with a heart icon\">\r\n                                            <mat-icon>edit</mat-icon>\r\n                                        </button>\r\n                                        <button mat-icon-button aria-label=\"Example icon-button with a heart icon\">\r\n                                            <mat-icon class=\"col-orange\">delete</mat-icon>\r\n                                        </button>\r\n                                    </td>\r\n                                </ng-container>\r\n                                <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n                                <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n                            </table>\r\n                            <mat-paginator [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons>\r\n                            </mat-paginator>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>","import { Component, OnDestroy } from '@angular/core';\r\nimport { DragulaService } from 'ng2-dragula';\r\nimport { Subscription } from 'rxjs';\r\n@Component({\r\n  selector: 'app-drag-drop',\r\n  templateUrl: './drag-drop.component.html',\r\n  styleUrls: ['./drag-drop.component.scss'],\r\n})\r\nexport class DragDropComponent implements OnDestroy {\r\n  BAG = 'DRAGULA_EVENTS';\r\n  subs = new Subscription();\r\n  constructor(private dragulaService: DragulaService) {\r\n    this.dragulaService.createGroup('VAMPIRES', {});\r\n    this.dragulaService.dropModel('VAMPIRES').subscribe((args) => {\r\n      console.log(args);\r\n    });\r\n    this.subs.add(\r\n      dragulaService.drag(this.BAG).subscribe(({ el }) => {\r\n        this.removeClass(el, 'ex-moved');\r\n      })\r\n    );\r\n    this.subs.add(\r\n      dragulaService.drop(this.BAG).subscribe(({ el }) => {\r\n        this.addClass(el, 'ex-moved');\r\n      })\r\n    );\r\n    this.subs.add(\r\n      dragulaService.over(this.BAG).subscribe(({ el, container }) => {\r\n        console.log('over', container);\r\n        this.addClass(container, 'ex-over');\r\n      })\r\n    );\r\n    this.subs.add(\r\n      dragulaService.out(this.BAG).subscribe(({ el, container }) => {\r\n        console.log('out', container);\r\n        this.removeClass(container, 'ex-over');\r\n      })\r\n    );\r\n    // spill\r\n    dragulaService.createGroup('SPILL', {\r\n      removeOnSpill: true,\r\n    });\r\n    // revert\r\n    dragulaService.createGroup('REVERT', {\r\n      revertOnSpill: true,\r\n    });\r\n    dragulaService.createGroup('COPYABLE', {\r\n      copy: (el, source) => {\r\n        return source.id === 'left';\r\n      },\r\n      accepts: (el, target, source, sibling) => {\r\n        // To avoid dragging from right to left container\r\n        return target.id !== 'left';\r\n      },\r\n    });\r\n  }\r\n  ngOnDestroy() {\r\n    this.dragulaService.destroy('VAMPIRES');\r\n    this.dragulaService.destroy('SPILL');\r\n    this.dragulaService.destroy('REVERT');\r\n    this.dragulaService.destroy('COPYABLE');\r\n    this.subs.unsubscribe();\r\n  }\r\n  private hasClass(el: Element, name: string): any {\r\n    return new RegExp('(?:^|\\\\s+)' + name + '(?:\\\\s+|$)').test(el.className);\r\n  }\r\n  private addClass(el: Element, name: string): void {\r\n    if (!this.hasClass(el, name)) {\r\n      el.className = el.className ? [el.className, name].join(' ') : name;\r\n    }\r\n  }\r\n  private removeClass(el: Element, name: string): void {\r\n    if (this.hasClass(el, name)) {\r\n      el.className = el.className.replace(\r\n        new RegExp('(?:^|\\\\s+)' + name + '(?:\\\\s+|$)', 'g'),\r\n        ''\r\n      );\r\n    }\r\n  }\r\n}\r\n","<section class=\"content\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"block-header\">\r\n            <div class=\"row\">\r\n                <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                    <ul class=\"breadcrumb breadcrumb-style \">\r\n                        <li class=\"breadcrumb-item\">\r\n                            <h4 class=\"page-title\">Drag &amp; Drop</h4>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item bcrumb-1\">\r\n                            <a routerLink=\"/dashboard/main\">\r\n                                <i class=\"fas fa-home\"></i> Home</a>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item bcrumb-2\">\r\n                            <a href=\"#\" onClick=\"return false;\">Apps</a>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item active\">Drag & Drop</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row clearfix\">\r\n            <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"header\">\r\n                        <h2><strong>Basic</strong> Drag &amp; Drop</h2>\r\n                        <ul class=\"header-dropdown m-r--5\">\r\n                            <li class=\"dropdown\">\r\n                                <a href=\"#\" onClick=\"return false;\" data-toggle=\"dropdown\" role=\"button\"\r\n                                    aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <i class=\"material-icons\">more_vert</i>\r\n                                </a>\r\n                                <ul class=\"dropdown-menu pull-right\">\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Another action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Something else here</a>\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"body\">\r\n                        <div class=\"alert alert-info\">\r\n                            Move stuff between these two containers. Note how the stuff gets inserted near the mouse\r\n                            pointer? Great stuff.\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n                                <div class=\"board\">\r\n                                    <div class=\"cards\" id=\"left\">\r\n                                        <div class=\"container\" dragula=\"VAMPIRES\">\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user5.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\"> User\r\n                                                    card #1</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user6.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #2</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user7.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #3</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user8.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #4</span></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n                                <div class=\"board\">\r\n                                    <div class=\"cards\" id=\"right\">\r\n                                        <div class=\"container\" dragula=\"VAMPIRES\">\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user1.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #7</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user2.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #8</span></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row clearfix\">\r\n            <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"header\">\r\n                        <h2><strong>Drag</strong> &amp; Drop Events</h2>\r\n                        <ul class=\"header-dropdown m-r--5\">\r\n                            <li class=\"dropdown\">\r\n                                <a href=\"#\" onClick=\"return false;\" data-toggle=\"dropdown\" role=\"button\"\r\n                                    aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <i class=\"material-icons\">more_vert</i>\r\n                                </a>\r\n                                <ul class=\"dropdown-menu pull-right\">\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Another action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Something else here</a>\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"body\">\r\n                        <div class=\"alert alert-info\" style=\"width: 100%\">\r\n                            There are plenty of events along the lifetime of a drag event. <a\r\n                                href=\"https://github.com/bevacqua/dragula#drakeon-events\">all\r\n                                of them</a> in the docs!\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n                                <div class=\"board\">\r\n                                    <div class=\"cards\" id=\"left\">\r\n                                        <div class=\"container\" dragula=\"DRAGULA_EVENTS\">\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user5.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\"> User\r\n                                                    card #1</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user6.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #2</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user7.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #3</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user8.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #4</span></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n                                <div class=\"board\">\r\n                                    <div class=\"cards\" id=\"right\">\r\n                                        <div class=\"container\" dragula=\"DRAGULA_EVENTS\">\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user3.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #5</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user4.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #6</span></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row clearfix\">\r\n            <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"header\">\r\n                        <h2><strong>Spill</strong></h2>\r\n                        <ul class=\"header-dropdown m-r--5\">\r\n                            <li class=\"dropdown\">\r\n                                <a href=\"#\" onClick=\"return false;\" data-toggle=\"dropdown\" role=\"button\"\r\n                                    aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <i class=\"material-icons\">more_vert</i>\r\n                                </a>\r\n                                <ul class=\"dropdown-menu pull-right\">\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Another action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Something else here</a>\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"body\">\r\n                        <div class=\"alert alert-info\">\r\n                            Need to be able to quickly delete stuff when it spills out of the chosen containers?\r\n                            Note how you can easily sort the items in any containers by just dragging and dropping.\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n                                <div class=\"board\">\r\n                                    <div class=\"cards\" id=\"right\">\r\n                                        <div class='container' dragula=\"SPILL\">\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user5.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\"> User\r\n                                                    card #1</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user6.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #2</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user7.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #3</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user8.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #4</span></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row clearfix\">\r\n            <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"header\">\r\n                        <h2><strong>Revert</strong></h2>\r\n                        <ul class=\"header-dropdown m-r--5\">\r\n                            <li class=\"dropdown\">\r\n                                <a href=\"#\" onClick=\"return false;\" data-toggle=\"dropdown\" role=\"button\"\r\n                                    aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <i class=\"material-icons\">more_vert</i>\r\n                                </a>\r\n                                <ul class=\"dropdown-menu pull-right\">\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Another action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Something else here</a>\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"body\">\r\n                        <div class=\"alert alert-info\">\r\n                            By default, dropping an element outside of any known containers will keep the element in\r\n                            the last place it went over. You can make elements go back to origin if they're dropped\r\n                            outside of known containers, too.\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n                                <div class=\"board\">\r\n                                    <div class=\"cards\" id=\"left\">\r\n                                        <div class=\"container\" dragula=\"REVERT\">\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user5.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\"> User\r\n                                                    card #1</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user6.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #2</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user7.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #3</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user8.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #4</span></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n                                <div class=\"board\">\r\n                                    <div class=\"cards\" id=\"right\">\r\n                                        <div class=\"container\" dragula=\"REVERT\">\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user3.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #5</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user4.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #6</span></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row clearfix\">\r\n            <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"header\">\r\n                        <h2><strong>Revert</strong></h2>\r\n                        <ul class=\"header-dropdown m-r--5\">\r\n                            <li class=\"dropdown\">\r\n                                <a href=\"#\" onClick=\"return false;\" data-toggle=\"dropdown\" role=\"button\"\r\n                                    aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <i class=\"material-icons\">more_vert</i>\r\n                                </a>\r\n                                <ul class=\"dropdown-menu pull-right\">\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Another action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Something else here</a>\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"body\">\r\n                        <div class=\"alert alert-info\">\r\n                            Copying Elements from left side to right side made it easy for you.\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n                                <div class=\"board\">\r\n                                    <div class=\"cards\" id=\"left\">\r\n                                        <div class='container' dragula=\"COPYABLE\" id=\"left\">\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user5.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\"> User\r\n                                                    card #1</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user6.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #2</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user7.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #3</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user8.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #4</span></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n                                <div class=\"board\">\r\n                                    <div class=\"cards\" id=\"right\">\r\n                                        <div class='container' dragula=\"COPYABLE\" id=\"right\">\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user3.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #5</span></div>\r\n                                            <div class=\"drop-card\"><span class=\"table-img msg-user\">\r\n                                                    <img src=\"assets/images/user/user4.jpg\" alt=\"\">\r\n                                                </span><span class=\"cardtitle noselect\">User\r\n                                                    card #6</span></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nexport interface PeriodicElement {\r\n  checked: boolean;\r\n  imageUrl: string;\r\n  name: string;\r\n  email: string;\r\n  subject: string;\r\n  status: string;\r\n  assignTo: string;\r\n  date: string;\r\n  action: string;\r\n}\r\ndeclare const $: any;\r\nconst ELEMENT_DATA: PeriodicElement[] = [\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user1.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'closed',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user2.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'closed',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user3.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'open',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user4.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'closed',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user5.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'open',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user6.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'closed',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user7.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'open',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user8.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'pending',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user9.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'closed',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user10.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'closed',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user1.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'open',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user2.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'closed',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user3.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'pending',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user4.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'closed',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user5.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'closed',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user6.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'pending',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user7.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'closed',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  },\r\n  {\r\n    checked: false,\r\n    imageUrl: 'assets/images/user/user8.jpg',\r\n    name: 'Tim Hank',\r\n    email: 'test@example.com',\r\n    subject: 'Image not Proper',\r\n    status: 'closed',\r\n    assignTo: 'John Deo',\r\n    date: '27/05/2016',\r\n    action: ''\r\n  }\r\n];\r\n@Component({\r\n  selector: 'app-support',\r\n  templateUrl: './support.component.html',\r\n  styleUrls: ['./support.component.scss']\r\n})\r\nexport class SupportComponent implements OnInit {\r\n  displayedColumns: string[] = [\r\n    'checked',\r\n    'imageUrl',\r\n    'name',\r\n    'email',\r\n    'subject',\r\n    'status',\r\n    'assignTo',\r\n    'date',\r\n    'action'\r\n  ];\r\n  dataSource = new MatTableDataSource<PeriodicElement>(ELEMENT_DATA);\r\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\r\n  constructor() {}\r\n  ngOnInit() {\r\n    this.dataSource.paginator = this.paginator;\r\n    $('.chart.chart-bar').sparkline(undefined, {\r\n      type: 'bar',\r\n      barColor: '#fff',\r\n      negBarColor: '#fff',\r\n      barWidth: '4px',\r\n      height: '45px'\r\n    });\r\n    // Chart Pie\r\n    $('.chart.chart-pie').sparkline(undefined, {\r\n      type: 'pie',\r\n      height: '45px',\r\n      sliceColors: [\r\n        'rgba(255,255,255,0.70)',\r\n        'rgba(255,255,255,0.85)',\r\n        'rgba(255,255,255,0.95)',\r\n        'rgba(255,255,255,1)'\r\n      ]\r\n    });\r\n    // Chart Line\r\n    $('.chart.chart-line').sparkline(undefined, {\r\n      type: 'line',\r\n      width: '60px',\r\n      height: '45px',\r\n      lineColor: '#fff',\r\n      lineWidth: 1.3,\r\n      fillColor: 'rgba(0,0,0,0)',\r\n      spotColor: 'rgba(255,255,255,0.40)',\r\n      maxSpotColor: 'rgba(255,255,255,0.40)',\r\n      minSpotColor: 'rgba(255,255,255,0.40)',\r\n      spotRadius: 3,\r\n      highlightSpotColor: '#fff'\r\n    });\r\n  }\r\n}\r\n","<section class=\"content\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"block-header\">\r\n            <div class=\"row\">\r\n                <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                    <ul class=\"breadcrumb breadcrumb-style \">\r\n                        <li class=\"breadcrumb-item\">\r\n                            <h4 class=\"page-title\">Support</h4>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item bcrumb-1\">\r\n                            <a routerLink=\"/dashboard/main\">\r\n                                <i class=\"fas fa-home\"></i> Home</a>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item bcrumb-2\">\r\n                            <a href=\"#\" onClick=\"return false;\">Apps</a>\r\n                        </li>\r\n                        <li class=\"breadcrumb-item active\">Support</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-12 col-md-12 col-sm-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"header\">\r\n                        <h2>\r\n                            <strong>Support</strong> Tickets\r\n                        </h2>\r\n                        <ul class=\"header-dropdown m-r--5\">\r\n                            <li class=\"dropdown\">\r\n                                <a href=\"#\" onClick=\"return false;\" data-toggle=\"dropdown\" role=\"button\"\r\n                                    aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <i class=\"material-icons\">more_vert</i>\r\n                                </a>\r\n                                <ul class=\"dropdown-menu pull-right\">\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Another action</a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a href=\"#\" onClick=\"return false;\">Something else here</a>\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-3 col-sm-6\">\r\n                                <div class=\"support-box text-center l-bg-red\">\r\n                                    <div class=\"icon m-b-10\">\r\n                                        <div class=\"chart chart-bar\">6,4,8,6,8,10,5,6,7,9,5,6,4,8,6,8,10,5,6,7,9,5</div>\r\n                                    </div>\r\n                                    <div class=\"text m-b-10\">Total Ticket</div>\r\n                                    <h3 class=\"m-b-0\">1512\r\n                                        <i class=\"material-icons\">trending_up</i>\r\n                                    </h3>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3 col-sm-6\">\r\n                                <div class=\"support-box text-center l-bg-cyan\">\r\n                                    <div class=\"icon m-b-10\">\r\n                                        <span class=\"chart chart-line\">9,4,6,5,6,4,7,3</span>\r\n                                    </div>\r\n                                    <div class=\"text m-b-10\">Reply</div>\r\n                                    <h3 class=\"m-b-0\">1236\r\n                                        <i class=\"material-icons\">trending_up</i>\r\n                                    </h3>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3 col-sm-6\">\r\n                                <div class=\"support-box text-center l-bg-orange\">\r\n                                    <div class=\"icon m-b-10\">\r\n                                        <div class=\"chart chart-pie\">30, 35, 25, 8</div>\r\n                                    </div>\r\n                                    <div class=\"text m-b-10\">Resolve</div>\r\n                                    <h3 class=\"m-b-0\">1107\r\n                                        <i class=\"material-icons\">trending_down</i>\r\n                                    </h3>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3 col-sm-6\">\r\n                                <div class=\"support-box text-center bg-green\">\r\n                                    <div class=\"icon m-b-10\">\r\n                                        <div class=\"chart chart-bar\">\r\n                                            4,6,-3,-1,2,-2,4,3,6,7,-2,3,4,6,-3,-1,2,-2,4,3,6,7,-2,3</div>\r\n                                    </div>\r\n                                    <div class=\"text m-b-10\">Pending</div>\r\n                                    <h3 class=\"m-b-0\">167\r\n                                        <i class=\"material-icons\">trending_down</i>\r\n                                    </h3>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"table-responsive\">\r\n                            <table mat-table [dataSource]=\"dataSource\" class=\"w-100\">\r\n                                <ng-container matColumnDef=\"checked\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"10%\"> # </th>\r\n                                    <td mat-cell *matCellDef=\"let element\">\r\n                                        <mat-checkbox [(ngModel)]=\"element.checked\"></mat-checkbox>\r\n                                    </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"imageUrl\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"8%\"> User </th>\r\n                                    <td mat-cell *matCellDef=\"let element\" class=\"table-img\"> <img\r\n                                            [src]=\"element.imageUrl\" /> </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"name\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"10%\"> Opened By </th>\r\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"email\">\r\n                                    <th mat-header-cell *matHeaderCellDef> Email </th>\r\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.email}} </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"subject\">\r\n                                    <th mat-header-cell *matHeaderCellDef> Subject </th>\r\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.subject}} </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"status\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"8%\"> Status </th>\r\n                                    <td mat-cell *matCellDef=\"let element\">\r\n                                        <div class=\"badge\"> {{element.status}}</div>\r\n                                    </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"assignTo\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"10%\"> Assign To </th>\r\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.assignTo}} </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"date\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"10%\"> Date </th>\r\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.date}} </td>\r\n                                </ng-container>\r\n                                <ng-container matColumnDef=\"action\">\r\n                                    <th mat-header-cell *matHeaderCellDef width=\"15%\"> Actions </th>\r\n                                    <td mat-cell *matCellDef=\"let element\">\r\n                                        <button mat-icon-button class=\"btn-tbl-edit\">\r\n                                            <mat-icon>edit</mat-icon>\r\n                                        </button>\r\n                                        <button mat-icon-button class=\"btn-tbl-delete\">\r\n                                            <mat-icon>delete</mat-icon>\r\n                                        </button>\r\n                                    </td>\r\n                                </ng-container>\r\n                                <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n                                <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n                            </table>\r\n                            <mat-paginator [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons>\r\n                            </mat-paginator>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>"]}